<!DOCTYPE html> <html lang="zh-CN"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>TaskArchitect - 校园门户系统项目管理看板</title> <style>
        * { margin: 0; padding: 0; box-sizing: border-box;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            min-height: 100vh; color: #333;
        }
        .container { max-width: 1600px; margin: 0 auto; padding: 20px;
        }
        .header { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border-radius: 15px; padding: 25px; margin-bottom: 
            20px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        .header h1 { font-size: 2.2rem; background: linear-gradient(135deg, #667eea, #764ba2); -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; margin-bottom: 10px;
        }
        .project-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 15px;
        }
        .stat-item { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 12px; border-radius: 10px; 
            text-align: center; font-size: 0.9rem;
        }
        .stat-item .number { font-size: 1.4rem; font-weight: bold; display: block;
        }
        .dashboard-tabs { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border-radius: 15px; margin-bottom: 20px; 
            overflow: hidden; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        .tab-buttons { display: flex; border-bottom: 1px solid #e0e0e0;
        }
        .tab-button { flex: 1; padding: 15px 20px; background: none; border: none; cursor: pointer; font-size: 1rem; font-weight: 500; 
            transition: all 0.3s ease; color: #666;
        }
        .tab-button.active { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white;
        }
        .tab-content { display: none; padding: 0;
        }
        .tab-content.active { display: block;
        }
        /* 甘特图样式 */ .gantt-container { background: white; overflow-x: auto; overflow-y: hidden;
        }
        .gantt-header { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 1px solid #e0e0e0;
        }
        .gantt-controls { display: flex; gap: 10px; align-items: center;
        }
        .gantt-control { padding: 8px 15px; border: 1px solid #ddd; border-radius: 5px; background: white; cursor: pointer; font-size: 
            0.9rem;
        }
        .gantt-chart { position: relative; min-height: 600px;
        }
        .gantt-timeline { display: flex; background: #f8f9fa; border-bottom: 2px solid #dee2e6; position: sticky; top: 0; z-index: 10;
        }
        .gantt-task-labels { width: 300px; background: #f8f9fa; border-right: 2px solid #dee2e6; padding: 10px 0;
        }
        .gantt-timeline-header { flex: 1; display: grid; grid-template-columns: repeat(43, 90px); min-width: 3870px; gap: 0;
        }
        .timeline-day { padding: 8px 2px; text-align: center; border-right: 1px solid #dee2e6; font-size: 0.75rem; font-weight: 500; 
            line-height: 1; height: 50px; display: flex; align-items: center; justify-content: center; white-space: nowrap; overflow: hidden; 
            min-width: 90px; max-width: 90px;
        }
        .timeline-day.weekend { background: #ffe6e6;
        }
        .timeline-day.today { background: #e3f2fd; color: #1976d2; font-weight: bold;
        }
        .date-main { font-weight: 600; margin-bottom: 2px;
        }
        .date-weekday { font-size: 0.65rem; opacity: 0.8;
        }
        .gantt-body { display: flex; position: relative;
        }
        .gantt-tasks { width: 300px; background: white; border-right: 2px solid #dee2e6;
        }
        .gantt-bars { flex: 1; position: relative; display: grid; grid-template-columns: repeat(43, 90px); min-width: 3870px; gap: 0; 
            background: repeating-linear-gradient(
                to right, transparent, transparent 90px,
                #f0f0f0 90px, f0f0f0 91px
            );
        }
        .task-row { height: 60px; border-bottom: 1px solid #e0e0e0; display: flex; align-items: center; padding: 0 15px; cursor: pointer; 
            transition: background 0.2s;
        }
        .task-row:hover { background: #f5f5f5;
        }
        .task-info { display: flex; flex-direction: column; width: 100%;
        }
        .task-name { font-weight: 600; font-size: 0.95rem; color: #333; margin-bottom: 4px; overflow: hidden; text-overflow: ellipsis; 
            white-space: nowrap;
        }
        .task-meta { font-size: 0.8rem; color: #666; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
        }
        .gantt-bar { position: absolute; height: 35px; border-radius: 18px; display: flex; align-items: center; padding: 0 12px; font-size: 
            0.8rem; font-weight: 500; color: white; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
            overflow: hidden; text-overflow: ellipsis; white-space: nowrap; min-width: 120px;
        }
        .gantt-bar:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.2); z-index: 10;
        }
        .gantt-bar.completed { background: linear-gradient(135deg, #28a745, #20c997);
        }
        .gantt-bar.in-progress { background: linear-gradient(135deg, #ffc107, #fd7e14);
        }
        .gantt-bar.pending { background: linear-gradient(135deg, #6c757d, #495057);
        }
        .gantt-bar.critical { background: linear-gradient(135deg, #dc3545, #e83e8c); animation: pulse 2s infinite;
        }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; }
        }
        .gantt-bar .progress-fill { position: absolute; left: 0; top: 0; height: 100%; background: rgba(255,255,255,0.3); border-radius: 
            15px; transition: width 0.3s ease;
        }
        .dependency-line { position: absolute; height: 2px; background: #007bff; z-index: 5;
        }
        .dependency-arrow { position: absolute; right: -5px; top: -3px; width: 0; height: 0; border-left: 5px solid #007bff; border-top: 3px 
            solid transparent; border-bottom: 3px solid transparent;
        }
        /* 任务详情样式 */ .tasks-detail { padding: 20px;
        }
        .task-filters { display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;
        }
        .filter-group { display: flex; flex-direction: column; gap: 5px;
        }
        .filter-group label { font-size: 0.85rem; color: #666; font-weight: 500;
        }
        .filter-select, .filter-input { padding: 8px 12px; border: 1px solid #ddd; border-radius: 5px; font-size: 0.9rem;
        }
        .tasks-grid { display: grid; gap: 15px;
        }
        .task-card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border-left: 4px solid 
            #4facfe;
            transition: all 0.3s ease;
        }
        .task-card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .task-card.completed { border-left-color: #28a745; background: linear-gradient(135deg, #f8fff9 0%, #e8f5e8 100%);
        }
        .task-card.critical { border-left-color: #dc3545; background: linear-gradient(135deg, #fff8f8 0%, #ffe6e6 100%);
        }
        .task-header { display: flex; justify-content: between; align-items: flex-start; margin-bottom: 15px;
        }
        .task-title { font-size: 1.1rem; font-weight: 600; color: #333; margin-bottom: 5px; flex: 1;
        }
        .task-priority { padding: 4px 10px; border-radius: 12px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase;
        }
        .priority-critical { background: #dc3545; color: white;
        }
        .priority-high { background: #ffc107; color: #333;
        }
        .priority-medium { background: #17a2b8; color: white;
        }
        .priority-low { background: #28a745; color: white;
        }
        .task-description { color: #666; font-size: 0.9rem; line-height: 1.5; margin-bottom: 15px;
        }
        .task-details { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 15px;
        }
        .detail-item { background: #f8f9fa; padding: 12px; border-radius: 8px;
        }
        .detail-label { font-size: 0.8rem; color: #666; font-weight: 500; margin-bottom: 5px;
        }
        .detail-value { font-size: 0.9rem; color: #333; font-weight: 600;
        }
        .subtasks { margin-top: 15px;
        }
        .subtasks-title { font-size: 0.9rem; font-weight: 600; color: #333; margin-bottom: 10px;
        }
        .subtask-item { display: flex; align-items: center; padding: 8px 0; border-bottom: 1px solid #f0f0f0; font-size: 0.85rem;
        }
        .subtask-item:last-child { border-bottom: none;
        }
        .subtask-checkbox { margin-right: 10px;
        }
        .subtask-duration { margin-left: auto; color: #666; font-size: 0.8rem;
        }
        .progress-info { display: flex; justify-content: between; align-items: center; margin-top: 15px;
        }
        .progress-bar { flex: 1; height: 8px; background: #e9ecef; border-radius: 4px; overflow: hidden; margin: 0 15px;
        }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%); border-radius: 4px; transition: width 
            0.3s ease;
        }
        .progress-text { font-size: 0.85rem; font-weight: 600; color: #333;
        }
        /* 统计面板样式 */ .stats-panel { padding: 20px;
        }
        .stats-overview { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;
        }
        .stat-card { background: white; border-radius: 12px; padding: 20px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .stat-number { font-size: 2.5rem; font-weight: bold; background: linear-gradient(135deg, #667eea, #764ba2); -webkit-background-clip: 
            text; -webkit-text-fill-color: transparent; margin-bottom: 5px;
        }
        .stat-label { color: #666; font-size: 1rem; margin-bottom: 10px;
        }
        .stat-change { font-size: 0.85rem; padding: 4px 8px; border-radius: 12px;
        }
        .stat-change.positive { background: #e8f5e8; color: #28a745;
        }
        .stat-change.negative { background: #ffe6e6; color: #dc3545;
        }
        /* 响应式设计 */ @media (max-width: 1400px) { .gantt-timeline-header { grid-template-columns: repeat(43, 85px); min-width: 3655px;
            }
            
            .gantt-bars { grid-template-columns: repeat(43, 85px); min-width: 3655px; background: repeating-linear-gradient( to right, 
                    transparent, transparent 85px,
                    #f0f0f0 85px, f0f0f0 86px
                );
            }
            
            .timeline-day { font-size: 0.7rem; padding: 6px 2px; min-width: 85px; max-width: 85px;
            }
        }
        @media (max-width: 1200px) { .gantt-timeline-header { grid-template-columns: repeat(43, 80px); min-width: 3440px;
            }
            
            .gantt-bars { grid-template-columns: repeat(43, 80px); min-width: 3440px; background: repeating-linear-gradient( to right, 
                    transparent, transparent 80px,
                    #f0f0f0 80px, f0f0f0 81px
                );
            }
            
            .timeline-day { font-size: 0.65rem; padding: 4px 1px; min-width: 80px; max-width: 80px;
            }
        }
        @media (max-width: 768px) { .container { padding: 10px;
            }
            
            .gantt-tasks, .gantt-task-labels { width: 280px;
            }
            
            .gantt-timeline-header { grid-template-columns: repeat(43, 70px); min-width: 3010px;
            }
            
            .gantt-bars { grid-template-columns: repeat(43, 70px); min-width: 3010px; background: repeating-linear-gradient( to right, 
                    transparent, transparent 70px,
                    #f0f0f0 70px, f0f0f0 71px
                );
            }
            
            .task-details { grid-template-columns: 1fr;
            }
            
            .task-filters { flex-direction: column; gap: 10px;
            }
            
            .header h1 { font-size: 1.8rem;
            }
            
            .timeline-day { font-size: 0.6rem; padding: 3px 1px; min-width: 70px; max-width: 70px;
            }
            
            .task-name { font-size: 0.85rem;
            }
            
            .task-meta { font-size: 0.75rem;
            }
        }
        /* 模态框样式 */ .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: 
            rgba(0,0,0,0.5); backdrop-filter: blur(5px);
        }
        .modal-content { background: white; margin: 5% auto; padding: 30px; border-radius: 15px; width: 90%; max-width: 800px; max-height: 
            80vh; overflow-y: auto; position: relative; animation: modalSlideIn 0.3s ease-out;
        }
        @keyframes modalSlideIn { from { opacity: 0; transform: translateY(-50px);
            }
            to { opacity: 1; transform: translateY(0);
            }
        }
        .modal-close { position: absolute; right: 20px; top: 20px; font-size: 1.5rem; cursor: pointer; color: #666;
        }
        .modal-close:hover { color: #333;
        }
        /* 加载动画 */ .loading { display: flex; justify-content: center; align-items: center; height: 200px;
        }
        .loading-spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #4facfe; border-radius: 50%; 
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); }
        }
    </style> </head> <body> <div class="container"> <!-- 项目头部 --> <div class="header"> <h1>🎯 哈尔滨信息工程学院校园门户系统</h1> <p 
            class="subtitle">TaskArchitect项目管理计划 - 专业进度看板</p>
            
            <div class="project-stats"> <div class="stat-item"> <span class="number">40%</span> 当前完成度 </div> <div class="stat-item"> 
                    <span class="number">40天</span> 剩余工期
                </div> <div class="stat-item"> <span class="number">4</span> 已完成任务 </div> <div class="stat-item"> <span 
                    class="number">8</span> 待开发任务
                </div> <div class="stat-item"> <span class="number">Linux</span> 开发环境 </div> <div class="stat-item"> <span 
                    class="number">Sunli</span> 项目负责人
                </div> </div> </div> <!-- 仪表板选项卡 --> <div class="dashboard-tabs"> <div class="tab-buttons"> <button class="tab-button 
                active" data-tab="gantt">📊 甘特图</button> <button class="tab-button" data-tab="tasks">📋 任务详情</button> <button 
                class="tab-button" data-tab="stats">📈 项目统计</button> <button class="tab-button" data-tab="risks">⚠️ 风险管理</button>
            </div> <!-- 甘特图标签页 --> <div class="tab-content active" id="gantt"> <div class="gantt-container"> <div class="gantt-header"> 
                        <h2>📊 项目甘特图</h2> <div class="gantt-controls">
                            <select class="gantt-control" id="viewMode"> <option value="day">日视图</option> <option 
                                value="week">周视图</option> <option value="month">月视图</option>
                            </select> <button class="gantt-control" onclick="toggleCriticalPath()">关键路径</button> <button 
                            class="gantt-control" onclick="exportGantt()">导出</button>
                        </div> </div>
                    
                    <div class="gantt-chart"> <div class="gantt-timeline"> <div class="gantt-task-labels"> <div style="padding: 15px; 
                                font-weight: 600; color: #333;">任务名称</div>
                            </div> <div class="gantt-timeline-header" id="timelineHeader"> <!-- 时间轴将通过JavaScript生成 --> </div> </div>
                        
                        <div class="gantt-body"> <div class="gantt-tasks" id="ganttTasks"> <!-- 任务列表将通过JavaScript生成 --> </div> <div 
                            class="gantt-bars" id="ganttBars">
                                <!-- 甘特条将通过JavaScript生成 --> </div> </div> </div> </div> </div> <!-- 任务详情标签页 --> <div 
            class="tab-content" id="tasks">
                <div class="tasks-detail"> <div class="task-filters"> <div class="filter-group"> <label>状态筛选</label> <select 
                            class="filter-select" id="statusFilter">
                                <option value="all">全部状态</option> <option value="completed">已完成</option> <option 
                                value="in-progress">进行中</option> <option value="pending">待开始</option>
                            </select> </div> <div class="filter-group"> <label>优先级筛选</label> <select class="filter-select" 
                            id="priorityFilter">
                                <option value="all">全部优先级</option> <option value="critical">极高优先级</option> <option 
                                value="high">高优先级</option> <option value="medium">中等优先级</option> <option 
                                value="low">低优先级</option>
                            </select> </div> <div class="filter-group"> <label>搜索任务</label> <input type="text" class="filter-input" 
                            id="searchInput" placeholder="搜索任务名称或描述...">
                        </div> </div>
                    
                    <div class="tasks-grid" id="tasksGrid"> <!-- 任务卡片将通过JavaScript生成 --> </div> </div> </div> <!-- 项目统计标签页 
            --> <div class="tab-content" id="stats">
                <div class="stats-panel"> <div class="stats-overview"> <div class="stat-card"> <div class="stat-number">40%</div> <div 
                            class="stat-label">项目完成度</div> <div class="stat-change positive">基础建设完成</div>
                        </div> <div class="stat-card"> <div class="stat-number">18</div> <div class="stat-label">已完成API</div> <div 
                            class="stat-change positive">+8 本周新增</div>
                        </div> <div class="stat-card"> <div class="stat-number">13</div> <div class="stat-label">数据库表</div> <div 
                            class="stat-change positive">基础建设完成</div>
                        </div> <div class="stat-card"> <div class="stat-number">95%</div> <div class="stat-label">代码覆盖率</div> <div 
                            class="stat-change positive">企业级标准</div>
                        </div> </div>
                    
                    <div id="statsCharts"> <!-- 统计图表将通过JavaScript生成 --> </div> </div> </div> <!-- 风险管理标签页 --> <div 
            class="tab-content" id="risks">
                <div class="stats-panel"> <h2>⚠️ 项目风险评估</h2> <div id="riskMatrix"> <!-- 风险矩阵将通过JavaScript生成 --> </div> </div> 
            </div>
        </div> </div> <!-- 任务详情模态框 --> <div id="taskModal" class="modal"> <div class="modal-content"> <span 
            class="modal-close">&times;</span> <div id="modalContent">
                <!-- 模态框内容将通过JavaScript生成 --> </div> </div> </div> <script>
        // 项目数据
        const projectData = {
            // 已完成的任务
            completedTasks: [ { id: 'T01-T11', name: '基础系统建设', description: '双重认证体系、智能通知工作台、权限矩阵系统、数据基础建设', 
                    startDate: '2025-08-07', endDate: '2025-08-13', duration: 7, progress: 100, priority: 'high', status: 'completed', 
                    assignee: 'Sunli', phase: 'Phase 0', subtasks: [
                        { name: '双重认证体系搭建', duration: '2天', completed: true }, { name: '智能通知工作台开发', duration: '2天', 
                        completed: true }, { name: '权限矩阵系统实现', duration: '2天', completed: true }, { name: '24条真实通知数据录入', 
                        duration: '1天', completed: true }
                    ], dependencies: [], risks: '低风险 - 基础功能开发', deliverables: '完整的用户认证和通知系统'
                },
                { id: 'T12', name: '天气数据缓存系统', description: 'Vue架构解耦、企业级后端服务、和风天气API集成、智能缓存机制', startDate: 
                    '2025-08-14', endDate: '2025-08-14', duration: 1, progress: 100, priority: 'medium', status: 'completed', assignee: 
                    'Sunli', phase: 'Phase 0', subtasks: [
                        { name: 'Vue架构重构(减少243行代码)', duration: '4小时', completed: true }, { name: 'TempWeatherController.java开发', 
                        duration: '2小时', completed: true }, { name: '和风天气API集成', duration: '1小时', completed: true }, { name: 
                        '30分钟缓存机制实现', duration: '1小时', completed: true }
                    ], dependencies: ['T01-T11'], risks: '低风险 - API集成', deliverables: '30分钟自动刷新的天气服务'
                },
                { id: 'T13', name: '待办通知系统', description: 'Level 5通知类型、优先级指示器、前后端完整集成、Pinia状态管理', startDate: 
                    '2025-08-15', endDate: '2025-08-15', duration: 1, progress: 100, priority: 'high', status: 'completed', assignee: 
                    'Sunli', phase: 'Phase 0', subtasks: [
                        { name: 'Level 5通知类型扩展', duration: '2小时', completed: true }, { name: 'TempTodoController.java(685行)', 
                        duration: '4小时', completed: true }, { name: '5个核心API接口开发', duration: '3小时', completed: true }, { name: 
                        'Pinia状态管理集成', duration: '2小时', completed: true }
                    ], dependencies: ['T12'], risks: '低风险 - 功能扩展', deliverables: '完整的待办任务管理系统'
                },
                { id: 'T17', name: '系统公告显示功能修复', description: '前端响应式依赖修复、角色识别逻辑优化、权限过滤完善', startDate: 
                    '2025-08-17', endDate: '2025-08-17', duration: 1, progress: 100, priority: 'medium', status: 'completed', assignee: 
                    'Sunli', phase: 'Phase 0', subtasks: [
                        { name: '前端响应式依赖修复', duration: '2小时', completed: true }, { name: 'SYSTEM_ADMIN角色区分', duration: 
                        '1小时', completed: true }, { name: '后端权限过滤优化', duration: '1小时', completed: true }, { name: 'UI显示优化', 
                        duration: '1小时', completed: true }
                    ], dependencies: ['T13'], risks: '低风险 - Bug修复', deliverables: '优化的系统公告显示功能'
                }
            ],
            
            // 待开发的任务
            pendingTasks: [ { id: 'T18', name: 'API全面测试验证', description: 'Linux迁移后必须验证所有API接口，确保系统稳定性和可靠性', 
                    startDate: '2025-08-19', endDate: '2025-08-21', duration: 3, progress: 0, priority: 'critical', status: 'pending', 
                    assignee: 'Sunli', phase: 'Phase 1', subtasks: [
                        { name: 'Linux环境基础验证', duration: '0.5天', completed: false }, { name: '核心API功能测试', duration: '1天', 
                        completed: false }, { name: '性能压力测试', duration: '0.5天', completed: false }, { name: '安全性测试', duration: 
                        '0.5天', completed: false }, { name: '集成测试和回归验证', duration: '0.5天', completed: false }
                    ], dependencies: [], risks: '中等风险 - Linux环境适应和平台差异', deliverables: 'API测试覆盖率>95%，完整测试报告'
                },
                { id: 'T19', name: '归档通知Bug修复', description: '修复归档通知重新登录后被标记为未读状态的Bug，确保用户体验一致性', 
                    startDate: '2025-08-19', endDate: '2025-08-20', duration: 1.25, progress: 0, priority: 'high', status: 'pending', 
                    assignee: 'Sunli', phase: 'Phase 1', subtasks: [
                        { name: 'Bug分析和定位', duration: '0.25天', completed: false }, { name: '数据持久化方案设计', duration: '0.25天', 
                        completed: false }, { name: 'Bug修复实现', duration: '0.5天', completed: false }, { name: '测试验证和QA', duration: 
                        '0.25天', completed: false }
                    ], dependencies: [], risks: '低风险 - 前端逻辑修复', deliverables: '归档通知状态100%准确，用户体验优化'
                },
                { id: 'T20', name: '通知可见范围逻辑完善', description: '完善通知系统的可见范围逻辑，确保6种角色权限矩阵精确实现', startDate: 
                    '2025-08-22', endDate: '2025-08-24', duration: 3, progress: 0, priority: 'high', status: 'pending', assignee: 'Sunli', 
                    phase: 'Phase 2', subtasks: [
                        { name: '权限矩阵逻辑设计', duration: '0.5天', completed: false }, { name: '权限逻辑实现', duration: '1天', 
                        completed: false }, { name: '前端权限可见性实现', duration: '0.75天', completed: false }, { name: '权限测试验证', 
                        duration: '0.75天', completed: false }
                    ], dependencies: ['T18'], risks: '中等风险 - 依赖数据库权限逻辑', deliverables: '6种角色权限验证100%准确'
                },
                { id: 'T12.5', name: 'Mock School API适配器开发', description: '开发适配器实现学校真实API与系统JWT认证的无缝集成', startDate: 
                    '2025-08-25', endDate: '2025-08-25', duration: 1, progress: 0, priority: 'medium', status: 'pending', assignee: 'Sunli', 
                    phase: 'Phase 2', subtasks: [
                        { name: '数据库表结构扩展', duration: '0.5小时', completed: false }, { name: '适配器接口开发', duration: '2-3小时', 
                        completed: false }, { name: '前端认证流程适配', duration: '1小时', completed: false }, { name: '测试验证', duration: 
                        '1小时', completed: false }
                    ], dependencies: ['T20'], risks: '中等风险 - 外部API集成', deliverables: '26个真实测试账号验证通过'
                },
                { id: 'T16', name: '归档通知UI优化', description: '优化首页通知消息卡片的已读归档提醒功能，提升用户体验', startDate: 
                    '2025-08-26', endDate: '2025-08-27', duration: 2, progress: 0, priority: 'medium', status: 'pending', assignee: 'Sunli', 
                    phase: 'Phase 2', subtasks: [
                        { name: '已读状态视觉提升', duration: '0.5天', completed: false }, { name: '归档区域功能增强', duration: '0.5天', 
                        completed: false }, { name: '交互体验优化', duration: '0.5天', completed: false }, { name: '高级功能实现', duration: 
                        '0.5天', completed: false }
                    ], dependencies: ['T19'], risks: '低风险 - 纯前端UI优化', deliverables: '用户体验评分达到9.5/10'
                },
                { id: 'T21', name: '课程表组件化拆分', description: '将课程表单独拆分成独立组件，等待学校真实API调用格式后进行完整开发', 
                    startDate: '2025-08-28', endDate: '2025-08-31', duration: 4, progress: 0, priority: 'medium', status: 'pending', 
                    assignee: 'Sunli', phase: 'Phase 4', subtasks: [
                        { name: '学校真实API分析', duration: '0.5天', completed: false }, { name: '课程表组件设计', duration: '0.75天', 
                        completed: false }, { name: '组件拆分实现', duration: '1.5天', completed: false }, { name: 'Mock数据测试', duration: 
                        '0.75天', completed: false }, { name: '真实API准备工作', duration: '0.5天', completed: false }
                    ], dependencies: ['T12.5'], risks: '高风险 - 依赖学校真实API分析', deliverables: '独立的课程表组件系统'
                },
                { id: 'T14', name: '后台管理系统开发', description: '🔥 项目完整性关键缺失 - 开发完整的后台管理系统，解决实用性致命缺陷', 
                    startDate: '2025-09-01', endDate: '2025-09-18', duration: 18, progress: 0, priority: 'critical', status: 'pending', 
                    assignee: 'Sunli', phase: 'Phase 3', subtasks: [
                        { name: '用户管理模块开发', duration: '3天', completed: false }, { name: '角色权限管理模块', duration: '3天', 
                        completed: false }, { name: '通知管理高级功能', duration: '2.5天', completed: false }, { name: '系统配置管理模块', 
                        duration: '2.5天', completed: false }, { name: '数据统计分析模块', duration: '3天', completed: false }, { name: 
                        '审计日志模块', duration: '2天', completed: false }, { name: '系统监控模块', duration: '2天', completed: false }, { 
                        name: '集成测试和优化', duration: '2天', completed: false }
                    ], dependencies: ['T20'], risks: '高风险 - 工作量大，涉及安全性', deliverables: '完整的后台管理平台'
                }
            ]
        };
        // 初始化应用
        document.addEventListener('DOMContentLoaded', function() { initializeTabs(); initializeGanttChart(); initializeTasksView(); 
            initializeModal(); initializeFilters();
        });
        // 标签页功能
        function initializeTabs() { const tabButtons = document.querySelectorAll('.tab-button'); const tabContents = 
            document.querySelectorAll('.tab-content'); tabButtons.forEach(button => {
                button.addEventListener('click', () => { const targetTab = button.getAttribute('data-tab');
                    
                    // 移除所有活跃状态
                    tabButtons.forEach(btn => btn.classList.remove('active')); tabContents.forEach(content => 
                    content.classList.remove('active'));
                    
                    // 激活选中的标签页
                    button.classList.add('active'); document.getElementById(targetTab).classList.add('active');
                    
                    // 根据标签页重新渲染内容
                    switch(targetTab) { case 'gantt': renderGanttChart(); break; case 'tasks': renderTasksView(); break; case 'stats': 
                            renderStatsView(); break;
                        case 'risks': renderRisksView(); break;
                    }
                });
            });
        }
        // 甘特图初始化
        function initializeGanttChart() { renderGanttChart();
        }
        // 渲染甘特图
        function renderGanttChart() { const allTasks = [...projectData.completedTasks, ...projectData.pendingTasks];
            
            // 生成时间轴
            renderTimeline();
            
            // 生成任务列表
            renderTasksList(allTasks);
            
            // 生成甘特条
            renderGanttBars(allTasks);
            
            // 添加依赖关系线
            renderDependencies(allTasks);
        }
        // 生成时间轴
        function renderTimeline() { const timelineHeader = document.getElementById('timelineHeader'); const startDate = new 
            Date('2025-08-07'); const endDate = new Date('2025-09-18'); // 缩短时间范围，只显示项目相关日期
            
            timelineHeader.innerHTML = '';
            
            const currentDate = new Date(startDate); while (currentDate <= endDate) { const dayDiv = document.createElement('div'); 
                dayDiv.className = 'timeline-day';
                
                // 判断是否为周末
                if (currentDate.getDay() === 0 || currentDate.getDay() === 6) { dayDiv.classList.add('weekend');
                }
                
                // 判断是否为今天
                const today = new Date(); if (currentDate.toDateString() === today.toDateString()) { dayDiv.classList.add('today');
                }
                
                // 单行日期格式，避免歧义
                const month = currentDate.getMonth() + 1; const day = currentDate.getDate(); const weekdays = 
                ['日','一','二','三','四','五','六']; const weekday = weekdays[currentDate.getDay()];
                
                // 确保单行显示
                dayDiv.textContent = `${month}/${day}(${weekday})`; dayDiv.title = `${currentDate.getFullYear()}年${month}月${day}日 
                星期${weekday}`;
                
                timelineHeader.appendChild(dayDiv); currentDate.setDate(currentDate.getDate() + 1);
            }
        }
        // 生成任务列表
        function renderTasksList(tasks) { const tasksContainer = document.getElementById('ganttTasks'); tasksContainer.innerHTML = '';
            
            tasks.forEach(task => { const taskRow = document.createElement('div'); taskRow.className = 'task-row'; taskRow.onclick = () => 
                showTaskModal(task);
                
                taskRow.innerHTML = ` <div class="task-info"> <div class="task-name">${task.name}</div> <div class="task-meta"> 
                            ${task.duration}天 | ${task.assignee} | ${task.priority.toUpperCase()}
                        </div> </div> `;
                
                tasksContainer.appendChild(taskRow);
            });
        }
        // 生成甘特条
        function renderGanttBars(tasks) { const barsContainer = document.getElementById('ganttBars'); barsContainer.innerHTML = '';
            
            const startDate = new Date('2025-08-07');
            
            tasks.forEach((task, index) => { const taskStart = new Date(task.startDate); const taskEnd = new Date(task.endDate);
                
                // 计算位置 - 使用90px列宽
                const startOffset = Math.floor((taskStart - startDate) / (1000 * 60 * 60 * 24)); const duration = Math.floor((taskEnd - 
                taskStart) / (1000 * 60 * 60 * 24)) + 1;
                
                const ganttBar = document.createElement('div'); ganttBar.className = `gantt-bar ${task.status}`; if (task.priority === 
                'critical') {
                    ganttBar.classList.add('critical');
                }
                
                ganttBar.style.left = `${startOffset * 90}px`; ganttBar.style.width = `${Math.max(duration * 90, 120)}px`; // 最小宽度120px 
                ganttBar.style.top = `${index * 60 + 12}px`; // 调整垂直位置
                
                // 优化文字显示
                const taskName = task.name.length > 12 ? task.name.substring(0, 12) + '...' : task.name;
                
                ganttBar.innerHTML = ` <div class="progress-fill" style="width: ${task.progress}%"></div> <span style="position: relative; 
                    z-index: 2; font-size: 0.75rem;">${taskName} (${task.progress}%)</span>
                `;
                
                ganttBar.onclick = () => showTaskModal(task); ganttBar.title = `${task.name} - ${task.startDate} 至 ${task.endDate}`;
                
                barsContainer.appendChild(ganttBar);
            });
        }
        // 渲染依赖关系
        function renderDependencies(tasks) { tasks.forEach(task => { if (task.dependencies && task.dependencies.length > 0) { 
                    task.dependencies.forEach(depId => {
                        const depTask = tasks.find(t => t.id === depId); if (depTask) {
                            // 创建依赖线 (简化实现)
                            console.log(`依赖关系: ${depTask.name} -> ${task.name}`);
                        }
                    });
                }
            });
        }
        // 任务视图初始化
        function initializeTasksView() { renderTasksView();
        }
        // 渲染任务视图
        function renderTasksView() { const tasksGrid = document.getElementById('tasksGrid'); const allTasks = [...projectData.completedTasks, 
            ...projectData.pendingTasks];
            
            tasksGrid.innerHTML = '';
            
            allTasks.forEach(task => { const taskCard = createTaskCard(task); tasksGrid.appendChild(taskCard);
            });
        }
        // 创建任务卡片
        function createTaskCard(task) { const taskCard = document.createElement('div'); taskCard.className = `task-card ${task.status}`; if 
            (task.priority === 'critical') {
                taskCard.classList.add('critical');
            }
            
            taskCard.innerHTML = ` <div class="task-header"> <div> <div class="task-title">${task.name}</div> <div class="task-priority 
                        priority-${task.priority}">${getPriorityText(task.priority)}</div>
                    </div> </div>
                
                <div class="task-description">${task.description}</div>
                
                <div class="task-details"> <div class="detail-item"> <div class="detail-label">开始日期</div> <div 
                        class="detail-value">${task.startDate}</div>
                    </div> <div class="detail-item"> <div class="detail-label">结束日期</div> <div class="detail-value">${task.endDate}</div> 
                    </div> <div class="detail-item">
                        <div class="detail-label">工期</div> <div class="detail-value">${task.duration}天</div> </div> <div 
                    class="detail-item">
                        <div class="detail-label">负责人</div> <div class="detail-value">${task.assignee}</div> </div> <div 
                    class="detail-item">
                        <div class="detail-label">阶段</div> <div class="detail-value">${task.phase}</div> </div> <div class="detail-item"> 
                        <div class="detail-label">风险评估</div> <div class="detail-value">${task.risks}</div>
                    </div> </div>
                
                <div class="subtasks"> <div class="subtasks-title">📋 子任务 (${task.subtasks.length}项)</div> ${task.subtasks.map(subtask => 
                    `
                        <div class="subtask-item"> <input type="checkbox" class="subtask-checkbox" ${subtask.completed ? 'checked' : ''} 
                            disabled> <span>${subtask.name}</span> <span class="subtask-duration">${subtask.duration}</span>
                        </div> `).join('')} </div>
                
                <div class="progress-info"> <span class="progress-text">${task.progress}%</span> <div class="progress-bar"> <div 
                        class="progress-fill" style="width: ${task.progress}%"></div>
                    </div> <span class="progress-text">${task.status === 'completed' ? '已完成' : task.status === 'in-progress' ? '进行中' : 
                    '待开始'}</span>
                </div> `;
            
            taskCard.onclick = () => showTaskModal(task);
            
            return taskCard;
        }
        // 获取优先级文本
        function getPriorityText(priority) { const priorityMap = { 'critical': '极高优先级', 'high': '高优先级', 'medium': '中等优先级', 
                'low': '低优先级'
            };
            return priorityMap[priority] || priority;
        }
        // 模态框功能
        function initializeModal() { const modal = document.getElementById('taskModal'); const closeBtn = 
            document.querySelector('.modal-close');
            
            closeBtn.onclick = () => { modal.style.display = 'none';
            };
            
            window.onclick = (event) => { if (event.target === modal) { modal.style.display = 'none';
                }
            };
        }
        // 显示任务详情模态框
        function showTaskModal(task) { const modal = document.getElementById('taskModal'); const modalContent = 
            document.getElementById('modalContent');
            
            modalContent.innerHTML = ` <h2>📋 ${task.name}</h2> <div style="margin-bottom: 20px;"> <span class="task-priority 
                    priority-${task.priority}">${getPriorityText(task.priority)}</span> <span style="margin-left: 10px; color: #666;">状态: 
                    ${task.status === 'completed' ? '✅ 已完成' : task.status === 'in-progress' ? '🔄 进行中' : '⏳ 待开始'}</span>
                </div>
                
                <div style="margin-bottom: 20px;"> <h3>📝 任务描述</h3> <p style="color: #666; line-height: 1.6;">${task.description}</p> 
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;"> 
                    <div class="detail-item">
                        <div class="detail-label">📅 开始日期</div> <div class="detail-value">${task.startDate}</div> </div> <div 
                    class="detail-item">
                        <div class="detail-label">📅 结束日期</div> <div class="detail-value">${task.endDate}</div> </div> <div 
                    class="detail-item">
                        <div class="detail-label">⏱️ 工期</div> <div class="detail-value">${task.duration}天</div> </div> <div 
                    class="detail-item">
                        <div class="detail-label">👤 负责人</div> <div class="detail-value">${task.assignee}</div> </div> <div 
                    class="detail-item">
                        <div class="detail-label">📊 阶段</div> <div class="detail-value">${task.phase}</div> </div> <div 
                    class="detail-item">
                        <div class="detail-label">⚠️ 风险评估</div> <div class="detail-value">${task.risks}</div> </div> </div>
                
                <div style="margin-bottom: 20px;"> <h3>🎯 预期交付成果</h3> <p style="color: #666; line-height: 
                    1.6;">${task.deliverables}</p>
                </div>
                
                <div style="margin-bottom: 20px;"> <h3>📋 详细子任务</h3> <div style="background: #f8f9fa; padding: 15px; border-radius: 
                    8px;">
                        ${task.subtasks.map(subtask => ` <div style="display: flex; align-items: center; padding: 8px 0; border-bottom: 1px 
                            solid #e0e0e0;">
                                <input type="checkbox" ${subtask.completed ? 'checked' : ''} disabled style="margin-right: 10px;"> <span 
                                style="flex: 1;">${subtask.name}</span> <span style="color: #666; font-size: 
                                0.9rem;">${subtask.duration}</span>
                            </div> `).join('')} </div> </div>
                
                ${task.dependencies && task.dependencies.length > 0 ? ` <div style="margin-bottom: 20px;"> <h3>🔗 依赖关系</h3> <p 
                    style="color: #666;">依赖任务: ${task.dependencies.join(', ')}</p>
                </div> ` : ''}
                
                <div style="margin-top: 20px;"> <h3>📈 进度状况</h3> <div class="progress-info"> <span 
                        class="progress-text">${task.progress}%</span> <div class="progress-bar">
                            <div class="progress-fill" style="width: ${task.progress}%"></div> </div> <span 
                        class="progress-text">${task.status === 'completed' ? '已完成' : task.status === 'in-progress' ? '进行中' : 
                        '待开始'}</span>
                    </div> </div> `;
            
            modal.style.display = 'block';
        }
        // 筛选器功能
        function initializeFilters() { const statusFilter = document.getElementById('statusFilter'); const priorityFilter = 
            document.getElementById('priorityFilter'); const searchInput = document.getElementById('searchInput');
            
            statusFilter.addEventListener('change', filterTasks); priorityFilter.addEventListener('change', filterTasks); 
            searchInput.addEventListener('input', filterTasks);
        }
        // 筛选任务
        function filterTasks() { const statusFilter = document.getElementById('statusFilter').value; const priorityFilter = 
            document.getElementById('priorityFilter').value; const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            const allTasks = [...projectData.completedTasks, ...projectData.pendingTasks];
            
            const filteredTasks = allTasks.filter(task => { const statusMatch = statusFilter === 'all' || task.status === statusFilter; const 
                priorityMatch = priorityFilter === 'all' || task.priority === priorityFilter; const searchMatch = searchTerm === '' ||
                    task.name.toLowerCase().includes(searchTerm) || task.description.toLowerCase().includes(searchTerm);
                
                return statusMatch && priorityMatch && searchMatch;
            });
            
            // 重新渲染筛选后的任务
            const tasksGrid = document.getElementById('tasksGrid'); tasksGrid.innerHTML = '';
            
            filteredTasks.forEach(task => { const taskCard = createTaskCard(task); tasksGrid.appendChild(taskCard);
            });
        }
        // 渲染统计视图
        function renderStatsView() { const statsCharts = document.getElementById('statsCharts'); statsCharts.innerHTML = ` <!-- 
                项目概览仪表板 --> <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; 
                margin-bottom: 30px;">
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>🎯 
                        任务完成率分析</h3> <div style="margin: 20px 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;"> 
                                <span>基础系统建设</span> <span style="font-weight: bold; color: #28a745;">100%</span>
                            </div> <div style="background: #e9ecef; height: 8px; border-radius: 4px; overflow: hidden;"> <div style="width: 
                                100%; height: 100%; background: #28a745; border-radius: 4px;"></div>
                            </div> </div> <div style="margin: 20px 0;"> <div style="display: flex; justify-content: space-between; 
                            align-items: center; margin-bottom: 10px;">
                                <span>核心功能开发</span> <span style="font-weight: bold; color: #ffc107;">65%</span> </div> <div 
                            style="background: #e9ecef; height: 8px; border-radius: 4px; overflow: hidden;">
                                <div style="width: 65%; height: 100%; background: #ffc107; border-radius: 4px;"></div> </div> </div> <div 
                        style="margin: 20px 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;"> 
                                <span>API开发进度</span> <span style="font-weight: bold; color: #17a2b8;">45%</span>
                            </div> <div style="background: #e9ecef; height: 8px; border-radius: 4px; overflow: hidden;"> <div style="width: 
                                45%; height: 100%; background: #17a2b8; border-radius: 4px;"></div>
                            </div> </div> <div style="margin: 20px 0;"> <div style="display: flex; justify-content: space-between; 
                            align-items: center; margin-bottom: 10px;">
                                <span>后台管理系统</span> <span style="font-weight: bold; color: #dc3545;">0%</span> </div> <div 
                            style="background: #e9ecef; height: 8px; border-radius: 4px; overflow: hidden;">
                                <div style="width: 0%; height: 100%; background: #dc3545; border-radius: 4px;"></div> </div> </div> </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>💻 
                        技术栈实现进度</h3> <div style="margin: 15px 0;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;"> <span style="display: flex; 
                                align-items: center;"><span style="color: #4FC08D; margin-right: 8px;">●</span>Vue 3 前端</span> <span 
                                style="font-weight: bold;">85%</span>
                            </div> <div style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;"> <div style="width: 
                                85%; height: 100%; background: #4FC08D; border-radius: 3px;"></div>
                            </div> </div> <div style="margin: 15px 0;"> <div style="display: flex; justify-content: space-between; 
                            margin-bottom: 8px;">
                                <span style="display: flex; align-items: center;"><span style="color: #6DB33F; margin-right: 
                                8px;">●</span>Spring Boot</span> <span style="font-weight: bold;">70%</span>
                            </div> <div style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;"> <div style="width: 
                                70%; height: 100%; background: #6DB33F; border-radius: 3px;"></div>
                            </div> </div> <div style="margin: 15px 0;"> <div style="display: flex; justify-content: space-between; 
                            margin-bottom: 8px;">
                                <span style="display: flex; align-items: center;"><span style="color: #336791; margin-right: 
                                8px;">●</span>MySQL数据库</span> <span style="font-weight: bold;">60%</span>
                            </div> <div style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;"> <div style="width: 
                                60%; height: 100%; background: #336791; border-radius: 3px;"></div>
                            </div> </div> <div style="margin: 15px 0;"> <div style="display: flex; justify-content: space-between; 
                            margin-bottom: 8px;">
                                <span style="display: flex; align-items: center;"><span style="color: #FF6B6B; margin-right: 
                                8px;">●</span>JWT认证</span> <span style="font-weight: bold;">90%</span>
                            </div> <div style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;"> <div style="width: 
                                90%; height: 100%; background: #FF6B6B; border-radius: 3px;"></div>
                            </div> </div> <div style="margin: 15px 0;"> <div style="display: flex; justify-content: space-between; 
                            margin-bottom: 8px;">
                                <span style="display: flex; align-items: center;"><span style="color: #FFA500; margin-right: 
                                8px;">●</span>Linux部署</span> <span style="font-weight: bold;">95%</span>
                            </div> <div style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;"> <div style="width: 
                                95%; height: 100%; background: #FFA500; border-radius: 3px;"></div>
                            </div> </div> </div> </div>
                
                <!-- 详细数据分析 --> <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; 
                margin-bottom: 30px;">
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>⏱️ 
                        工时分布分析</h3> <div style="margin: 20px 0;">
                            <canvas id="workHoursChart" style="max-height: 250px;"></canvas> </div> <div style="display: grid; 
                        grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                            <div style="text-align: center; padding: 10px; background: #f8f9fa; border-radius: 8px;"> <div style="font-size: 
                                1.5rem; font-weight: bold; color: #28a745;">160小时</div> <div style="font-size: 0.9rem; color: 
                                #666;">已投入工时</div>
                            </div> <div style="text-align: center; padding: 10px; background: #f8f9fa; border-radius: 8px;"> <div 
                                style="font-size: 1.5rem; font-weight: bold; color: #ffc107;">240小时</div> <div style="font-size: 0.9rem; 
                                color: #666;">预计总工时</div>
                            </div> </div> </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>🏆 
                        里程碑进度</h3> <div style="margin: 20px 0;">
                            <div style="margin-bottom: 20px;"> <div style="display: flex; justify-content: space-between; align-items: 
                                center; margin-bottom: 8px;">
                                    <span style="font-weight: 600;">Phase 0: 基础建设</span> <span style="color: #28a745; font-weight: 
                                    bold;">✅ 100%</span>
                                </div> <div style="font-size: 0.85rem; color: #666; margin-bottom: 5px;"> 用户认证、通知系统、数据基础 </div> 
                                <div style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;">
                                    <div style="width: 100%; height: 100%; background: #28a745; border-radius: 3px;"></div> </div> </div>
                            
                            <div style="margin-bottom: 20px;"> <div style="display: flex; justify-content: space-between; align-items: 
                                center; margin-bottom: 8px;">
                                    <span style="font-weight: 600;">Phase 1: 系统稳定性</span> <span style="color: #ffc107; font-weight: 
                                    bold;">🔄 20%</span>
                                </div> <div style="font-size: 0.85rem; color: #666; margin-bottom: 5px;"> API测试、Bug修复、Linux优化 </div> 
                                <div style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;">
                                    <div style="width: 20%; height: 100%; background: #ffc107; border-radius: 3px;"></div> </div> </div>
                            
                            <div style="margin-bottom: 20px;"> <div style="display: flex; justify-content: space-between; align-items: 
                                center; margin-bottom: 8px;">
                                    <span style="font-weight: 600;">Phase 2: 核心完善</span> <span style="color: #dc3545; font-weight: 
                                    bold;">⏳ 0%</span>
                                </div> <div style="font-size: 0.85rem; color: #666; margin-bottom: 5px;"> 权限逻辑、API集成、UI优化 </div> 
                                <div style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;">
                                    <div style="width: 0%; height: 100%; background: #dc3545; border-radius: 3px;"></div> </div> </div>
                            
                            <div style="margin-bottom: 20px;"> <div style="display: flex; justify-content: space-between; align-items: 
                                center; margin-bottom: 8px;">
                                    <span style="font-weight: 600;">Phase 3: 后台管理</span> <span style="color: #6c757d; font-weight: 
                                    bold;">⏸️ 0%</span>
                                </div> <div style="font-size: 0.85rem; color: #666; margin-bottom: 5px;"> 管理系统、数据分析、监控审计 </div> 
                                <div style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;">
                                    <div style="width: 0%; height: 100%; background: #6c757d; border-radius: 3px;"></div> </div> </div> 
                        </div>
                    </div> </div>
                
                <!-- 质量指标和风险分析 --> <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 
                20px; margin-bottom: 30px;">
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>📊 
                        代码质量指标</h3> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                            <div style="text-align: center;"> <div style="position: relative; width: 120px; height: 120px; margin: 0 auto;"> 
                                    <div style="width: 120px; height: 120px; border: 8px solid #e9ecef; border-radius: 50%; position: 
                                    relative;">
                                        <div style="width: 120px; height: 120px; border: 8px solid transparent; border-top: 8px solid 
                                        #28a745; border-radius: 50%; position: absolute; top: -8px; left: -8px; transform: 
                                        rotate(270deg);"></div> <div style="position: absolute; top: 50%; left: 50%; transform: 
                                        translate(-50%, -50%); font-size: 1.2rem; font-weight: bold;">95%</div>
                                    </div> </div> <div style="margin-top: 10px; font-weight: 600;">测试覆盖率</div> </div> <div 
                            style="text-align: center;">
                                <div style="position: relative; width: 120px; height: 120px; margin: 0 auto;"> <div style="width: 120px; 
                                    height: 120px; border: 8px solid #e9ecef; border-radius: 50%; position: relative;">
                                        <div style="width: 120px; height: 120px; border: 8px solid transparent; border-top: 8px solid 
                                        #17a2b8; border-radius: 50%; position: absolute; top: -8px; left: -8px; transform: 
                                        rotate(216deg);"></div> <div style="position: absolute; top: 50%; left: 50%; transform: 
                                        translate(-50%, -50%); font-size: 1.2rem; font-weight: bold;">60%</div>
                                    </div> </div> <div style="margin-top: 10px; font-weight: 600;">代码复用率</div> </div> </div> <div 
                        style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 20px;">
                            <div style="text-align: center; padding: 10px; background: #f8f9fa; border-radius: 8px;"> <div style="font-size: 
                                1.3rem; font-weight: bold; color: #28a745;">0</div> <div style="font-size: 0.8rem; color: 
                                #666;">严重Bug</div>
                            </div> <div style="text-align: center; padding: 10px; background: #f8f9fa; border-radius: 8px;"> <div 
                                style="font-size: 1.3rem; font-weight: bold; color: #ffc107;">2</div> <div style="font-size: 0.8rem; color: 
                                #666;">待修复</div>
                            </div> <div style="text-align: center; padding: 10px; background: #f8f9fa; border-radius: 8px;"> <div 
                                style="font-size: 1.3rem; font-weight: bold; color: #17a2b8;">15</div> <div style="font-size: 0.8rem; color: 
                                #666;">API接口</div>
                            </div> </div> </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>⚠️ 
                        风险评估统计</h3> <div style="margin: 20px 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;"> <div 
                                style="display: flex; align-items: center;">
                                    <span style="display: inline-block; width: 12px; height: 12px; background: #dc3545; border-radius: 50%; 
                                    margin-right: 10px;"></span> <span>高风险任务</span>
                                </div> <span style="font-weight: bold;">2个 (17%)</span> </div> <div style="background: #e9ecef; height: 8px; 
                            border-radius: 4px; overflow: hidden; margin-bottom: 20px;">
                                <div style="width: 17%; height: 100%; background: #dc3545; border-radius: 4px;"></div> </div>
                            
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;"> <div 
                                style="display: flex; align-items: center;">
                                    <span style="display: inline-block; width: 12px; height: 12px; background: #ffc107; border-radius: 50%; 
                                    margin-right: 10px;"></span> <span>中等风险任务</span>
                                </div> <span style="font-weight: bold;">3个 (25%)</span> </div> <div style="background: #e9ecef; height: 8px; 
                            border-radius: 4px; overflow: hidden; margin-bottom: 20px;">
                                <div style="width: 25%; height: 100%; background: #ffc107; border-radius: 4px;"></div> </div>
                            
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;"> <div 
                                style="display: flex; align-items: center;">
                                    <span style="display: inline-block; width: 12px; height: 12px; background: #28a745; border-radius: 50%; 
                                    margin-right: 10px;"></span> <span>低风险任务</span>
                                </div> <span style="font-weight: bold;">7个 (58%)</span> </div> <div style="background: #e9ecef; height: 8px; 
                            border-radius: 4px; overflow: hidden; margin-bottom: 20px;">
                                <div style="width: 58%; height: 100%; background: #28a745; border-radius: 4px;"></div> </div> </div>
                        
                        <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 15px; margin-top: 20px;"> 
                            <div style="font-weight: 600; color: #856404; margin-bottom: 5px;">⚡ 风险预警</div> <div style="font-size: 
                            0.9rem; color: #856404;">
                                T14后台管理系统工作量较大，建议提前启动关键模块原型验证 </div> </div> </div> </div>
                
                <!-- API开发进度和团队效率 --> <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 
                20px;">
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>🔌 
                        API开发进度详情</h3> <div style="margin: 20px 0;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;"> <span>用户认证API</span> <span 
                                style="color: #28a745; font-weight: bold;">✅ 5/5</span>
                            </div> <div style="display: flex; justify-content: space-between; margin-bottom: 10px;"> <span>通知管理API</span> 
                                <span style="color: #28a745; font-weight: bold;">✅ 8/8</span>
                            </div> <div style="display: flex; justify-content: space-between; margin-bottom: 10px;"> <span>天气服务API</span> 
                                <span style="color: #28a745; font-weight: bold;">✅ 2/2</span>
                            </div> <div style="display: flex; justify-content: space-between; margin-bottom: 10px;"> <span>待办管理API</span> 
                                <span style="color: #ffc107; font-weight: bold;">🔄 3/5</span>
                            </div> <div style="display: flex; justify-content: space-between; margin-bottom: 10px;"> <span>用户管理API</span> 
                                <span style="color: #dc3545; font-weight: bold;">❌ 0/12</span>
                            </div> <div style="display: flex; justify-content: space-between; margin-bottom: 10px;"> <span>权限管理API</span> 
                                <span style="color: #dc3545; font-weight: bold;">❌ 0/8</span>
                            </div> <div style="display: flex; justify-content: space-between; margin-bottom: 10px;"> <span>数据统计API</span> 
                                <span style="color: #dc3545; font-weight: bold;">❌ 0/15</span>
                            </div> </div> <div style="border-top: 1px solid #e9ecef; padding-top: 15px; margin-top: 15px;"> <div 
                            style="display: flex; justify-content: space-between; font-weight: bold;">
                                <span>总进度</span> <span style="color: #17a2b8;">18/55 (33%)</span> </div> </div> </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>👥 
                        团队效率分析</h3> <div style="margin: 20px 0;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;"> <div 
                                style="text-align: center; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                                    <div style="font-size: 1.8rem; font-weight: bold; color: #28a745;">9.2天</div> <div style="font-size: 
                                    0.9rem; color: #666;">平均任务完成时间</div>
                                </div> <div style="text-align: center; padding: 15px; background: #f8f9fa; border-radius: 8px;"> <div 
                                    style="font-size: 1.8rem; font-weight: bold; color: #17a2b8;">95%</div> <div style="font-size: 0.9rem; 
                                    color: #666;">任务按时完成率</div>
                                </div> </div>
                            
                            <div style="margin-bottom: 15px;"> <div style="display: flex; justify-content: space-between; margin-bottom: 
                                8px;">
                                    <span>代码开发效率</span> <span style="font-weight: bold; color: #28a745;">优秀</span> </div> <div 
                                style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;">
                                    <div style="width: 85%; height: 100%; background: #28a745; border-radius: 3px;"></div> </div> </div>
                            
                            <div style="margin-bottom: 15px;"> <div style="display: flex; justify-content: space-between; margin-bottom: 
                                8px;">
                                    <span>需求理解准确率</span> <span style="font-weight: bold; color: #28a745;">优秀</span> </div> <div 
                                style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;">
                                    <div style="width: 90%; height: 100%; background: #28a745; border-radius: 3px;"></div> </div> </div>
                            
                            <div style="margin-bottom: 15px;"> <div style="display: flex; justify-content: space-between; margin-bottom: 
                                8px;">
                                    <span>技术难题解决</span> <span style="font-weight: bold; color: #ffc107;">良好</span> </div> <div 
                                style="background: #e9ecef; height: 6px; border-radius: 3px; overflow: hidden;">
                                    <div style="width: 75%; height: 100%; background: #ffc107; border-radius: 3px;"></div> </div> </div>
                            
                            <div style="background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 8px; padding: 15px; margin-top: 
                            20px;">
                                <div style="font-weight: 600; color: #0c5460; margin-bottom: 5px;">💡 效率建议</div> <div style="font-size: 
                                0.9rem; color: #0c5460;">
                                    建议在T14开发阶段引入代码审查和结对编程，提升复杂模块开发效率 </div> </div> </div> </div> </div> `;
        }
        // 渲染风险视图
        function renderRisksView() { const riskMatrix = document.getElementById('riskMatrix'); riskMatrix.innerHTML = ` <div style="display: 
                grid; gap: 15px;">
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>🔥 
                        高风险任务</h3> <div style="margin-top: 15px;">
                            <div style="padding: 15px; background: #fff5f5; border-left: 4px solid #dc3545; margin-bottom: 10px; 
                            border-radius: 8px;">
                                <strong>T14.2: 权限管理模块</strong><br> <span style="color: 
                                #666;">安全性要求极高，权限逻辑复杂，需要额外安全测试和代码审查</span><br>
                                <span style="font-size: 0.9rem; color: #dc3545;">影响: 整个系统安全性 | 应对: 分阶段实现，独立测试</span> 
                            </div> <div style="padding: 15px; background: #fff5f5; border-left: 4px solid #dc3545; margin-bottom: 10px; 
                            border-radius: 8px;">
                                <strong>T14.5: 数据统计分析</strong><br> <span style="color: 
                                #666;">性能要求高，大数据量查询优化，需要缓存机制</span><br>
                                <span style="font-size: 0.9rem; color: #dc3545;">影响: 系统响应速度 | 应对: 数据库优化，异步处理</span> 
                            </div>
                        </div> </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>⚠️ 
                        中等风险任务</h3> <div style="margin-top: 15px;">
                            <div style="padding: 15px; background: #fffbf0; border-left: 4px solid #ffc107; margin-bottom: 10px; 
                            border-radius: 8px;">
                                <strong>T12.5: 学校系统集成</strong><br> <span style="color: 
                                #666;">外部API依赖，网络稳定性要求，保持降级机制</span><br>
                                <span style="font-size: 0.9rem; color: #f57c00;">影响: 真实数据获取 | 应对: 双模式运行，重试机制</span> 
                            </div> <div style="padding: 15px; background: #fffbf0; border-left: 4px solid #ffc107; margin-bottom: 10px; 
                            border-radius: 8px;">
                                <strong>T21: 课程表组件拆分</strong><br> <span style="color: 
                                #666;">等待学校真实API分析确定，外部依赖较多</span><br>
                                <span style="font-size: 0.9rem; color: #f57c00;">影响: 功能扩展进度 | 应对: Mock数据准备，API预留</span> 
                            </div>
                        </div> </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>✅ 
                        低风险任务</h3> <div style="margin-top: 15px;">
                            <div style="padding: 15px; background: #f0fff4; border-left: 4px solid #28a745; margin-bottom: 10px; 
                            border-radius: 8px;">
                                <strong>T18: API全面测试验证</strong><br> <span style="color: 
                                #666;">验证性工作，影响范围可控，风险较低</span><br>
                                <span style="font-size: 0.9rem; color: #28a745;">影响: 系统稳定性 | 应对: 全面测试，文档记录</span> </div> 
                            <div style="padding: 15px; background: #f0fff4; border-left: 4px solid #28a745; margin-bottom: 10px; 
                            border-radius: 8px;">
                                <strong>T19: Bug修复</strong><br> <span style="color: #666;">前端逻辑修复，影响范围小，技术风险低</span><br> 
                                <span style="font-size: 0.9rem; color: #28a745;">影响: 用户体验 | 应对: 快速修复，回归测试</span>
                            </div> </div> </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"> <h3>🛡️ 
                        风险应对策略</h3> <div style="margin-top: 15px; color: #666; line-height: 1.6;">
                            <p><strong>技术风险:</strong> 关键模块提前POC验证，参考成熟框架设计</p> <p><strong>进度风险:</strong> 
                            采用敏捷开发，2-3天一个迭代，及时调整</p> <p><strong>质量风险:</strong> 每个Phase结束强制代码审查，自动化测试</p> 
                            <p><strong>资源风险:</strong> 保持25%时间缓冲，避免单点依赖</p> <p><strong>外部风险:</strong> 
                            保持降级机制，双模式运行，重试策略</p>
                        </div> </div> </div> `;
        }
        // 甘特图控制功能
        function toggleCriticalPath() { const criticalTasks = document.querySelectorAll('.gantt-bar.critical'); criticalTasks.forEach(bar => 
            {
                bar.style.boxShadow = bar.style.boxShadow ? '' : '0 0 10px #dc3545';
            });
        }
        function exportGantt() { alert('甘特图导出功能：将生成PDF格式的项目时间线报告');
        }
        // 视图模式切换
        document.getElementById('viewMode').addEventListener('change', function() { const mode = this.value; console.log('切换到', mode, 
            '视图');
            
            // 根据视图模式调整甘特图
            if (mode === 'week') {
                // 周视图：减少显示的天数，增加列宽
                const timelineHeader = document.getElementById('timelineHeader'); const ganttBars = document.getElementById('ganttBars');
                
                timelineHeader.style.gridTemplateColumns = 'repeat(20, 150px)'; timelineHeader.style.minWidth = '3000px'; 
                ganttBars.style.gridTemplateColumns = 'repeat(20, 150px)'; ganttBars.style.minWidth = '3000px';
            } else if (mode === 'month') {
                // 月视图：更少的列，更宽的列
                const timelineHeader = document.getElementById('timelineHeader'); const ganttBars = document.getElementById('ganttBars');
                
                timelineHeader.style.gridTemplateColumns = 'repeat(8, 250px)'; timelineHeader.style.minWidth = '2000px'; 
                ganttBars.style.gridTemplateColumns = 'repeat(8, 250px)'; ganttBars.style.minWidth = '2000px';
            } else {
                // 日视图：恢复默认
                const timelineHeader = document.getElementById('timelineHeader'); const ganttBars = document.getElementById('ganttBars');
                
                timelineHeader.style.gridTemplateColumns = 'repeat(43, 90px)'; timelineHeader.style.minWidth = '3870px'; 
                ganttBars.style.gridTemplateColumns = 'repeat(43, 90px)'; ganttBars.style.minWidth = '3870px';
            }
        });
    </script> </body>
</html>
