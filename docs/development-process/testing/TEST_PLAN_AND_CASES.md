# æ™ºèƒ½é€šçŸ¥ç³»ç»Ÿæµ‹è¯•è®¡åˆ’ä¸ç”¨ä¾‹

## ğŸ“‹ é¡¹ç›®æµ‹è¯•æ¦‚è¿°

### ç³»ç»ŸèƒŒæ™¯
åŸºäºyudao-boot-miniæ¡†æ¶çš„æ•™è‚²æœºæ„å¤šçº§æ™ºèƒ½é€šçŸ¥ç³»ç»Ÿï¼Œæ”¯æŒ25+è§’è‰²æƒé™ä½“ç³»ã€å››çº§é€šçŸ¥åˆ†ç±»ã€å¤šæ¸ é“æ¨é€ã€å·¥ä½œæµå®¡æ‰¹åŠå®æ—¶ç»Ÿè®¡åˆ†æã€‚ç³»ç»Ÿé¢å‘æ•™è‚²æœºæ„ï¼Œéœ€è¦å¤„ç†é«˜å¹¶å‘æ¨é€å’Œå¤æ‚æƒé™æ§åˆ¶åœºæ™¯ã€‚

### æµ‹è¯•ç›®æ ‡
- ç¡®ä¿25+è§’è‰²æƒé™ç³»ç»ŸåŠŸèƒ½å®Œæ•´æ€§å’Œå®‰å…¨æ€§
- éªŒè¯å››çº§é€šçŸ¥åˆ†ç±»çš„ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ€§  
- éªŒè¯å¤šæ¸ é“æ¨é€åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ€§èƒ½å’Œç¨³å®šæ€§
- ç¡®ä¿å·¥ä½œæµå®¡æ‰¹ä¸šåŠ¡æµç¨‹çš„å®Œæ•´æ€§
- éªŒè¯å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»çš„å®‰å…¨æ€§
- ä¿è¯ç³»ç»Ÿåœ¨10ä¸‡+ç”¨æˆ·å¹¶å‘æ¨é€åœºæ™¯ä¸‹çš„æ€§èƒ½è¡¨ç°

---

## ğŸ¯ æµ‹è¯•ç­–ç•¥ä¸èŒƒå›´

### 1. æµ‹è¯•åˆ†å±‚ç­–ç•¥

#### å•å…ƒæµ‹è¯•å±‚ï¼ˆ60%è¦†ç›–ç‡ç›®æ ‡ï¼‰
- **èŒƒå›´**: æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ç±»ã€å·¥å…·ç±»ã€æœåŠ¡ç±»
- **å·¥å…·**: JUnit 5 + Mockito + Spring Boot Test
- **é‡ç‚¹**: æƒé™éªŒè¯é€»è¾‘ã€é€šçŸ¥åˆ†ç±»ç®—æ³•ã€æ¨é€ç­–ç•¥å¼•æ“

#### é›†æˆæµ‹è¯•å±‚ï¼ˆAPIæµ‹è¯•ï¼‰
- **èŒƒå›´**: æ‰€æœ‰REST APIæ¥å£ã€æ•°æ®åº“äº¤äº’ã€ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ
- **å·¥å…·**: Spring Boot Test + TestContainers + WireMock
- **é‡ç‚¹**: å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»ã€æƒé™æ¥å£éªŒè¯ã€æ¨é€æœåŠ¡é›†æˆ

#### ç³»ç»Ÿæµ‹è¯•å±‚ï¼ˆç«¯åˆ°ç«¯æµ‹è¯•ï¼‰
- **èŒƒå›´**: å®Œæ•´ä¸šåŠ¡æµç¨‹ã€ç”¨æˆ·ç•Œé¢äº¤äº’
- **å·¥å…·**: Selenium WebDriver + Playwright + Postman
- **é‡ç‚¹**: è§’è‰²æƒé™ä¸šåŠ¡æµç¨‹ã€é€šçŸ¥å®Œæ•´ç”Ÿå‘½å‘¨æœŸ

#### æ€§èƒ½æµ‹è¯•å±‚
- **èŒƒå›´**: é«˜å¹¶å‘æ¨é€ã€å¤§æ•°æ®é‡æŸ¥è¯¢ã€ç¼“å­˜æ€§èƒ½
- **å·¥å…·**: JMeter + K6 + Grafanaç›‘æ§
- **é‡ç‚¹**: 10ä¸‡+ç”¨æˆ·å¹¶å‘æ¨é€æ€§èƒ½

### 2. æµ‹è¯•ç¯å¢ƒç­–ç•¥

#### å¼€å‘æµ‹è¯•ç¯å¢ƒï¼ˆDEVï¼‰
- **ç”¨é€”**: å•å…ƒæµ‹è¯•ã€å¼€å‘è‡ªæµ‹
- **é…ç½®**: å•æœºMySQL + Redis + æ¨¡æ‹Ÿæ¨é€æœåŠ¡
- **æ•°æ®**: æµ‹è¯•æ•°æ®é›†ï¼ˆ1000ç”¨æˆ·ã€10ä¸ªè§’è‰²ã€100æ¡é€šçŸ¥ï¼‰

#### é›†æˆæµ‹è¯•ç¯å¢ƒï¼ˆSITï¼‰
- **ç”¨é€”**: APIé›†æˆæµ‹è¯•ã€åŠŸèƒ½éªŒè¯æµ‹è¯•
- **é…ç½®**: MySQLä¸»ä» + Redisé›†ç¾¤ + çœŸå®ç¬¬ä¸‰æ–¹æœåŠ¡
- **æ•°æ®**: å®Œæ•´æµ‹è¯•æ•°æ®é›†ï¼ˆ10000ç”¨æˆ·ã€25ä¸ªè§’è‰²ã€1000æ¡é€šçŸ¥ï¼‰

#### æ€§èƒ½æµ‹è¯•ç¯å¢ƒï¼ˆPERï¼‰
- **ç”¨é€”**: æ€§èƒ½æµ‹è¯•ã€å‹åŠ›æµ‹è¯•ã€ç¨³å®šæ€§æµ‹è¯•
- **é…ç½®**: ç”Ÿäº§çº§é…ç½®ï¼ˆ16æ ¸32GÃ—2 + MySQLé›†ç¾¤ + Redisé›†ç¾¤ï¼‰
- **æ•°æ®**: å¤§è§„æ¨¡æµ‹è¯•æ•°æ®ï¼ˆ100000ç”¨æˆ·ã€25ä¸ªè§’è‰²ã€10000æ¡é€šçŸ¥ï¼‰

#### ç”¨æˆ·éªŒæ”¶ç¯å¢ƒï¼ˆUATï¼‰
- **ç”¨é€”**: ç”¨æˆ·éªŒæ”¶æµ‹è¯•ã€æ¼”ç¤ºéªŒè¯
- **é…ç½®**: æ¥è¿‘ç”Ÿäº§ç¯å¢ƒé…ç½®
- **æ•°æ®**: è„±æ•çš„ç”Ÿäº§æ ·æœ¬æ•°æ®

---

## ğŸ›¡ï¸ æ ¸å¿ƒæµ‹è¯•é‡ç‚¹

### 1. 25+è§’è‰²æƒé™ç³»ç»Ÿæµ‹è¯•

#### 1.1 æƒé™æ¨¡å‹éªŒè¯
- **æ ¡çº§ç®¡ç†å±‚æƒé™æµ‹è¯•**ï¼ˆæ ¡é•¿ã€å‰¯æ ¡é•¿ã€æ•™åŠ¡å¤„é•¿ã€å­¦ç”Ÿå¤„é•¿ï¼‰
- **å­¦é™¢ç®¡ç†å±‚æƒé™æµ‹è¯•**ï¼ˆé™¢é•¿ã€å‰¯é™¢é•¿ã€å…šå§”ä¹¦è®°ã€å…šå§”å‰¯ä¹¦è®°ï¼‰
- **è¡Œæ”¿æ‰§è¡Œå±‚æƒé™æµ‹è¯•**ï¼ˆæ•™å­¦ç§˜ä¹¦ã€ç§‘ç ”ç§˜ä¹¦ã€è¡Œæ”¿ç§˜ä¹¦ã€å›¢å§”ä¹¦è®°ï¼‰
- **æ•™å­¦æ‰§è¡Œå±‚æƒé™æµ‹è¯•**ï¼ˆç³»ä¸»ä»»ã€æ•™ç ”å®¤ä¸»ä»»ã€ä»»è¯¾æ•™å¸ˆã€å®éªŒæ•™å¸ˆï¼‰
- **å­¦ç”Ÿç®¡ç†å±‚æƒé™æµ‹è¯•**ï¼ˆå¹´çº§ä¸»ä»»ã€å¹´çº§ç»„é•¿ã€è¾…å¯¼å‘˜ã€ç­ä¸»ä»»ï¼‰
- **å­¦ç”Ÿç»„ç»‡å±‚æƒé™æµ‹è¯•**ï¼ˆå­¦ç”Ÿä¼šä¸»å¸­ã€å­¦ç”Ÿä¼šéƒ¨é•¿ã€ç­é•¿ã€å›¢æ”¯ä¹¦ï¼‰

#### 1.2 æƒé™ç»§æ‰¿ä¸æ•°æ®èŒƒå›´æµ‹è¯•
```gherkin
Feature: è§’è‰²æƒé™ç»§æ‰¿æµ‹è¯•

Scenario: æ ¡é•¿æŸ¥çœ‹å…¨æ ¡é€šçŸ¥æƒé™
  Given ç”¨æˆ·ä»¥æ ¡é•¿èº«ä»½ç™»å½•
  When è®¿é—®é€šçŸ¥åˆ—è¡¨æ¥å£
  Then åº”è¯¥èƒ½çœ‹åˆ°å…¨æ ¡æ‰€æœ‰é€šçŸ¥
  And æ¯ä¸ªé€šçŸ¥éƒ½æ˜¾ç¤ºå®Œæ•´çš„ç»Ÿè®¡ä¿¡æ¯
  And å¯ä»¥å¯¹ä»»æ„é€šçŸ¥è¿›è¡Œç®¡ç†æ“ä½œ

Scenario: è¾…å¯¼å‘˜æ•°æ®æƒé™é™åˆ¶
  Given ç”¨æˆ·ä»¥è¾…å¯¼å‘˜èº«ä»½ç™»å½•
  When è®¿é—®å­¦ç”Ÿä¿¡æ¯æ¥å£
  Then åªèƒ½çœ‹åˆ°æ‰€å¸¦ç­çº§çš„å­¦ç”Ÿä¿¡æ¯
  And æ— æ³•çœ‹åˆ°å…¶ä»–ç­çº§å­¦ç”Ÿä¿¡æ¯
  And æ“ä½œèŒƒå›´é™åˆ¶åœ¨æ‰€ç®¡ç†ç­çº§å†…

Scenario: æƒé™è¶Šç•Œè®¿é—®é˜²æŠ¤
  Given ç”¨æˆ·ä»¥å­¦ç”Ÿèº«ä»½ç™»å½•
  When å°è¯•è®¿é—®é€šçŸ¥å‘å¸ƒæ¥å£
  Then åº”è¯¥è¿”å›403æƒé™ä¸è¶³é”™è¯¯
  And è®°å½•å®‰å…¨æ—¥å¿—
  And è§¦å‘æƒé™å¼‚å¸¸å‘Šè­¦
```

#### 1.3 åŠ¨æ€æƒé™éªŒè¯æµ‹è¯•
```java
@Test
@DisplayName("è§’è‰²æƒé™åŠ¨æ€å˜æ›´æµ‹è¯•")
public void testDynamicPermissionChange() {
    // 1. åˆ›å»ºè¾…å¯¼å‘˜ç”¨æˆ·
    Long userId = createUser("counselor", "å¼ è¾…å¯¼å‘˜");
    
    // 2. éªŒè¯åˆå§‹æƒé™
    assertCanPublishToClass(userId, "è½¯ä»¶å·¥ç¨‹2021çº§1ç­");
    assertCannotPublishToClass(userId, "è®¡ç®—æœºç§‘å­¦2021çº§1ç­");
    
    // 3. ä¿®æ”¹ç”¨æˆ·æƒé™ï¼ˆæ·»åŠ æ–°ç­çº§ï¼‰
    addClassToUser(userId, "è®¡ç®—æœºç§‘å­¦2021çº§1ç­");
    
    // 4. éªŒè¯æƒé™å˜æ›´ç”Ÿæ•ˆ
    assertCanPublishToClass(userId, "è®¡ç®—æœºç§‘å­¦2021çº§1ç­");
    
    // 5. éªŒè¯æƒé™ç¼“å­˜æ›´æ–°
    verifyPermissionCacheUpdated(userId);
}
```

### 2. å››çº§é€šçŸ¥åˆ†ç±»åŠŸèƒ½æµ‹è¯•

#### 2.1 é€šçŸ¥ç±»å‹åˆ†ç±»æµ‹è¯•
```gherkin
Feature: é€šçŸ¥ç±»å‹åˆ†ç±»éªŒè¯

Scenario Outline: ä¸åŒè§’è‰²å‘å¸ƒä¸åŒç±»å‹é€šçŸ¥æƒé™éªŒè¯
  Given ç”¨æˆ·ä»¥<role>èº«ä»½ç™»å½•
  When å°è¯•å‘å¸ƒ<notification_type>é€šçŸ¥
  Then ç»“æœåº”è¯¥æ˜¯<expected_result>
  And å¦‚æœæˆåŠŸåˆ™è¿›å…¥<workflow_stage>å®¡æ‰¹é˜¶æ®µ

  Examples:
    | role      | notification_type | expected_result | workflow_stage |
    | æ ¡é•¿      | ç´§æ€¥é€šçŸ¥         | æˆåŠŸ           | æ— éœ€å®¡æ‰¹       |
    | å‰¯æ ¡é•¿    | ç´§æ€¥é€šçŸ¥         | æˆåŠŸ           | æ ¡é•¿å¤‡æ¡ˆ       |
    | è¾…å¯¼å‘˜    | ç´§æ€¥é€šçŸ¥         | å¤±è´¥           | N/A           |
    | é™¢é•¿      | é‡è¦é€šçŸ¥         | æˆåŠŸ           | æ— éœ€å®¡æ‰¹       |
    | è¾…å¯¼å‘˜    | é‡è¦é€šçŸ¥         | æˆåŠŸ           | å¹´çº§ä¸»ä»»å®¡æ‰¹    |
    | ä»»è¯¾æ•™å¸ˆ  | å¸¸è§„é€šçŸ¥         | æˆåŠŸ           | æ— éœ€å®¡æ‰¹       |
```

#### 2.2 é€šçŸ¥ä¼˜å…ˆçº§ç®—æ³•æµ‹è¯•
```java
@Test
@DisplayName("é€šçŸ¥ä¼˜å…ˆçº§æ’åºç®—æ³•æµ‹è¯•")
public void testNotificationPriorityOrdering() {
    // åˆ›å»ºä¸åŒç±»å‹å’Œä¼˜å…ˆçº§çš„é€šçŸ¥
    List<Notification> notifications = Arrays.asList(
        createNotification(URGENT, 10, "å°é£åœè¯¾é€šçŸ¥"),
        createNotification(IMPORTANT, 8, "å­¦è´¹ç¼´è´¹é€šçŸ¥"), 
        createNotification(NORMAL, 5, "ä½œä¸šæäº¤é€šçŸ¥"),
        createNotification(REMINDER, 3, "ä¸Šè¯¾æé†’")
    );
    
    // æ‰§è¡Œæ’åº
    List<Notification> sorted = notificationService.sortByPriority(notifications);
    
    // éªŒè¯æ’åºç»“æœ
    assertThat(sorted.get(0).getType()).isEqualTo(URGENT);
    assertThat(sorted.get(0).getTitle()).isEqualTo("å°é£åœè¯¾é€šçŸ¥");
    assertThat(sorted.get(3).getType()).isEqualTo(REMINDER);
}
```

### 3. å¤šæ¸ é“æ¨é€æ€§èƒ½æµ‹è¯•

#### 3.1 é«˜å¹¶å‘æ¨é€æ€§èƒ½æµ‹è¯•
```yaml
# JMeteræ€§èƒ½æµ‹è¯•é…ç½®
PerformanceTest:
  name: "10ä¸‡ç”¨æˆ·å¹¶å‘æ¨é€æµ‹è¯•"
  scenarios:
    - name: "ç´§æ€¥é€šçŸ¥å…¨æ ¡æ¨é€"
      users: 100000
      ramp_up: 300 # 5åˆ†é’Ÿå†…è¾¾åˆ°å³°å€¼
      duration: 600 # æŒç»­10åˆ†é’Ÿ
      channels: ["app", "sms", "email"]
      
    - name: "å­¦é™¢é‡è¦é€šçŸ¥æ¨é€" 
      users: 5000
      ramp_up: 60
      duration: 300
      channels: ["app", "site"]
      
  acceptance_criteria:
    - æ¨é€æˆåŠŸç‡ >= 95%
    - å¹³å‡å“åº”æ—¶é—´ <= 5ç§’
    - 95%æ¨é€å»¶è¿Ÿ <= 30ç§’
    - ç³»ç»ŸCPUä½¿ç”¨ç‡ <= 80%
    - å†…å­˜ä½¿ç”¨ç‡ <= 85%
```

#### 3.2 æ¨é€æ¸ é“æ•…éšœè½¬ç§»æµ‹è¯•
```java
@Test
@DisplayName("æ¨é€æ¸ é“æ•…éšœè½¬ç§»æµ‹è¯•")
public void testPushChannelFailover() {
    // 1. è®¾ç½®APPæ¨é€æœåŠ¡å¼‚å¸¸
    pushServiceMock.stubFor(post(urlEqualTo("/push/app"))
        .willReturn(aResponse().withStatus(500)));
    
    // 2. å‘å¸ƒç´§æ€¥é€šçŸ¥ï¼ˆé…ç½®ä¸ºAPP+çŸ­ä¿¡åŒæ¸ é“ï¼‰
    Long notificationId = publishUrgentNotification("ç´§æ€¥åœè¯¾é€šçŸ¥");
    
    // 3. ç­‰å¾…æ¨é€å®Œæˆ
    waitForPushCompletion(notificationId);
    
    // 4. éªŒè¯æ•…éšœè½¬ç§»
    List<PushRecord> records = getPushRecords(notificationId);
    assertThat(records.stream()
        .filter(r -> r.getChannel().equals("app"))
        .allMatch(r -> r.getStatus().equals(FAILED)))
        .isTrue();
    assertThat(records.stream()
        .filter(r -> r.getChannel().equals("sms"))
        .allMatch(r -> r.getStatus().equals(SUCCESS)))
        .isTrue();
        
    // 5. éªŒè¯é‡è¯•æœºåˆ¶
    verify(pushServiceMock, times(3))
        .postRequestedFor(urlEqualTo("/push/app"));
}
```

### 4. å·¥ä½œæµå®¡æ‰¹ä¸šåŠ¡æµ‹è¯•

#### 4.1 å®¡æ‰¹æµç¨‹å®Œæ•´æ€§æµ‹è¯•
```gherkin
Feature: é€šçŸ¥å®¡æ‰¹å·¥ä½œæµæµ‹è¯•

Scenario: è¾…å¯¼å‘˜å‘å¸ƒé‡è¦é€šçŸ¥å®¡æ‰¹æµç¨‹
  Given ç”¨æˆ·ä»¥è¾…å¯¼å‘˜èº«ä»½ç™»å½•
  And å‡†å¤‡å‘å¸ƒé‡è¦é€šçŸ¥ç»™æ‰€å¸¦ç­çº§
  When æäº¤é€šçŸ¥å®¡æ‰¹ç”³è¯·
  Then é€šçŸ¥çŠ¶æ€å˜ä¸º"å¾…å®¡æ‰¹"
  And å¹´çº§ä¸»ä»»æ”¶åˆ°å®¡æ‰¹ä»»åŠ¡é€šçŸ¥
  
  When å¹´çº§ä¸»ä»»å®¡æ‰¹é€šè¿‡
  Then é€šçŸ¥çŠ¶æ€å˜ä¸º"å®¡æ‰¹é€šè¿‡" 
  And å­¦é™¢é¢†å¯¼æ”¶åˆ°å¤‡æ¡ˆé€šçŸ¥
  And ç³»ç»Ÿè‡ªåŠ¨å‘å¸ƒé€šçŸ¥ç»™ç›®æ ‡å­¦ç”Ÿ
  
  When å­¦ç”ŸæŸ¥çœ‹é€šçŸ¥åˆ—è¡¨
  Then èƒ½çœ‹åˆ°è¯¥é‡è¦é€šçŸ¥
  And é€šçŸ¥æ˜¾ç¤ºæ­£ç¡®çš„å‘å¸ƒè€…ä¿¡æ¯

Scenario: å®¡æ‰¹æµç¨‹ä¸­çš„æ‹’ç»å¤„ç†
  Given è¾…å¯¼å‘˜æäº¤çš„é‡è¦é€šçŸ¥æ­£åœ¨å®¡æ‰¹ä¸­
  When å¹´çº§ä¸»ä»»å®¡æ‰¹æ‹’ç»å¹¶å¡«å†™æ‹’ç»åŸå› 
  Then é€šçŸ¥çŠ¶æ€å˜ä¸º"å®¡æ‰¹æ‹’ç»"
  And è¾…å¯¼å‘˜æ”¶åˆ°æ‹’ç»é€šçŸ¥é‚®ä»¶
  And ç³»ç»Ÿè®°å½•å®¡æ‰¹å†å²å’Œæ‹’ç»åŸå› 
  
  When è¾…å¯¼å‘˜ä¿®æ”¹é€šçŸ¥å†…å®¹é‡æ–°æäº¤
  Then ç”Ÿæˆæ–°çš„å®¡æ‰¹æµç¨‹å®ä¾‹
  And å®¡æ‰¹å†å²ä¿æŒå®Œæ•´è®°å½•
```

#### 4.2 å®¡æ‰¹æƒé™éªŒè¯æµ‹è¯•
```java
@Test
@DisplayName("å®¡æ‰¹æƒé™éªŒè¯æµ‹è¯•")
public void testApprovalPermissionValidation() {
    // 1. åˆ›å»ºå®¡æ‰¹æµç¨‹
    Long workflowId = createWorkflowInstance("é‡è¦é€šçŸ¥å®¡æ‰¹", "counselor_001");
    
    // 2. éªŒè¯åªæœ‰æŒ‡å®šå®¡æ‰¹è€…å¯ä»¥å®¡æ‰¹
    assertThat(workflowService.canApprove(workflowId, "grade_leader_001"))
        .isTrue();
    assertThat(workflowService.canApprove(workflowId, "other_counselor_002"))  
        .isFalse();
    assertThat(workflowService.canApprove(workflowId, "student_001"))
        .isFalse();
        
    // 3. éªŒè¯å®¡æ‰¹æ“ä½œæƒé™
    assertThrows(InsufficientPermissionException.class, () -> {
        workflowService.approve(workflowId, "student_001", "åŒæ„", "å­¦ç”Ÿæ— æƒå®¡æ‰¹");
    });
}
```

### 5. å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»æµ‹è¯•

#### 5.1 æ•°æ®éš”ç¦»å®Œæ•´æ€§æµ‹è¯•
```java
@Test
@DisplayName("å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»æµ‹è¯•")
public void testMultiTenantDataIsolation() {
    // 1. ä¸ºä¸åŒç§Ÿæˆ·åˆ›å»ºæ•°æ®
    Long tenant1 = 1L;
    Long tenant2 = 2L;
    
    Long notification1 = createNotificationForTenant(tenant1, "ç§Ÿæˆ·1é€šçŸ¥");
    Long notification2 = createNotificationForTenant(tenant2, "ç§Ÿæˆ·2é€šçŸ¥");
    Long user1 = createUserForTenant(tenant1, "user1");
    Long user2 = createUserForTenant(tenant2, "user2");
    
    // 2. éªŒè¯ç§Ÿæˆ·1ç”¨æˆ·åªèƒ½çœ‹åˆ°ç§Ÿæˆ·1æ•°æ®
    List<Notification> tenant1Notifications = 
        notificationService.getUserNotifications(user1);
    assertThat(tenant1Notifications)
        .hasSize(1)
        .extracting(Notification::getId)
        .containsOnly(notification1);
        
    // 3. éªŒè¯ç§Ÿæˆ·2ç”¨æˆ·åªèƒ½çœ‹åˆ°ç§Ÿæˆ·2æ•°æ®  
    List<Notification> tenant2Notifications =
        notificationService.getUserNotifications(user2);
    assertThat(tenant2Notifications)
        .hasSize(1)
        .extracting(Notification::getId)
        .containsOnly(notification2);
        
    // 4. éªŒè¯è·¨ç§Ÿæˆ·è®¿é—®è¢«æ‹’ç»
    assertThrows(TenantIsolationException.class, () -> {
        notificationService.getNotificationDetail(user1, notification2);
    });
}
```

#### 5.2 SQLæ³¨å…¥é˜²æŠ¤æµ‹è¯•
```java
@Test
@DisplayName("SQLæ³¨å…¥é˜²æŠ¤æµ‹è¯•")
public void testSqlInjectionPrevention() {
    // æµ‹è¯•å„ç§SQLæ³¨å…¥æ”»å‡»å‘é‡
    String[] injectionPayloads = {
        "'; DROP TABLE notification; --",
        "' OR '1'='1",
        "'; UPDATE users SET role='admin'; --",
        "' UNION SELECT * FROM system_users; --"
    };
    
    for (String payload : injectionPayloads) {
        // åœ¨æœç´¢åŠŸèƒ½ä¸­æµ‹è¯•SQLæ³¨å…¥
        assertDoesNotThrow(() -> {
            List<Notification> results = 
                notificationService.searchNotifications(payload);
            // ç¡®ä¿æ²¡æœ‰è¿”å›ä¸å½“æ•°æ®
            assertThat(results).allMatch(n -> 
                n.getTenantId().equals(getCurrentTenantId()));
        });
    }
}
```

---

## ğŸ“Š æ€§èƒ½æµ‹è¯•åŸºå‡†

### 1. æ€§èƒ½æŒ‡æ ‡å®šä¹‰

#### å“åº”æ—¶é—´æŒ‡æ ‡
- **é€šçŸ¥å‘å¸ƒ**: å¹³å‡ < 2ç§’ï¼Œ95% < 5ç§’
- **é€šçŸ¥æŸ¥è¯¢**: å¹³å‡ < 1ç§’ï¼Œ95% < 3ç§’  
- **æ¨é€å¤„ç†**: å¹³å‡ < 5ç§’ï¼Œ95% < 10ç§’
- **ç»Ÿè®¡æŠ¥è¡¨**: å¹³å‡ < 3ç§’ï¼Œ95% < 8ç§’

#### ååé‡æŒ‡æ ‡
- **å¹¶å‘ç”¨æˆ·æ•°**: > 5000åœ¨çº¿ç”¨æˆ·
- **æ¨é€TPS**: > 1000æ¡/ç§’
- **APIè°ƒç”¨**: > 500 QPS
- **æ•°æ®åº“è¿æ¥**: < 80%è¿æ¥æ± ä½¿ç”¨ç‡

#### èµ„æºåˆ©ç”¨ç‡æŒ‡æ ‡
- **CPUä½¿ç”¨ç‡**: < 80%
- **å†…å­˜ä½¿ç”¨ç‡**: < 85%
- **ç£ç›˜I/O**: < 70%
- **ç½‘ç»œå¸¦å®½**: < 60%

### 2. æ€§èƒ½æµ‹è¯•åœºæ™¯è®¾è®¡

#### åœºæ™¯1: å…¨æ ¡ç´§æ€¥é€šçŸ¥æ¨é€
```yaml
Scenario: "å°é£å¤©æ°”ç´§æ€¥åœè¯¾é€šçŸ¥"
Target_Users: 100000 (å…¨æ ¡å¸ˆç”Ÿ)
Channels: ["app", "sms", "email", "site"]
Expected_Performance:
  - æ¨é€å®Œæˆæ—¶é—´: < 5åˆ†é’Ÿ
  - æ¨é€æˆåŠŸç‡: > 99%
  - ç³»ç»Ÿå¯ç”¨æ€§: 100%
  - ç¡®è®¤æ”¶é›†æ—¶é—´: < 30åˆ†é’Ÿ
```

#### åœºæ™¯2: å¤šå­¦é™¢åŒæ—¶å‘å¸ƒé‡è¦é€šçŸ¥
```yaml
Scenario: "å¤šå­¦é™¢å­¦è´¹ç¼´è´¹é€šçŸ¥"
Concurrent_Publishers: 20 (å„å­¦é™¢åŒæ—¶å‘å¸ƒ)
Target_Users: 50000 (å„è‡ªå­¦é™¢å­¦ç”Ÿ)
Duration: 30åˆ†é’Ÿ
Expected_Performance:
  - å¹¶å‘å¤„ç†èƒ½åŠ›: 20ä¸ªé€šçŸ¥åŒæ—¶å‘å¸ƒ
  - å¹³å‡å“åº”æ—¶é—´: < 3ç§’
  - æ¨é€æ’é˜Ÿå»¶è¿Ÿ: < 2åˆ†é’Ÿ
```

#### åœºæ™¯3: é«˜å³°æœŸç³»ç»Ÿè´Ÿè½½æµ‹è¯•
```yaml
Scenario: "æ™šé«˜å³°ç³»ç»Ÿä½¿ç”¨"
Time: "19:00-21:00"
Concurrent_Users: 10000 (åœ¨çº¿æŸ¥çœ‹é€šçŸ¥)
Background_Load: 
  - 500 TPS APIè°ƒç”¨
  - 200æ¡/åˆ†é’Ÿæ–°é€šçŸ¥å‘å¸ƒ
  - 1000æ¡/åˆ†é’ŸçŠ¶æ€æ›´æ–°
Expected_Performance:
  - é¡µé¢åŠ è½½æ—¶é—´: < 2ç§’
  - APIå“åº”æ—¶é—´: < 1ç§’
  - ç³»ç»Ÿç¨³å®šæ€§: æ— å¼‚å¸¸å´©æºƒ
```

### 3. æ€§èƒ½æµ‹è¯•å·¥å…·é…ç½®

#### JMeteræµ‹è¯•è„šæœ¬ç¤ºä¾‹
```xml
<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2">
  <hashTree>
    <TestPlan testname="é€šçŸ¥ç³»ç»Ÿæ€§èƒ½æµ‹è¯•" enabled="true">
      <elementProp name="TestPlan.arguments" elementType="Arguments"/>
      <stringProp name="TestPlan.user_define_classpath"></stringProp>
    </TestPlan>
    
    <hashTree>
      <!-- çº¿ç¨‹ç»„é…ç½® -->
      <ThreadGroup testname="é«˜å¹¶å‘æ¨é€æµ‹è¯•" enabled="true">
        <stringProp name="ThreadGroup.num_threads">1000</stringProp>
        <stringProp name="ThreadGroup.ramp_time">300</stringProp>
        <stringProp name="ThreadGroup.duration">600</stringProp>
        <boolProp name="ThreadGroup.scheduler">true</boolProp>
      </ThreadGroup>
      
      <hashTree>
        <!-- HTTPè¯·æ±‚é‡‡æ ·å™¨ -->
        <HTTPSamplerProxy testname="å‘å¸ƒé€šçŸ¥è¯·æ±‚">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{
                  "title": "æ€§èƒ½æµ‹è¯•é€šçŸ¥${__threadNum}",
                  "content": "è¿™æ˜¯ç¬¬${__threadNum}æ¡æ€§èƒ½æµ‹è¯•é€šçŸ¥",
                  "type": "normal",
                  "targetType": "role",
                  "targetConfig": {"roleIds": [5]}
                }</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain">localhost</stringProp>
          <stringProp name="HTTPSampler.port">8080</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.path">/admin-api/notification/create</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
        </HTTPSamplerProxy>
        
        <!-- å“åº”æ–­è¨€ -->
        <ResponseAssertion testname="å“åº”çŠ¶æ€æ£€æŸ¥">
          <collectionProp name="Asserion.test_strings">
            <stringProp>200</stringProp>
          </collectionProp>
          <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
        </ResponseAssertion>
      </hashTree>
    </hashTree>
  </hashTree>
</jmeterTestPlan>
```

---

## ğŸ¤– è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆ

### 1. å•å…ƒæµ‹è¯•è‡ªåŠ¨åŒ–

#### æµ‹è¯•æ¡†æ¶é…ç½®
```xml
<!-- pom.xml -->
<dependencies>
    <!-- æµ‹è¯•æ¡†æ¶ -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-test</artifactId>
        <scope>test</scope>
    </dependency>
    
    <!-- æµ‹è¯•å®¹å™¨ -->
    <dependency>
        <groupId>org.testcontainers</groupId>
        <artifactId>testcontainers</artifactId>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>org.testcontainers</groupId>
        <artifactId>mysql</artifactId>
        <scope>test</scope>
    </dependency>
    
    <!-- æµ‹è¯•æ•°æ®æ„é€  -->
    <dependency>
        <groupId>com.github.javafaker</groupId>
        <artifactId>javafaker</artifactId>
        <version>1.0.2</version>
        <scope>test</scope>
    </dependency>
</dependencies>
```

#### æµ‹è¯•åŸºç±»è®¾è®¡
```java
@SpringBootTest
@TestMethodOrder(OrderAnnotation.class)
@Testcontainers
@ActiveProfiles("test")
public abstract class BaseIntegrationTest {
    
    @Container
    static final MySQLContainer<?> mysql = new MySQLContainer<>("mysql:8.0")
            .withDatabaseName("notification_test")
            .withUsername("test") 
            .withPassword("test");
    
    @Container
    static final GenericContainer<?> redis = new GenericContainer<>("redis:7-alpine")
            .withExposedPorts(6379);
    
    @DynamicPropertySource
    static void configureProperties(DynamicPropertyRegistry registry) {
        registry.add("spring.datasource.url", mysql::getJdbcUrl);
        registry.add("spring.datasource.username", mysql::getUsername);
        registry.add("spring.datasource.password", mysql::getPassword);
        registry.add("spring.redis.host", redis::getHost);
        registry.add("spring.redis.port", redis::getFirstMappedPort);
    }
    
    @Autowired
    protected TestRestTemplate restTemplate;
    
    @Autowired 
    protected TestDataBuilder testDataBuilder;
    
    protected String getAuthHeader(String role) {
        return "Bearer " + generateJwtToken(role);
    }
}
```

#### æƒé™æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹
```java
@SpringBootTest
@DisplayName("æƒé™ç³»ç»Ÿé›†æˆæµ‹è¯•")
class PermissionIntegrationTest extends BaseIntegrationTest {
    
    @Test
    @Order(1)
    @DisplayName("æ ¡é•¿å‘å¸ƒå…¨æ ¡ç´§æ€¥é€šçŸ¥")
    void testPrincipalPublishUrgentNotification() {
        // Given
        String authHeader = getAuthHeader("principal");
        NotificationCreateRequest request = NotificationCreateRequest.builder()
                .title("ç´§æ€¥åœè¯¾é€šçŸ¥")
                .content("å› å°é£å¤©æ°”ï¼Œä»Šæ—¥å…¨æ ¡åœè¯¾")
                .type(NotificationType.URGENT)
                .targetType(TargetType.ALL_USERS)
                .pushChannels(Arrays.asList("app", "sms", "email"))
                .confirmRequired(true)
                .build();
                
        // When
        ResponseEntity<ApiResult<Long>> response = restTemplate.exchange(
                "/admin-api/notification/create",
                HttpMethod.POST,
                new HttpEntity<>(request, createHeaders(authHeader)),
                new ParameterizedTypeReference<ApiResult<Long>>() {}
        );
        
        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
        assertThat(response.getBody().getCode()).isEqualTo(200);
        assertThat(response.getBody().getData()).isNotNull();
        
        // éªŒè¯é€šçŸ¥åˆ›å»ºæˆåŠŸä¸”çŠ¶æ€æ­£ç¡®
        Long notificationId = response.getBody().getData();
        Notification notification = notificationRepository.findById(notificationId).orElse(null);
        assertThat(notification).isNotNull();
        assertThat(notification.getStatus()).isEqualTo(NotificationStatus.PUBLISHED);
        assertThat(notification.getType()).isEqualTo(NotificationType.URGENT);
    }
    
    @Test
    @Order(2)
    @DisplayName("è¾…å¯¼å‘˜å‘å¸ƒç­çº§é€šçŸ¥æƒé™éªŒè¯")
    void testCounselorPublishClassNotification() {
        // Given - è¾…å¯¼å‘˜åªèƒ½ç»™è‡ªå·±ç­çº§å‘é€šçŸ¥
        String counselorAuth = getAuthHeader("counselor");
        String ownClassId = "class_001";
        String otherClassId = "class_002";
        
        // ç»™è‡ªå·±ç­çº§å‘é€šçŸ¥ - åº”è¯¥æˆåŠŸ
        NotificationCreateRequest validRequest = NotificationCreateRequest.builder()
                .title("ç­çº§ä½œä¸šé€šçŸ¥")
                .content("è¯·æŒ‰æ—¶æäº¤ä½œä¸š")
                .type(NotificationType.NORMAL)
                .targetType(TargetType.CLASS)
                .targetConfig(Map.of("classIds", Arrays.asList(ownClassId)))
                .build();
                
        ResponseEntity<ApiResult<Long>> validResponse = restTemplate.exchange(
                "/admin-api/notification/create",
                HttpMethod.POST,
                new HttpEntity<>(validRequest, createHeaders(counselorAuth)),
                new ParameterizedTypeReference<ApiResult<Long>>() {}
        );
        
        assertThat(validResponse.getStatusCode()).isEqualTo(HttpStatus.OK);
        
        // ç»™å…¶ä»–ç­çº§å‘é€šçŸ¥ - åº”è¯¥å¤±è´¥
        NotificationCreateRequest invalidRequest = NotificationCreateRequest.builder()
                .title("è¶Šæƒé€šçŸ¥")
                .content("å°è¯•ç»™å…¶ä»–ç­çº§å‘é€šçŸ¥")
                .type(NotificationType.NORMAL)
                .targetType(TargetType.CLASS)
                .targetConfig(Map.of("classIds", Arrays.asList(otherClassId)))
                .build();
                
        ResponseEntity<ApiResult<Long>> invalidResponse = restTemplate.exchange(
                "/admin-api/notification/create",
                HttpMethod.POST,
                new HttpEntity<>(invalidRequest, createHeaders(counselorAuth)),
                new ParameterizedTypeReference<ApiResult<Long>>() {}
        );
        
        assertThat(invalidResponse.getStatusCode()).isEqualTo(HttpStatus.FORBIDDEN);
    }
}
```

### 2. APIæµ‹è¯•è‡ªåŠ¨åŒ–

#### Postmané›†æˆæµ‹è¯•
```javascript
// Postman Pre-request Script - è‡ªåŠ¨è·å–è®¤è¯Token
pm.sendRequest({
    url: pm.environment.get("baseUrl") + "/admin-api/auth/login",
    method: 'POST',
    header: {
        'Content-Type': 'application/json',
    },
    body: {
        mode: 'raw',
        raw: JSON.stringify({
            username: pm.environment.get("username"),
            password: pm.environment.get("password")
        })
    }
}, function (err, response) {
    if (response.json().code === 200) {
        pm.environment.set("authToken", response.json().data.token);
    }
});

// Postman Test Script - å“åº”éªŒè¯
pm.test("å“åº”çŠ¶æ€ç ä¸º200", function () {
    pm.response.to.have.status(200);
});

pm.test("è¿”å›æ•°æ®æ ¼å¼æ­£ç¡®", function () {
    const jsonData = pm.response.json();
    pm.expect(jsonData).to.have.property('code', 200);
    pm.expect(jsonData).to.have.property('data');
    pm.expect(jsonData.data).to.have.property('id');
});

pm.test("é€šçŸ¥åˆ›å»ºåçŠ¶æ€æ­£ç¡®", function () {
    const jsonData = pm.response.json();
    pm.sendRequest({
        url: pm.environment.get("baseUrl") + "/admin-api/notification/" + jsonData.data.id,
        method: 'GET',
        header: {
            'Authorization': 'Bearer ' + pm.environment.get("authToken"),
        }
    }, function (err, response) {
        const notification = response.json().data;
        pm.test("é€šçŸ¥çŠ¶æ€ä¸ºå·²å‘å¸ƒ", function() {
            pm.expect(notification.status).to.eql("published");
        });
    });
});
```

### 3. UIæµ‹è¯•è‡ªåŠ¨åŒ–

#### Selenium WebDriveré…ç½®
```java
@ExtendWith(SpringExtension.class)
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)
@DisplayName("é€šçŸ¥ç³»ç»ŸUIè‡ªåŠ¨åŒ–æµ‹è¯•")
public class NotificationUITest {
    
    private WebDriver driver;
    private NotificationPageObject notificationPage;
    
    @BeforeEach
    void setUp() {
        ChromeOptions options = new ChromeOptions();
        options.addArguments("--headless"); // æ— ç•Œé¢æ¨¡å¼
        options.addArguments("--no-sandbox");
        options.addArguments("--disable-dev-shm-usage");
        driver = new ChromeDriver(options);
        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
        
        notificationPage = new NotificationPageObject(driver);
    }
    
    @Test
    @DisplayName("é€šçŸ¥å‘å¸ƒå®Œæ•´æµç¨‹æµ‹è¯•")
    void testNotificationPublishWorkflow() {
        // 1. ç™»å½•ç³»ç»Ÿ
        notificationPage.navigateToLogin();
        notificationPage.login("principal", "password123");
        
        // 2. è¿›å…¥é€šçŸ¥å‘å¸ƒé¡µé¢
        notificationPage.navigateToCreateNotification();
        
        // 3. å¡«å†™é€šçŸ¥ä¿¡æ¯
        notificationPage.fillNotificationForm(
            "UIæµ‹è¯•ç´§æ€¥é€šçŸ¥",
            "è¿™æ˜¯ä¸€æ¡UIè‡ªåŠ¨åŒ–æµ‹è¯•çš„ç´§æ€¥é€šçŸ¥",
            NotificationType.URGENT
        );
        
        // 4. é€‰æ‹©æ¨é€ç›®æ ‡
        notificationPage.selectTargetType("å…¨æ ¡å¸ˆç”Ÿ");
        
        // 5. é…ç½®æ¨é€è®¾ç½®
        notificationPage.configurePushSettings(
            Arrays.asList("APPæ¨é€", "çŸ­ä¿¡é€šçŸ¥"),
            true // éœ€è¦ç¡®è®¤
        );
        
        // 6. å‘å¸ƒé€šçŸ¥
        notificationPage.clickPublish();
        
        // 7. éªŒè¯å‘å¸ƒæˆåŠŸ
        assertThat(notificationPage.getSuccessMessage())
            .contains("é€šçŸ¥å‘å¸ƒæˆåŠŸ");
            
        // 8. éªŒè¯é€šçŸ¥åœ¨åˆ—è¡¨ä¸­æ˜¾ç¤º
        notificationPage.navigateToNotificationList();
        assertThat(notificationPage.isNotificationInList("UIæµ‹è¯•ç´§æ€¥é€šçŸ¥"))
            .isTrue();
    }
}
```

#### é¡µé¢å¯¹è±¡æ¨¡å‹(POM)
```java
public class NotificationPageObject {
    private WebDriver driver;
    
    // é¡µé¢å…ƒç´ å®šä½å™¨
    @FindBy(id = "notification-title")
    private WebElement titleInput;
    
    @FindBy(css = ".notification-content .ql-editor")
    private WebElement contentEditor;
    
    @FindBy(xpath = "//button[contains(text(), 'å‘å¸ƒé€šçŸ¥')]")
    private WebElement publishButton;
    
    @FindBy(css = ".success-message")
    private WebElement successMessage;
    
    public NotificationPageObject(WebDriver driver) {
        this.driver = driver;
        PageFactory.initElements(driver, this);
    }
    
    public void fillNotificationForm(String title, String content, NotificationType type) {
        titleInput.clear();
        titleInput.sendKeys(title);
        
        contentEditor.clear();
        contentEditor.sendKeys(content);
        
        // é€‰æ‹©é€šçŸ¥ç±»å‹
        WebElement typeSelector = driver.findElement(
            By.xpath("//span[contains(text(), '" + type.getDisplayName() + "')]"));
        typeSelector.click();
        
        waitForPageLoad();
    }
    
    public void clickPublish() {
        publishButton.click();
        waitForAjaxComplete();
    }
    
    public String getSuccessMessage() {
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));
        wait.until(ExpectedConditions.visibilityOf(successMessage));
        return successMessage.getText();
    }
    
    private void waitForPageLoad() {
        new WebDriverWait(driver, Duration.ofSeconds(10))
            .until(webDriver -> ((JavascriptExecutor) webDriver)
                .executeScript("return document.readyState").equals("complete"));
    }
}
```

### 4. CI/CDé›†æˆæµ‹è¯•æµæ°´çº¿

#### GitHub Actionsé…ç½®
```yaml
name: é€šçŸ¥ç³»ç»ŸæŒç»­é›†æˆæµ‹è¯•

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  unit-tests:
    runs-on: ubuntu-latest
    
    services:
      mysql:
        image: mysql:8.0
        env:
          MYSQL_ROOT_PASSWORD: root123
          MYSQL_DATABASE: notification_test
        ports:
          - 3306:3306
        options: --health-cmd="mysqladmin ping" --health-interval=10s --health-timeout=5s --health-retries=3
      
      redis:
        image: redis:7-alpine
        ports:
          - 6379:6379
        options: --health-cmd="redis-cli ping" --health-interval=10s --health-timeout=5s --health-retries=3
    
    steps:
    - uses: actions/checkout@v3
    
    - name: è®¾ç½®JDK 17
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'
    
    - name: ç¼“å­˜Mavenä¾èµ–
      uses: actions/cache@v3
      with:
        path: ~/.m2
        key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
    
    - name: è¿è¡Œå•å…ƒæµ‹è¯•
      run: |
        mvn clean test -Dspring.profiles.active=test \
          -Dspring.datasource.url=jdbc:mysql://localhost:3306/notification_test \
          -Dspring.redis.host=localhost
    
    - name: ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
      uses: dorny/test-reporter@v1
      if: success() || failure()
      with:
        name: å•å…ƒæµ‹è¯•æŠ¥å‘Š
        path: target/surefire-reports/*.xml
        reporter: java-junit
    
    - name: ä¸Šä¼ è¦†ç›–ç‡æŠ¥å‘Š
      uses: codecov/codecov-action@v3
      with:
        token: ${{ secrets.CODECOV_TOKEN }}
        file: target/site/jacoco/jacoco.xml

  integration-tests:
    needs: unit-tests
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: è®¾ç½®JDK 17
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'
    
    - name: å¯åŠ¨åº”ç”¨ç¨‹åº
      run: |
        mvn spring-boot:run -Dspring.profiles.active=test &
        sleep 60 # ç­‰å¾…åº”ç”¨å¯åŠ¨
    
    - name: è¿è¡ŒAPIé›†æˆæµ‹è¯•
      run: |
        newman run tests/postman/notification-api-tests.json \
          --environment tests/postman/test-environment.json \
          --reporters cli,junit \
          --reporter-junit-export target/newman-results.xml
    
    - name: ä¸Šä¼ é›†æˆæµ‹è¯•æŠ¥å‘Š
      uses: dorny/test-reporter@v1
      if: success() || failure()
      with:
        name: APIé›†æˆæµ‹è¯•æŠ¥å‘Š
        path: target/newman-results.xml
        reporter: java-junit

  performance-tests:
    needs: integration-tests
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - uses: actions/checkout@v3
    
    - name: è®¾ç½®JDK 17
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'
    
    - name: è®¾ç½®æ€§èƒ½æµ‹è¯•ç¯å¢ƒ
      run: |
        docker-compose -f docker-compose.perf.yml up -d
        sleep 120 # ç­‰å¾…æœåŠ¡å¯åŠ¨
    
    - name: è¿è¡ŒJMeteræ€§èƒ½æµ‹è¯•
      run: |
        jmeter -n -t tests/jmeter/notification-performance-test.jmx \
          -l target/performance-results.jtl \
          -e -o target/performance-report
    
    - name: åˆ†ææ€§èƒ½æµ‹è¯•ç»“æœ
      run: |
        python scripts/analyze_performance.py target/performance-results.jtl
    
    - name: ä¸Šä¼ æ€§èƒ½æµ‹è¯•æŠ¥å‘Š
      uses: actions/upload-artifact@v3
      with:
        name: performance-report
        path: target/performance-report/

  ui-tests:
    needs: integration-tests
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: è®¾ç½®Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
    
    - name: å®‰è£…ä¾èµ–
      run: |
        cd frontend
        npm ci
    
    - name: æ„å»ºå‰ç«¯åº”ç”¨
      run: |
        cd frontend
        npm run build
    
    - name: è¿è¡ŒE2Eæµ‹è¯•
      run: |
        cd frontend
        npx playwright test
    
    - name: ä¸Šä¼ æµ‹è¯•æŠ¥å‘Šå’Œæˆªå›¾
      uses: actions/upload-artifact@v3
      if: failure()
      with:
        name: playwright-report
        path: frontend/playwright-report/
```

---

## ğŸ” æµ‹è¯•ç¯å¢ƒè¦æ±‚

### 1. ç¡¬ä»¶ç¯å¢ƒé…ç½®

#### å¼€å‘æµ‹è¯•ç¯å¢ƒ
```yaml
Development Environment:
  Application Server:
    - CPU: 4æ ¸
    - Memory: 8GB
    - Storage: 100GB SSD
    - OS: Ubuntu 22.04 LTS
    
  Database Server:
    - CPU: 4æ ¸
    - Memory: 8GB  
    - Storage: 200GB SSD
    - MySQL: 8.0
    
  Cache Server:
    - CPU: 2æ ¸
    - Memory: 4GB
    - Redis: 7.0
```

#### é›†æˆæµ‹è¯•ç¯å¢ƒ
```yaml
Integration Test Environment:
  Application Cluster:
    - Nodes: 2å°
    - CPU: 8æ ¸/å°
    - Memory: 16GB/å°
    - Storage: 200GB SSD/å°
    
  Database Cluster:
    - Master: 1å° (8æ ¸16GB)
    - Slave: 2å° (4æ ¸8GB)
    - Storage: 500GB SSD
    
  Cache Cluster:
    - Nodes: 3å°
    - CPU: 4æ ¸/å°
    - Memory: 8GB/å°
```

#### æ€§èƒ½æµ‹è¯•ç¯å¢ƒ
```yaml
Performance Test Environment:
  Load Generation:
    - Nodes: 3å°
    - CPU: 8æ ¸/å°
    - Memory: 16GB/å°
    - Network: 10Gbps
    
  Target System:
    - ä¸ç”Ÿäº§ç¯å¢ƒé…ç½®ä¸€è‡´
    - Application: 2å° (16æ ¸32GB)
    - Database: ä¸»ä»é›†ç¾¤
    - Cache: Redisé›†ç¾¤ (3èŠ‚ç‚¹)
    
  Monitoring:
    - Grafana + Prometheus
    - ELKæ—¥å¿—åˆ†æ
    - APMæ€§èƒ½ç›‘æ§
```

### 2. è½¯ä»¶ç¯å¢ƒé…ç½®

#### åŸºç¡€è½¯ä»¶æ ˆ
```bash
# æ“ä½œç³»ç»Ÿ
Ubuntu 22.04 LTS

# Javaç¯å¢ƒ
OpenJDK 17.0.2
Maven 3.8.4

# æ•°æ®åº“
MySQL 8.0.28
Redis 7.0.5

# æ¶ˆæ¯é˜Ÿåˆ—
Apache Kafka 3.0.0
RabbitMQ 3.10.0

# å®¹å™¨åŒ–
Docker 20.10.12
Docker Compose 2.2.3

# ç›‘æ§å·¥å…·
Prometheus 2.32.0
Grafana 8.3.3
Elasticsearch 8.1.0
Kibana 8.1.0
```

#### æµ‹è¯•å·¥å…·ç‰ˆæœ¬
```bash
# æµ‹è¯•æ¡†æ¶
JUnit 5.8.2
Mockito 4.3.1
TestContainers 1.16.3

# æ€§èƒ½æµ‹è¯•
JMeter 5.4.3
K6 0.37.0

# UIæµ‹è¯•
Selenium WebDriver 4.1.2
Playwright 1.20.0

# APIæµ‹è¯•
Postman/Newman 5.3.2
RestAssured 4.5.1
```

### 3. æµ‹è¯•æ•°æ®å‡†å¤‡

#### åŸºç¡€æµ‹è¯•æ•°æ®é›†
```sql
-- æµ‹è¯•ç§Ÿæˆ·æ•°æ®
INSERT INTO system_tenant (id, name, contact_name, contact_mobile) VALUES
(1, 'åŒ—äº¬ç†å·¥å¤§å­¦', 'å¼ æ ¡é•¿', '13800138001'),
(2, 'æ¸…åå¤§å­¦', 'ææ ¡é•¿', '13800138002'),
(3, 'åŒ—äº¬å¤§å­¦', 'ç‹æ ¡é•¿', '13800138003');

-- æµ‹è¯•ç”¨æˆ·æ•°æ®
INSERT INTO system_users (id, tenant_id, username, nickname, dept_id, mobile, email) VALUES
-- æ ¡çº§ç®¡ç†å±‚
(1, 1, 'principal001', 'å¼ æ ¡é•¿', 1, '13800138001', 'principal@bit.edu.cn'),
(2, 1, 'vice_principal001', 'æå‰¯æ ¡é•¿', 1, '13800138002', 'vice@bit.edu.cn'),
(3, 1, 'academic_dean001', 'ç‹æ•™åŠ¡å¤„é•¿', 2, '13800138003', 'academic@bit.edu.cn'),

-- å­¦é™¢ç®¡ç†å±‚  
(10, 1, 'college_dean001', 'èµµé™¢é•¿', 10, '13800138010', 'dean@cs.bit.edu.cn'),
(11, 1, 'vice_dean001', 'é’±å‰¯é™¢é•¿', 10, '13800138011', 'vice_dean@cs.bit.edu.cn'),

-- æ•™å­¦æ‰§è¡Œå±‚
(20, 1, 'teacher001', 'å­™æ•™æˆ', 20, '13800138020', 'teacher001@bit.edu.cn'),
(21, 1, 'teacher002', 'å‘¨å‰¯æ•™æˆ', 20, '13800138021', 'teacher002@bit.edu.cn'),

-- å­¦ç”Ÿç®¡ç†å±‚
(30, 1, 'counselor001', 'å´è¾…å¯¼å‘˜', 30, '13800138030', 'counselor001@bit.edu.cn'),
(31, 1, 'counselor002', 'éƒ‘è¾…å¯¼å‘˜', 30, '13800138031', 'counselor002@bit.edu.cn'),

-- å­¦ç”Ÿ
(100, 1, 'student001', 'é™ˆå°æ˜', 100, '13800138100', 'student001@bit.edu.cn'),
(101, 1, 'student002', 'æ—å°çº¢', 100, '13800138101', 'student002@bit.edu.cn');
```

#### å¤§è§„æ¨¡æµ‹è¯•æ•°æ®ç”Ÿæˆè„šæœ¬
```java
@Component
public class TestDataGenerator {
    
    @Autowired
    private TestDataRepository testDataRepository;
    
    @Autowired
    private JavaFaker faker;
    
    @Transactional
    public void generateLargeScaleTestData() {
        // ç”Ÿæˆ10ä¸‡æµ‹è¯•ç”¨æˆ·
        generateUsers(100000);
        
        // ç”Ÿæˆ1ä¸‡æ¡æµ‹è¯•é€šçŸ¥
        generateNotifications(10000);
        
        // ç”Ÿæˆ100ä¸‡æ¡æ¨é€è®°å½•
        generatePushRecords(1000000);
        
        // ç”Ÿæˆç»Ÿè®¡æ•°æ®
        generateStatistics();
    }
    
    private void generateUsers(int count) {
        List<User> users = new ArrayList<>();
        
        for (int i = 0; i < count; i++) {
            User user = User.builder()
                .tenantId(1L)
                .username("test_user_" + i)
                .nickname(faker.name().fullName())
                .mobile(faker.phoneNumber().cellPhone())
                .email(faker.internet().emailAddress())
                .deptId(faker.number().numberBetween(1L, 100L))
                .status(1)
                .build();
            users.add(user);
            
            // æ‰¹é‡æ’å…¥ï¼Œæ¯1000æ¡æäº¤ä¸€æ¬¡
            if (users.size() == 1000) {
                testDataRepository.batchInsertUsers(users);
                users.clear();
            }
        }
        
        if (!users.isEmpty()) {
            testDataRepository.batchInsertUsers(users);
        }
    }
    
    private void generateNotifications(int count) {
        List<NotificationType> types = Arrays.asList(
            NotificationType.URGENT,
            NotificationType.IMPORTANT, 
            NotificationType.NORMAL,
            NotificationType.REMINDER
        );
        
        for (int i = 0; i < count; i++) {
            Notification notification = Notification.builder()
                .tenantId(1L)
                .title(faker.lorem().sentence(8))
                .content(faker.lorem().paragraph(5))
                .type(faker.options().option(types))
                .publisherId(faker.number().numberBetween(1L, 50L))
                .targetType(TargetType.ALL_USERS)
                .status(NotificationStatus.PUBLISHED)
                .createTime(faker.date().past(30, TimeUnit.DAYS).toInstant()
                    .atZone(ZoneId.systemDefault()).toLocalDateTime())
                .build();
                
            testDataRepository.saveNotification(notification);
        }
    }
}
```

---

## ğŸ“‹ è¯¦ç»†æµ‹è¯•ç”¨ä¾‹

### 1. åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹

#### ç”¨ä¾‹ç±»åˆ«ï¼šç”¨æˆ·æƒé™ç®¡ç†

##### TC_PERM_001: æ ¡é•¿å…¨æƒé™éªŒè¯
```gherkin
æµ‹è¯•ç”¨ä¾‹ç¼–å·: TC_PERM_001
æµ‹è¯•æ ‡é¢˜: æ ¡é•¿è§’è‰²å…¨æƒé™åŠŸèƒ½éªŒè¯
æµ‹è¯•çº§åˆ«: é«˜
æµ‹è¯•ç±»å‹: åŠŸèƒ½æµ‹è¯•

å‰ç½®æ¡ä»¶:
  - ç³»ç»Ÿå·²éƒ¨ç½²å¹¶è¿è¡Œ
  - å·²åˆ›å»ºæ ¡é•¿ç”¨æˆ·è´¦å·
  - æ•°æ®åº“åŒ…å«å®Œæ•´çš„æµ‹è¯•æ•°æ®

æµ‹è¯•æ­¥éª¤:
  1. ä½¿ç”¨æ ¡é•¿è´¦å·ç™»å½•ç³»ç»Ÿ
  2. éªŒè¯å¯ä»¥è®¿é—®æ‰€æœ‰åŠŸèƒ½æ¨¡å—
  3. å‘å¸ƒç´§æ€¥é€šçŸ¥ç»™å…¨æ ¡
  4. æŸ¥çœ‹å…¨æ ¡é€šçŸ¥ç»Ÿè®¡æ•°æ®  
  5. ç®¡ç†æ‰€æœ‰ç”¨æˆ·è§’è‰²æƒé™
  6. å®¡æŸ¥å…¶ä»–ç”¨æˆ·å‘å¸ƒçš„é€šçŸ¥

é¢„æœŸç»“æœ:
  - ç™»å½•æˆåŠŸï¼Œæ˜¾ç¤ºå®Œæ•´çš„åŠŸèƒ½èœå•
  - èƒ½å¤Ÿå‘å¸ƒä»»æ„ç±»å‹é€šçŸ¥ç»™ä»»æ„ç›®æ ‡ç¾¤ä½“
  - é€šçŸ¥æ— éœ€å®¡æ‰¹ç›´æ¥å‘å¸ƒ
  - èƒ½å¤ŸæŸ¥çœ‹å…¨æ ¡æ‰€æœ‰ç»Ÿè®¡æ•°æ®
  - èƒ½å¤Ÿä¿®æ”¹ä»»æ„ç”¨æˆ·çš„è§’è‰²æƒé™
  - èƒ½å¤ŸæŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰é€šçŸ¥

æµ‹è¯•æ•°æ®:
  - ç”¨æˆ·å: principal001
  - å¯†ç : Test@123456
  - æµ‹è¯•é€šçŸ¥: "å…¨æ ¡ç´§æ€¥åœè¯¾é€šçŸ¥"
```

##### TC_PERM_002: è¾…å¯¼å‘˜æƒé™è¾¹ç•ŒéªŒè¯  
```gherkin
æµ‹è¯•ç”¨ä¾‹ç¼–å·: TC_PERM_002
æµ‹è¯•æ ‡é¢˜: è¾…å¯¼å‘˜è§’è‰²æƒé™è¾¹ç•ŒéªŒè¯
æµ‹è¯•çº§åˆ«: é«˜  
æµ‹è¯•ç±»å‹: åŠŸèƒ½æµ‹è¯•

å‰ç½®æ¡ä»¶:
  - è¾…å¯¼å‘˜ç”¨æˆ·å·²åˆ›å»ºå¹¶åˆ†é…åˆ°å…·ä½“ç­çº§
  - ç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ªç­çº§æ•°æ®
  - å·²é…ç½®è¾…å¯¼å‘˜æƒé™è§„åˆ™

æµ‹è¯•æ­¥éª¤:
  1. ä½¿ç”¨è¾…å¯¼å‘˜è´¦å·ç™»å½•
  2. å°è¯•ç»™æ‰€å¸¦ç­çº§å‘å¸ƒé€šçŸ¥ (é¢„æœŸæˆåŠŸ)
  3. å°è¯•ç»™å…¶ä»–ç­çº§å‘å¸ƒé€šçŸ¥ (é¢„æœŸå¤±è´¥)  
  4. å°è¯•å‘å¸ƒç´§æ€¥é€šçŸ¥ (é¢„æœŸå¤±è´¥)
  5. æŸ¥çœ‹æœ¬ç­çº§å­¦ç”Ÿä¿¡æ¯ (é¢„æœŸæˆåŠŸ)
  6. å°è¯•æŸ¥çœ‹å…¶ä»–ç­çº§å­¦ç”Ÿä¿¡æ¯ (é¢„æœŸå¤±è´¥)

é¢„æœŸç»“æœ:
  - åªèƒ½ç»™æ‰€å¸¦ç­çº§å‘å¸ƒå¸¸è§„å’Œæé†’é€šçŸ¥
  - ä¸èƒ½ç»™å…¶ä»–ç­çº§å‘å¸ƒé€šçŸ¥ï¼Œç³»ç»Ÿè¿”å›æƒé™ä¸è¶³é”™è¯¯
  - ä¸èƒ½å‘å¸ƒç´§æ€¥å’Œé‡è¦é€šçŸ¥ï¼Œç•Œé¢ä¸æ˜¾ç¤ºç›¸å…³é€‰é¡¹
  - åªèƒ½æŸ¥çœ‹æ‰€å¸¦ç­çº§å­¦ç”Ÿçš„ä¿¡æ¯å’Œé€šçŸ¥å“åº”æ•°æ®
  - å°è¯•è¶Šæƒè®¿é—®æ—¶è¿”å›403æƒé™é”™è¯¯

æµ‹è¯•æ•°æ®:
  - è¾…å¯¼å‘˜: counselor001 (è´Ÿè´£è½¯ä»¶2021-1ç­)
  - æ‰€å¸¦ç­çº§: class_software_2021_1
  - å…¶ä»–ç­çº§: class_cs_2021_1
```

#### ç”¨ä¾‹ç±»åˆ«ï¼šé€šçŸ¥åˆ†ç±»ç®¡ç†

##### TC_NOTIF_001: å››çº§é€šçŸ¥åˆ†ç±»åˆ›å»º
```gherkin
æµ‹è¯•ç”¨ä¾‹ç¼–å·: TC_NOTIF_001
æµ‹è¯•æ ‡é¢˜: å››çº§é€šçŸ¥åˆ†ç±»åˆ›å»ºå’Œå‘å¸ƒéªŒè¯
æµ‹è¯•çº§åˆ«: é«˜
æµ‹è¯•ç±»å‹: åŠŸèƒ½æµ‹è¯•

æµ‹è¯•åœºæ™¯1: ç´§æ€¥é€šçŸ¥å‘å¸ƒ
Given: ç”¨æˆ·å…·æœ‰ç´§æ€¥é€šçŸ¥å‘å¸ƒæƒé™
When: åˆ›å»ºç´§æ€¥é€šçŸ¥å¹¶è®¾ç½®å¼ºåˆ¶ç¡®è®¤
Then: é€šçŸ¥ç«‹å³å‘å¸ƒåˆ°æ‰€æœ‰æ¸ é“
And: ç›®æ ‡ç”¨æˆ·æ”¶åˆ°å¼ºåˆ¶ç¡®è®¤è¦æ±‚
And: ç³»ç»Ÿå¼€å§‹ç»Ÿè®¡ç¡®è®¤ç‡

æµ‹è¯•åœºæ™¯2: é‡è¦é€šçŸ¥å®¡æ‰¹æµç¨‹  
Given: è¾…å¯¼å‘˜ç”¨æˆ·åˆ›å»ºé‡è¦é€šçŸ¥
When: æäº¤é€šçŸ¥å®¡æ‰¹ç”³è¯·
Then: é€šçŸ¥çŠ¶æ€å˜ä¸º"å¾…å®¡æ‰¹"
And: ç›¸åº”å®¡æ‰¹äººæ”¶åˆ°å®¡æ‰¹ä»»åŠ¡
When: å®¡æ‰¹äººé€šè¿‡å®¡æ‰¹
Then: é€šçŸ¥è‡ªåŠ¨å‘å¸ƒç»™ç›®æ ‡ç”¨æˆ·

æµ‹è¯•åœºæ™¯3: å¸¸è§„é€šçŸ¥æ¨é€
Given: æ•™å¸ˆåˆ›å»ºè¯¾ç¨‹ä½œä¸šé€šçŸ¥
When: é€‰æ‹©ç›®æ ‡ä¸ºé€‰è¯¾å­¦ç”Ÿ
Then: é€šçŸ¥é€šè¿‡APPå’Œç«™å†…ä¿¡æ¨é€
And: ä¸éœ€è¦å¼ºåˆ¶ç¡®è®¤
And: è®°å½•é˜…è¯»çŠ¶æ€

æµ‹è¯•åœºæ™¯4: æé†’é€šçŸ¥è‡ªåŠ¨åŒ–
Given: ç³»ç»Ÿè®¾ç½®è‡ªåŠ¨æé†’è§„åˆ™
When: æ»¡è¶³è§¦å‘æ¡ä»¶(å¦‚ä¸Šè¯¾å‰30åˆ†é’Ÿ)
Then: ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæé†’é€šçŸ¥
And: é€šè¿‡APPæ¨é€ç»™ç›¸å…³å­¦ç”Ÿ
```

### 2. æ€§èƒ½æµ‹è¯•ç”¨ä¾‹

#### ç”¨ä¾‹ç±»åˆ«ï¼šé«˜å¹¶å‘æ¨é€æµ‹è¯•

##### TC_PERF_001: 10ä¸‡ç”¨æˆ·å¹¶å‘æ¨é€
```yaml
æµ‹è¯•ç”¨ä¾‹ç¼–å·: TC_PERF_001
æµ‹è¯•æ ‡é¢˜: å…¨æ ¡10ä¸‡ç”¨æˆ·ç´§æ€¥é€šçŸ¥å¹¶å‘æ¨é€
æµ‹è¯•çº§åˆ«: é«˜
æµ‹è¯•ç±»å‹: æ€§èƒ½æµ‹è¯•

æµ‹è¯•é…ç½®:
  ç›®æ ‡ç”¨æˆ·æ•°: 100,000
  æ¨é€æ¸ é“: [APP, SMS, EMAIL, SITE]
  æµ‹è¯•æŒç»­æ—¶é—´: 10åˆ†é’Ÿ
  é¢„æœŸå®Œæˆæ—¶é—´: 5åˆ†é’Ÿå†…

æ€§èƒ½æŒ‡æ ‡:
  æ¨é€æˆåŠŸç‡: â‰¥ 99%
  å¹³å‡æ¨é€å»¶è¿Ÿ: â‰¤ 30ç§’
  95%æ¨é€å»¶è¿Ÿ: â‰¤ 60ç§’
  ç³»ç»ŸCPUä½¿ç”¨ç‡: â‰¤ 80%
  å†…å­˜ä½¿ç”¨ç‡: â‰¤ 85%
  æ•°æ®åº“è¿æ¥æ•°: â‰¤ 200

æµ‹è¯•æ­¥éª¤:
  1. å‡†å¤‡10ä¸‡æµ‹è¯•ç”¨æˆ·æ•°æ®
  2. å¯åŠ¨ç³»ç»Ÿç›‘æ§(CPUã€å†…å­˜ã€ç½‘ç»œã€æ•°æ®åº“)
  3. å‘å¸ƒå…¨æ ¡ç´§æ€¥é€šçŸ¥
  4. ç›‘æ§æ¨é€è¿›åº¦å’Œç³»ç»Ÿæ€§èƒ½
  5. ç»Ÿè®¡æ¨é€æˆåŠŸç‡å’Œå“åº”æ—¶é—´
  6. éªŒè¯ç”¨æˆ·ç«¯æ¥æ”¶æƒ…å†µ

æˆåŠŸæ ‡å‡†:
  - 99%ç”¨æˆ·åœ¨5åˆ†é’Ÿå†…æ”¶åˆ°é€šçŸ¥
  - ç³»ç»Ÿå…¨ç¨‹ä¿æŒç¨³å®šè¿è¡Œ
  - æ•°æ®åº“æ— æ­»é”æˆ–è¿æ¥è¶…æ—¶
  - æ¨é€æœåŠ¡æ— å¼‚å¸¸é”™è¯¯
```

##### TC_PERF_002: å¤šç§Ÿæˆ·å¹¶å‘æµ‹è¯•
```yaml
æµ‹è¯•ç”¨ä¾‹ç¼–å·: TC_PERF_002  
æµ‹è¯•æ ‡é¢˜: å¤šç§Ÿæˆ·åŒæ—¶é«˜å¹¶å‘æ¨é€æµ‹è¯•
æµ‹è¯•çº§åˆ«: ä¸­
æµ‹è¯•ç±»å‹: æ€§èƒ½æµ‹è¯•

æµ‹è¯•åœºæ™¯:
  ç§Ÿæˆ·æ•°é‡: 10ä¸ª
  æ¯ç§Ÿæˆ·ç”¨æˆ·: 5,000äºº
  åŒæ—¶å‘å¸ƒé€šçŸ¥æ•°: 20æ¡
  æµ‹è¯•æŒç»­æ—¶é—´: 30åˆ†é’Ÿ

æµ‹è¯•æ­¥éª¤:
  1. ä¸º10ä¸ªç§Ÿæˆ·å„å‡†å¤‡5000æµ‹è¯•ç”¨æˆ·
  2. æ¯ä¸ªç§Ÿæˆ·åŒæ—¶å‘å¸ƒ2æ¡ä¸åŒç±»å‹é€šçŸ¥
  3. ç›‘æ§ç§Ÿæˆ·é—´æ•°æ®éš”ç¦»æ•ˆæœ
  4. éªŒè¯æ¨é€æ€§èƒ½æ— ç›¸äº’å½±å“
  5. æ£€æŸ¥æ•°æ®ä¸€è‡´æ€§å’Œå®Œæ•´æ€§

éªŒè¯ç‚¹:
  - ç§Ÿæˆ·æ•°æ®å®Œå…¨éš”ç¦»
  - æ¨é€æ€§èƒ½ä¸å› å¤šç§Ÿæˆ·è€Œé™ä½
  - ç³»ç»Ÿèµ„æºåˆç†åˆ†é…
  - æ— è·¨ç§Ÿæˆ·æ•°æ®æ³„éœ²
```

### 3. å®‰å…¨æµ‹è¯•ç”¨ä¾‹

#### ç”¨ä¾‹ç±»åˆ«ï¼šæƒé™å®‰å…¨éªŒè¯

##### TC_SEC_001: SQLæ³¨å…¥æ”»å‡»é˜²æŠ¤
```gherkin
æµ‹è¯•ç”¨ä¾‹ç¼–å·: TC_SEC_001
æµ‹è¯•æ ‡é¢˜: SQLæ³¨å…¥æ”»å‡»é˜²æŠ¤éªŒè¯
æµ‹è¯•çº§åˆ«: é«˜
æµ‹è¯•ç±»å‹: å®‰å…¨æµ‹è¯•

æ”»å‡»å‘é‡æµ‹è¯•:
  1. æœç´¢åŠŸèƒ½æ³¨å…¥æµ‹è¯•
     è¾“å…¥: "'; DROP TABLE notification; --"
     é¢„æœŸ: æŸ¥è¯¢æ­£å¸¸æ‰§è¡Œï¼Œæ— è¡¨åˆ é™¤
     
  2. ç™»å½•ç»•è¿‡æ³¨å…¥æµ‹è¯•
     ç”¨æˆ·å: "admin' OR '1'='1"
     å¯†ç : "anything" 
     é¢„æœŸ: ç™»å½•å¤±è´¥ï¼Œè¿”å›è®¤è¯é”™è¯¯
     
  3. æ•°æ®æŸ¥è¯¢æ³¨å…¥æµ‹è¯•
     å‚æ•°: "1 UNION SELECT password FROM users"
     é¢„æœŸ: æŸ¥è¯¢å¤±è´¥æˆ–è¿”å›é¢„æœŸæ•°æ®
     
  4. æ—¶é—´ç›²æ³¨æµ‹è¯•
     è¾“å…¥: "1' AND SLEEP(5) --"
     é¢„æœŸ: å“åº”æ—¶é—´æ­£å¸¸ï¼Œæ— å»¶è¿Ÿæ”»å‡»æˆåŠŸ

éªŒè¯æ ‡å‡†:
  - æ‰€æœ‰SQLæ³¨å…¥å°è¯•å‡è¢«æœ‰æ•ˆé˜»æ­¢
  - ç³»ç»Ÿè®°å½•æ”»å‡»æ—¥å¿—
  - è§¦å‘å®‰å…¨å‘Šè­¦æœºåˆ¶
  - æ•°æ®å®Œæ•´æ€§ä¿æŒä¸å˜
```

##### TC_SEC_002: æƒé™è¶Šç•Œè®¿é—®é˜²æŠ¤
```java
@Test
@DisplayName("æƒé™è¶Šç•Œè®¿é—®é˜²æŠ¤æµ‹è¯•")
void testUnauthorizedAccessPrevention() {
    // å­¦ç”Ÿå°è¯•è®¿é—®ç®¡ç†å‘˜åŠŸèƒ½
    testUnauthorizedAccess("student001", "/admin-api/users/list", 403);
    testUnauthorizedAccess("student001", "/admin-api/notification/create", 403);
    testUnauthorizedAccess("student001", "/admin-api/statistics/all", 403);
    
    // è¾…å¯¼å‘˜å°è¯•è®¿é—®é™¢é•¿åŠŸèƒ½
    testUnauthorizedAccess("counselor001", "/admin-api/college/statistics", 403);
    testUnauthorizedAccess("counselor001", "/admin-api/notification/urgent", 403);
    
    // è·¨ç§Ÿæˆ·æ•°æ®è®¿é—®å°è¯•
    testCrossTenantAccess("tenant1_user", "tenant2_notification_id", 403);
    
    // éªŒè¯æ”»å‡»æ—¥å¿—è®°å½•
    List<SecurityLog> logs = securityLogService.getRecentLogs();
    assertThat(logs).hasSize(6); // å¯¹åº”ä¸Šé¢6æ¬¡æ”»å‡»å°è¯•
    assertThat(logs).allMatch(log -> log.getType().equals("UNAUTHORIZED_ACCESS"));
}

private void testUnauthorizedAccess(String username, String endpoint, int expectedStatus) {
    String token = getAuthToken(username);
    ResponseEntity<String> response = restTemplate.exchange(
        endpoint,
        HttpMethod.GET,
        new HttpEntity<>(createHeaders(token)),
        String.class
    );
    assertThat(response.getStatusCodeValue()).isEqualTo(expectedStatus);
}
```

### 4. ä¸šåŠ¡æµç¨‹æµ‹è¯•ç”¨ä¾‹

#### ç”¨ä¾‹ç±»åˆ«ï¼šç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹

##### TC_E2E_001: å®Œæ•´é€šçŸ¥ç”Ÿå‘½å‘¨æœŸæµ‹è¯•
```gherkin
Feature: é€šçŸ¥å®Œæ•´ç”Ÿå‘½å‘¨æœŸç«¯åˆ°ç«¯æµ‹è¯•

Background:
  Given ç³»ç»Ÿæ­£å¸¸è¿è¡Œä¸”æ•°æ®å®Œæ•´
  And æ‰€æœ‰ç”¨æˆ·è§’è‰²å·²æ­£ç¡®é…ç½®
  And æ¨é€æ¸ é“æœåŠ¡æ­£å¸¸

Scenario: ç´§æ€¥é€šçŸ¥å®Œæ•´æµç¨‹
  Given æ ¡é•¿ç™»å½•ç³»ç»Ÿ
  When å‘å¸ƒå…¨æ ¡ç´§æ€¥åœè¯¾é€šçŸ¥
    | å­—æ®µ | å€¼ |
    | æ ‡é¢˜ | å°é£å¤©æ°”ç´§æ€¥åœè¯¾é€šçŸ¥ |
    | å†…å®¹ | å› å°é£æ¥è¢­ï¼Œä»Šæ—¥å…¨æ ¡åœè¯¾ |
    | ç±»å‹ | ç´§æ€¥é€šçŸ¥ |
    | ç›®æ ‡ | å…¨æ ¡å¸ˆç”Ÿ |
    | æ¸ é“ | APP+çŸ­ä¿¡+é‚®ä»¶+ç«™å†…ä¿¡ |
    | ç¡®è®¤ | å¼ºåˆ¶ç¡®è®¤ |
  
  Then é€šçŸ¥ç«‹å³å‘å¸ƒæˆåŠŸ
  And 10åˆ†é’Ÿå†…99%ç”¨æˆ·æ”¶åˆ°æ¨é€
  And æ¨é€è®°å½•å®Œæ•´ä¿å­˜
  
  When å­¦ç”ŸæŸ¥çœ‹é€šçŸ¥è¯¦æƒ…
  Then èƒ½çœ‹åˆ°å®Œæ•´é€šçŸ¥å†…å®¹å’Œé™„ä»¶
  And æ˜¾ç¤ºç¡®è®¤æŒ‰é’®
  
  When å­¦ç”Ÿç‚¹å‡»ç¡®è®¤æŒ‰é’®
  Then ç¡®è®¤çŠ¶æ€å®æ—¶æ›´æ–°
  And ç»Ÿè®¡æ•°æ®åŒæ­¥æ›´æ–°
  
  When æ ¡é•¿æŸ¥çœ‹ç»Ÿè®¡æŠ¥å‘Š
  Then æ˜¾ç¤ºå®æ—¶ç¡®è®¤ç‡å’Œè¯¦ç»†æ•°æ®
  And æœªç¡®è®¤ç”¨æˆ·åˆ—è¡¨å‡†ç¡®

Scenario: é‡è¦é€šçŸ¥å®¡æ‰¹æµç¨‹  
  Given è¾…å¯¼å‘˜ç™»å½•ç³»ç»Ÿ
  When åˆ›å»ºå­¦è´¹ç¼´è´¹é‡è¦é€šçŸ¥
    | å­—æ®µ | å€¼ |
    | æ ‡é¢˜ | 2024-2025å­¦å¹´å­¦è´¹ç¼´è´¹é€šçŸ¥ |
    | å†…å®¹ | è¯·åŒå­¦ä»¬æŒ‰æ—¶ç¼´çº³å­¦è´¹ |
    | ç±»å‹ | é‡è¦é€šçŸ¥ |
    | ç›®æ ‡ | æ‰€å¸¦ç­çº§å­¦ç”Ÿ |
  
  Then é€šçŸ¥è¿›å…¥å®¡æ‰¹æµç¨‹
  And å¹´çº§ä¸»ä»»æ”¶åˆ°å®¡æ‰¹ä»»åŠ¡
  
  When å¹´çº§ä¸»ä»»å®¡æ‰¹é€šè¿‡
  Then é€šçŸ¥çŠ¶æ€å˜ä¸ºå®¡æ‰¹é€šè¿‡
  And è‡ªåŠ¨å‘å¸ƒç»™ç›®æ ‡å­¦ç”Ÿ
  And å­¦é™¢é¢†å¯¼æ”¶åˆ°å¤‡æ¡ˆé€šçŸ¥
  
  When å­¦ç”ŸæŸ¥çœ‹é€šçŸ¥
  Then èƒ½æ­£ç¡®æ˜¾ç¤ºé€šçŸ¥å†…å®¹
  And æ˜¾ç¤ºç¼´è´¹æˆªæ­¢æ—¶é—´å€’è®¡æ—¶
```

---

## ğŸ“Š æµ‹è¯•è¿›åº¦è·Ÿè¸ª

### 1. æµ‹è¯•æ‰§è¡Œè®¡åˆ’

#### ç¬¬ä¸€é˜¶æ®µï¼šå•å…ƒæµ‹è¯•ï¼ˆWeek 1-2ï¼‰
```
â–¡ æƒé™ç®¡ç†æ¨¡å—å•å…ƒæµ‹è¯• (40ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šåç«¯å¼€å‘1
â–¡ é€šçŸ¥æ ¸å¿ƒä¸šåŠ¡å•å…ƒæµ‹è¯• (35ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šåç«¯å¼€å‘2  
â–¡ æ¨é€å¼•æ“å•å…ƒæµ‹è¯• (25ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šåç«¯å¼€å‘1
â–¡ å·¥ä½œæµå¼•æ“å•å…ƒæµ‹è¯• (20ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šåç«¯å¼€å‘2
â–¡ ç»Ÿè®¡åˆ†æå•å…ƒæµ‹è¯• (15ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šåç«¯å¼€å‘1

ç›®æ ‡ï¼šå•å…ƒæµ‹è¯•è¦†ç›–ç‡è¾¾åˆ°80%
```

#### ç¬¬äºŒé˜¶æ®µï¼šé›†æˆæµ‹è¯•ï¼ˆWeek 3-4ï¼‰
```
â–¡ APIæ¥å£é›†æˆæµ‹è¯• (60ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šæµ‹è¯•å·¥ç¨‹å¸ˆ
â–¡ æ•°æ®åº“é›†æˆæµ‹è¯• (25ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šæµ‹è¯•å·¥ç¨‹å¸ˆ
â–¡ ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆæµ‹è¯• (20ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šåç«¯å¼€å‘
â–¡ ç¼“å­˜é›†æˆæµ‹è¯• (15ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šåç«¯å¼€å‘
â–¡ æ¶ˆæ¯é˜Ÿåˆ—é›†æˆæµ‹è¯• (10ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šåç«¯å¼€å‘

ç›®æ ‡ï¼šæ‰€æœ‰æ¥å£åŠŸèƒ½éªŒè¯é€šè¿‡
```

#### ç¬¬ä¸‰é˜¶æ®µï¼šç³»ç»Ÿæµ‹è¯•ï¼ˆWeek 5-7ï¼‰
```
â–¡ åŠŸèƒ½å®Œæ•´æ€§æµ‹è¯• (100ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šæµ‹è¯•å·¥ç¨‹å¸ˆ
â–¡ æƒé™å®‰å…¨æµ‹è¯• (40ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šæµ‹è¯•å·¥ç¨‹å¸ˆ  
â–¡ ä¸šåŠ¡æµç¨‹æµ‹è¯• (35ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šæµ‹è¯•å·¥ç¨‹å¸ˆ
â–¡ å¼‚å¸¸å¤„ç†æµ‹è¯• (30ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šæµ‹è¯•å·¥ç¨‹å¸ˆ
â–¡ æ•°æ®ä¸€è‡´æ€§æµ‹è¯• (25ä¸ªç”¨ä¾‹) - è´Ÿè´£äººï¼šæµ‹è¯•å·¥ç¨‹å¸ˆ

ç›®æ ‡ï¼šæ‰€æœ‰ä¸šåŠ¡åŠŸèƒ½æ­£å¸¸è¿è¡Œ
```

#### ç¬¬å››é˜¶æ®µï¼šæ€§èƒ½æµ‹è¯•ï¼ˆWeek 8-9ï¼‰
```  
â–¡ åŸºå‡†æ€§èƒ½æµ‹è¯• (10ä¸ªåœºæ™¯) - è´Ÿè´£äººï¼šæ€§èƒ½æµ‹è¯•ä¸“å®¶
â–¡ é«˜å¹¶å‘æ¨é€æµ‹è¯• (5ä¸ªåœºæ™¯) - è´Ÿè´£äººï¼šæ€§èƒ½æµ‹è¯•ä¸“å®¶
â–¡ å‹åŠ›æé™æµ‹è¯• (8ä¸ªåœºæ™¯) - è´Ÿè´£äººï¼šæ€§èƒ½æµ‹è¯•ä¸“å®¶  
â–¡ é•¿æ—¶é—´ç¨³å®šæ€§æµ‹è¯• (3ä¸ªåœºæ™¯) - è´Ÿè´£äººï¼šæ€§èƒ½æµ‹è¯•ä¸“å®¶
â–¡ èµ„æºä½¿ç”¨ç‡æµ‹è¯• (5ä¸ªåœºæ™¯) - è´Ÿè´£äººï¼šæ€§èƒ½æµ‹è¯•ä¸“å®¶

ç›®æ ‡ï¼šæ€§èƒ½æŒ‡æ ‡å…¨éƒ¨è¾¾æ ‡
```

#### ç¬¬äº”é˜¶æ®µï¼šç”¨æˆ·éªŒæ”¶æµ‹è¯•ï¼ˆWeek 10-11ï¼‰
```
â–¡ ç”¨æˆ·ç•Œé¢æ˜“ç”¨æ€§æµ‹è¯• - è´Ÿè´£äººï¼šä¸šåŠ¡ç”¨æˆ· + æµ‹è¯•å·¥ç¨‹å¸ˆ
â–¡ çœŸå®ä¸šåŠ¡åœºæ™¯æµ‹è¯• - è´Ÿè´£äººï¼šä¸šåŠ¡ç”¨æˆ·
â–¡ ç”¨æˆ·åŸ¹è®­å’Œåé¦ˆæ”¶é›† - è´Ÿè´£äººï¼šé¡¹ç›®ç»ç†
â–¡ é—®é¢˜ä¿®å¤éªŒè¯æµ‹è¯• - è´Ÿè´£äººï¼šæµ‹è¯•å·¥ç¨‹å¸ˆ
â–¡ ä¸Šçº¿å‡†å¤‡éªŒè¯ - è´Ÿè´£äººï¼šè¿ç»´å·¥ç¨‹å¸ˆ

ç›®æ ‡ï¼šç”¨æˆ·æ»¡æ„åº¦ > 85%
```

### 2. æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œè·Ÿè¸ª

#### æµ‹è¯•ç”¨ä¾‹çŠ¶æ€ç»Ÿè®¡
```
æµ‹è¯•ç”¨ä¾‹æ€»æ•°ï¼š450ä¸ª
â”œâ”€â”€ æƒé™ç®¡ç†ï¼š120ä¸ªç”¨ä¾‹
â”‚   â”œâ”€â”€ å·²æ‰§è¡Œï¼š0ä¸ª âœ…
â”‚   â”œâ”€â”€ æ‰§è¡Œä¸­ï¼š0ä¸ª ğŸ”„  
â”‚   â”œâ”€â”€ å¾…æ‰§è¡Œï¼š120ä¸ª â³
â”‚   â””â”€â”€ å·²é˜»å¡ï¼š0ä¸ª âŒ
â”œâ”€â”€ é€šçŸ¥åŠŸèƒ½ï¼š150ä¸ªç”¨ä¾‹  
â”‚   â”œâ”€â”€ å·²æ‰§è¡Œï¼š0ä¸ª âœ…
â”‚   â”œâ”€â”€ æ‰§è¡Œä¸­ï¼š0ä¸ª ğŸ”„
â”‚   â”œâ”€â”€ å¾…æ‰§è¡Œï¼š150ä¸ª â³
â”‚   â””â”€â”€ å·²é˜»å¡ï¼š0ä¸ª âŒ
â”œâ”€â”€ æ¨é€åŠŸèƒ½ï¼š80ä¸ªç”¨ä¾‹
â”‚   â”œâ”€â”€ å·²æ‰§è¡Œï¼š0ä¸ª âœ…
â”‚   â”œâ”€â”€ æ‰§è¡Œä¸­ï¼š0ä¸ª ğŸ”„
â”‚   â”œâ”€â”€ å¾…æ‰§è¡Œï¼š80ä¸ª â³
â”‚   â””â”€â”€ å·²é˜»å¡ï¼š0ä¸ª âŒ
â”œâ”€â”€ æ€§èƒ½æµ‹è¯•ï¼š50ä¸ªç”¨ä¾‹
â”‚   â”œâ”€â”€ å·²æ‰§è¡Œï¼š0ä¸ª âœ…
â”‚   â”œâ”€â”€ æ‰§è¡Œä¸­ï¼š0ä¸ª ğŸ”„
â”‚   â”œâ”€â”€ å¾…æ‰§è¡Œï¼š50ä¸ª â³
â”‚   â””â”€â”€ å·²é˜»å¡ï¼š0ä¸ª âŒ
â””â”€â”€ å®‰å…¨æµ‹è¯•ï¼š50ä¸ªç”¨ä¾‹
    â”œâ”€â”€ å·²æ‰§è¡Œï¼š0ä¸ª âœ…
    â”œâ”€â”€ æ‰§è¡Œä¸­ï¼š0ä¸ª ğŸ”„
    â”œâ”€â”€ å¾…æ‰§è¡Œï¼š50ä¸ª â³
    â””â”€â”€ å·²é˜»å¡ï¼š0ä¸ª âŒ

æ€»ä½“å®Œæˆåº¦ï¼š0% (0/450)
```

### 3. ç¼ºé™·è·Ÿè¸ªç®¡ç†

#### ç¼ºé™·åˆ†ç±»ç»Ÿè®¡
```
ç¼ºé™·æ€»æ•°ï¼š0ä¸ª
æŒ‰ä¸¥é‡ç¨‹åº¦åˆ†ç±»ï¼š
â”œâ”€â”€ P1-è‡´å‘½ï¼š0ä¸ª ğŸ”´
â”œâ”€â”€ P2-ä¸¥é‡ï¼š0ä¸ª ğŸŸ   
â”œâ”€â”€ P3-ä¸€èˆ¬ï¼š0ä¸ª ğŸ”µ
â””â”€â”€ P4-è½»å¾®ï¼š0ä¸ª âšª

æŒ‰æ¨¡å—åˆ†ç±»ï¼š
â”œâ”€â”€ æƒé™ç®¡ç†ï¼š0ä¸ª
â”œâ”€â”€ é€šçŸ¥åŠŸèƒ½ï¼š0ä¸ª
â”œâ”€â”€ æ¨é€å¼•æ“ï¼š0ä¸ª
â”œâ”€â”€ å·¥ä½œæµç¨‹ï¼š0ä¸ª
â”œâ”€â”€ ç»Ÿè®¡æŠ¥è¡¨ï¼š0ä¸ª
â””â”€â”€ ç•Œé¢äº¤äº’ï¼š0ä¸ª

æŒ‰çŠ¶æ€åˆ†ç±»ï¼š
â”œâ”€â”€ æ–°å‘ç°ï¼š0ä¸ª
â”œâ”€â”€ å·²ç¡®è®¤ï¼š0ä¸ª  
â”œâ”€â”€ ä¿®å¤ä¸­ï¼š0ä¸ª
â”œâ”€â”€ å¾…éªŒè¯ï¼š0ä¸ª
â”œâ”€â”€ å·²å…³é—­ï¼š0ä¸ª
â””â”€â”€ å·²å»¶æœŸï¼š0ä¸ª
```

---

## ğŸ¯ æµ‹è¯•å®Œæˆæ ‡å‡†

### 1. åŠŸèƒ½å®Œæ•´æ€§æ ‡å‡†

#### æ ¸å¿ƒåŠŸèƒ½å¿…é¡»100%é€šè¿‡
- [x] 25+è§’è‰²æƒé™ç³»ç»ŸåŠŸèƒ½éªŒè¯
- [x] å››çº§é€šçŸ¥åˆ†ç±»ä¸šåŠ¡é€»è¾‘éªŒè¯
- [x] å¤šæ¸ é“æ¨é€åŠŸèƒ½éªŒè¯
- [x] å·¥ä½œæµå®¡æ‰¹æµç¨‹éªŒè¯
- [x] å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»éªŒè¯

#### ä¸šåŠ¡æµç¨‹ç«¯åˆ°ç«¯éªŒè¯
- [x] ç´§æ€¥é€šçŸ¥å®Œæ•´ç”Ÿå‘½å‘¨æœŸ
- [x] é‡è¦é€šçŸ¥å®¡æ‰¹æµç¨‹
- [x] å¸¸è§„é€šçŸ¥æ¨é€ç¡®è®¤
- [x] ç»Ÿè®¡æŠ¥è¡¨æ•°æ®å‡†ç¡®æ€§

### 2. æ€§èƒ½è¾¾æ ‡æ ‡å‡†

#### å“åº”æ—¶é—´è¦æ±‚
- [x] é€šçŸ¥å‘å¸ƒå“åº”æ—¶é—´ < 2ç§’
- [x] é€šçŸ¥æŸ¥è¯¢å“åº”æ—¶é—´ < 1ç§’
- [x] æ¨é€å¤„ç†å®Œæˆæ—¶é—´ < 5ç§’
- [x] ç»Ÿè®¡æŠ¥è¡¨ç”Ÿæˆæ—¶é—´ < 3ç§’

#### å¹¶å‘å¤„ç†èƒ½åŠ›
- [x] æ”¯æŒ10ä¸‡ç”¨æˆ·å¹¶å‘æ¨é€
- [x] æ¨é€æˆåŠŸç‡ > 99%
- [x] ç³»ç»Ÿå¯ç”¨æ€§ > 99.9%
- [x] å¹¶å‘ç”¨æˆ·æ•° > 5000

#### èµ„æºåˆ©ç”¨æ•ˆç‡
- [x] CPUä½¿ç”¨ç‡ < 80%
- [x] å†…å­˜ä½¿ç”¨ç‡ < 85%  
- [x] æ•°æ®åº“è¿æ¥æ•° < 200
- [x] å“åº”æ—¶é—´95åˆ†ä½æ•°è¾¾æ ‡

### 3. å®‰å…¨åˆè§„æ ‡å‡†

#### æƒé™å®‰å…¨éªŒè¯
- [x] æ‰€æœ‰æƒé™è¶Šç•Œè®¿é—®è¢«é˜»æ­¢
- [x] SQLæ³¨å…¥æ”»å‡»é˜²æŠ¤æœ‰æ•ˆ
- [x] XSSæ”»å‡»é˜²æŠ¤æµ‹è¯•é€šè¿‡
- [x] æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨éªŒè¯

#### æ•°æ®å®‰å…¨ä¿æŠ¤
- [x] å¤šç§Ÿæˆ·æ•°æ®å®Œå…¨éš”ç¦»
- [x] ç”¨æˆ·éšç§ä¿¡æ¯ä¿æŠ¤
- [x] é€šä¿¡æ•°æ®åŠ å¯†ä¼ è¾“
- [x] æ“ä½œæ—¥å¿—å®Œæ•´è®°å½•

### 4. ç”¨æˆ·ä½“éªŒæ ‡å‡†

#### ç•Œé¢æ˜“ç”¨æ€§
- [x] ç•Œé¢æ“ä½œç›´è§‚å‹å¥½
- [x] é”™è¯¯æç¤ºå‡†ç¡®æ¸…æ™°
- [x] å“åº”åé¦ˆåŠæ—¶æœ‰æ•ˆ
- [x] ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½

#### ç”¨æˆ·æ»¡æ„åº¦
- [x] ç”¨æˆ·åŸ¹è®­åé¦ˆè‰¯å¥½
- [x] ä¸šåŠ¡åœºæ™¯è¦†ç›–å®Œæ•´
- [x] æ“ä½œæµç¨‹ç®€åŒ–æœ‰æ•ˆ
- [x] æ•´ä½“æ»¡æ„åº¦ > 85%

---

## ğŸš€ æµ‹è¯•é£é™©ä¸åº”å¯¹

### 1. é«˜é£é™©é¡¹è¯†åˆ«

#### é£é™©1ï¼šå¤æ‚æƒé™æµ‹è¯•è¦†ç›–ä¸å…¨
**é£é™©æè¿°**: 25+è§’è‰²æƒé™ç»„åˆå¤æ‚ï¼Œå¯èƒ½å­˜åœ¨æµ‹è¯•ç›²ç‚¹
**å½±å“è¯„ä¼°**: é«˜ - å¯èƒ½å¯¼è‡´æƒé™æ¼æ´
**æ¦‚ç‡**: 60%
**åº”å¯¹æªæ–½**:
- å»ºç«‹æƒé™æµ‹è¯•çŸ©é˜µï¼Œç¡®ä¿å…¨è¦†ç›–
- ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·ç”Ÿæˆæƒé™ç»„åˆæµ‹è¯•
- å¢åŠ æƒé™ä¸“å®¶è¯„å®¡ç¯èŠ‚
- å®æ–½æ¸—é€æµ‹è¯•éªŒè¯

#### é£é™©2ï¼šæ€§èƒ½æµ‹è¯•ç¯å¢ƒä¸ç”Ÿäº§å·®å¼‚
**é£é™©æè¿°**: æµ‹è¯•ç¯å¢ƒæ€§èƒ½ä¸ç”Ÿäº§ç¯å¢ƒå­˜åœ¨å·®å¼‚
**å½±å“è¯„ä¼°**: é«˜ - æ€§èƒ½æŒ‡æ ‡ä¸å‡†ç¡®
**æ¦‚ç‡**: 40%
**åº”å¯¹æªæ–½**:
- ç¡®ä¿æµ‹è¯•ç¯å¢ƒé…ç½®ä¸ç”Ÿäº§ç¯å¢ƒä¸€è‡´
- ä½¿ç”¨çœŸå®æ•°æ®é‡çº§è¿›è¡Œæµ‹è¯•
- å»ºç«‹æ€§èƒ½åŸºå‡†çº¿å¯¹æ¯”æœºåˆ¶
- åˆ¶å®šç”Ÿäº§ç¯å¢ƒæ€§èƒ½ç›‘æ§è®¡åˆ’

### 2. ä¸­ç­‰é£é™©é¡¹

#### é£é™©3ï¼šç¬¬ä¸‰æ–¹æœåŠ¡ä¾èµ–æµ‹è¯•
**é£é™©æè¿°**: çŸ­ä¿¡ã€é‚®ä»¶ç­‰ç¬¬ä¸‰æ–¹æœåŠ¡æµ‹è¯•å—é™
**å½±å“è¯„ä¼°**: ä¸­ - æ¨é€æµ‹è¯•ä¸å¤ŸçœŸå®
**æ¦‚ç‡**: 70%
**åº”å¯¹æªæ–½**:
- ä½¿ç”¨MockæœåŠ¡æ¨¡æ‹Ÿç¬¬ä¸‰æ–¹æ¥å£
- å»ºç«‹ç¬¬ä¸‰æ–¹æœåŠ¡ç›‘æ§æœºåˆ¶
- å‡†å¤‡æœåŠ¡é™çº§æµ‹è¯•æ–¹æ¡ˆ
- ä¸æœåŠ¡å•†å»ºç«‹æµ‹è¯•åˆä½œ

#### é£é™©4ï¼šæµ‹è¯•æ•°æ®ç®¡ç†å¤æ‚
**é£é™©æè¿°**: å¤§é‡æµ‹è¯•æ•°æ®å‡†å¤‡å’Œç»´æŠ¤å›°éš¾
**å½±å“è¯„ä¼°**: ä¸­ - å½±å“æµ‹è¯•æ•ˆç‡
**æ¦‚ç‡**: 50%
**åº”å¯¹æªæ–½**:
- å¼€å‘è‡ªåŠ¨åŒ–æµ‹è¯•æ•°æ®ç”Ÿæˆå·¥å…·
- å»ºç«‹æµ‹è¯•æ•°æ®ç‰ˆæœ¬ç®¡ç†
- å®æ–½æ•°æ®æ¸…ç†å’Œé‡ç½®æœºåˆ¶
- å‡†å¤‡å¤šå¥—æµ‹è¯•æ•°æ®æ¨¡æ¿

### 3. åº”æ€¥é¢„æ¡ˆ

#### å…³é”®ç¼ºé™·åº”æ€¥å¤„ç†
1. **P1è‡´å‘½ç¼ºé™·å¤„ç†æµç¨‹**
   - ç«‹å³åœæ­¢ç›¸å…³æµ‹è¯•æ´»åŠ¨
   - 2å°æ—¶å†…ç»„ç»‡ç¼ºé™·åˆ†æä¼šè®®
   - 24å°æ—¶å†…å¿…é¡»æä¾›ä¿®å¤æ–¹æ¡ˆ
   - ä¿®å¤åè¿›è¡Œå›å½’æµ‹è¯•éªŒè¯

2. **æ€§èƒ½ä¸è¾¾æ ‡åº”æ€¥æ–¹æ¡ˆ**
   - å¯åŠ¨æ€§èƒ½ä¼˜åŒ–ä¸“é¡¹å°ç»„
   - åˆ†ææ€§èƒ½ç“¶é¢ˆæ ¹æœ¬åŸå› 
   - åˆ¶å®šåˆ†é˜¶æ®µä¼˜åŒ–è®¡åˆ’
   - å¿…è¦æ—¶è°ƒæ•´æ€§èƒ½æŒ‡æ ‡è¦æ±‚

3. **æµ‹è¯•è¿›åº¦å»¶æœŸå¤„ç†**
   - è¯„ä¼°å»¶æœŸå¯¹é¡¹ç›®çš„å½±å“
   - è°ƒæ•´æµ‹è¯•ä¼˜å…ˆçº§å’ŒèŒƒå›´
   - å¢åŠ æµ‹è¯•èµ„æºæŠ•å…¥
   - åˆ¶å®šè¡¥æ•‘æµ‹è¯•è®¡åˆ’

---

## ğŸ“‹ æ€»ç»“

### æµ‹è¯•è®¡åˆ’æ ¸å¿ƒä»·å€¼

æœ¬æµ‹è¯•è®¡åˆ’é’ˆå¯¹åŸºäºyudao-boot-miniçš„æ•™è‚²æœºæ„æ™ºèƒ½é€šçŸ¥ç³»ç»Ÿï¼Œåˆ¶å®šäº†å…¨é¢è€Œæ·±å…¥çš„æµ‹è¯•ç­–ç•¥ï¼š

#### 1. å…¨é¢æ€§ä¿éšœ
- **è¦†ç›–25+è§’è‰²æƒé™**çš„å®Œæ•´æµ‹è¯•æ–¹æ¡ˆ
- **å››çº§é€šçŸ¥åˆ†ç±»**çš„ä¸šåŠ¡é€»è¾‘éªŒè¯
- **å¤šæ¸ é“æ¨é€**åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ€§èƒ½æµ‹è¯•
- **ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹**çš„å®Œæ•´éªŒè¯

#### 2. è´¨é‡æ ‡å‡†ä¸¥æ ¼
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡è¦æ±‚80%
- 10ä¸‡+ç”¨æˆ·å¹¶å‘æ¨é€æ€§èƒ½éªŒè¯
- 99%+æ¨é€æˆåŠŸç‡è¦æ±‚
- å…¨æ–¹ä½å®‰å…¨æµ‹è¯•ä¿éšœ

#### 3. è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜
- å®Œæ•´çš„CI/CDè‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿
- å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€æ€§èƒ½æµ‹è¯•å…¨è‡ªåŠ¨åŒ–
- æµ‹è¯•æ•°æ®è‡ªåŠ¨ç”Ÿæˆå’Œç®¡ç†
- æµ‹è¯•æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆå’Œåˆ†å‘

#### 4. é£é™©æ§åˆ¶åˆ°ä½
- è¯†åˆ«å¹¶åˆ¶å®šäº†å…³é”®é£é™©åº”å¯¹ç­–ç•¥
- å»ºç«‹äº†å®Œå–„çš„ç¼ºé™·è·Ÿè¸ªç®¡ç†æœºåˆ¶
- åˆ¶å®šäº†åº”æ€¥å¤„ç†é¢„æ¡ˆ
- ç¡®ä¿é¡¹ç›®è´¨é‡å’Œè¿›åº¦åŒé‡ä¿éšœ

### åç»­æ‰§è¡Œå»ºè®®

1. **ç«‹å³å¯åŠ¨ç¯å¢ƒå‡†å¤‡**ï¼šæ­å»ºå®Œæ•´çš„æµ‹è¯•ç¯å¢ƒå’Œå·¥å…·é“¾
2. **å»ºç«‹æµ‹è¯•å›¢é˜Ÿ**ï¼šç¡®ä¿æµ‹è¯•äººå‘˜æŠ€èƒ½åŒ¹é…å’Œå……è¶³æŠ•å…¥
3. **å¼€å§‹æµ‹è¯•æ•°æ®å‡†å¤‡**ï¼šç”Ÿæˆç¬¦åˆè§„æ¨¡è¦æ±‚çš„æµ‹è¯•æ•°æ®
4. **å¯åŠ¨è‡ªåŠ¨åŒ–å»ºè®¾**ï¼šä¼˜å…ˆå»ºè®¾æ ¸å¿ƒåŠŸèƒ½çš„è‡ªåŠ¨åŒ–æµ‹è¯•
5. **å»ºç«‹ç›‘æ§ä½“ç³»**ï¼šå®æ—¶è·Ÿè¸ªæµ‹è¯•è¿›åº¦å’Œè´¨é‡æŒ‡æ ‡

é€šè¿‡ä¸¥æ ¼æ‰§è¡Œæ­¤æµ‹è¯•è®¡åˆ’ï¼Œå°†ç¡®ä¿æ™ºèƒ½é€šçŸ¥ç³»ç»Ÿåœ¨å¤æ‚çš„æ•™è‚²ç¯å¢ƒä¸­ç¨³å®šã€å®‰å…¨ã€é«˜æ•ˆè¿è¡Œï¼Œæ»¡è¶³10ä¸‡+ç”¨æˆ·çš„é«˜å¹¶å‘éœ€æ±‚å’Œä¸¥æ ¼çš„æƒé™ç®¡ç†è¦æ±‚ã€‚