{
  "permissions": {
    "allow": [
      "Bash(mvn test:*)",
      "Bash(java:*)",
      "Bash(cat:*)",
      "Bash(choco install:*)",
      "Bash(refreshenv)",
      "Bash(source ~/.bashrc)",
      "Bash(echo $PATH)",
      "Bash(choco list:*)",
      "Bash(find:*)",
      "Bash(export PATH=\"$PATH:/c/Program Files/Eclipse Adoptium/jdk-17.0.2.8-hotspot/bin:/c/ProgramData/chocolatey/lib/maven/apache-maven-3.9.11/bin\")",
      "Bash(mvn:*)",
      "Bash(bash:*)",
      "Bash(choco search:*)",
      "Bash(export:*)",
      "Bash(mkdir:*)",
      "Bash(mv:*)",
      "Bash(grep:*)",
      "Bash(\"/c/ProgramData/chocolatey/lib/maven/apache-maven-3.9.11/bin/mvn.cmd\" -version)",
      "Bash(ss:*)",
      "Bash(rmdir:*)",
      "Bash(rm:*)",
      "Bash(\"force_demo_start.bat\")",
      "Bash(cmd /c:*)",
      "Bash(set JAVA_HOME=\"C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.14.7-hotspot\")",
      "Bash(set:*)",
      "Bash(set PATH=\"%JAVA_HOME%\\bin;%MAVEN_HOME%\\bin;%PATH%\")",
      "Bash(net start:*)",
      "Bash(sc query:*)",
      "Bash(where memurai-cli)",
      "Bash(\"C:\\Program Files\\Memurai\\memurai-cli.exe\" ping)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"CREATE DATABASE IF NOT EXISTS \\`ruoyi-vue-pro\\` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci; SHOW DATABASES;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT ''数据库初始化验证'' as Status; SELECT COUNT(*) as Category_Count FROM notification_category; SELECT COUNT(*) as Notification_Count FROM notification_info;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SHOW TABLES;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"CREATE TABLE IF NOT EXISTS test_table (id INT PRIMARY KEY, name VARCHAR(50)); SHOW TABLES;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"DROP TABLE IF EXISTS test_table; CREATE TABLE IF NOT EXISTS notification_category (id BIGINT AUTO_INCREMENT PRIMARY KEY, tenant_id BIGINT NOT NULL DEFAULT 0, name VARCHAR(50) NOT NULL, code VARCHAR(50) NOT NULL, description VARCHAR(200), icon VARCHAR(100), color VARCHAR(10), parent_id BIGINT DEFAULT 0, sort INT NOT NULL DEFAULT 0, status TINYINT NOT NULL DEFAULT 1, creator VARCHAR(64) DEFAULT '''', create_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, updater VARCHAR(64) DEFAULT '''', update_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, deleted BIT(1) NOT NULL DEFAULT 0) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; SHOW TABLES;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"CREATE TABLE IF NOT EXISTS notification_info (id BIGINT AUTO_INCREMENT PRIMARY KEY, tenant_id BIGINT NOT NULL DEFAULT 0, title VARCHAR(200) NOT NULL, content TEXT NOT NULL, summary VARCHAR(500), level TINYINT NOT NULL DEFAULT 3, status TINYINT NOT NULL DEFAULT 1, category_id BIGINT NOT NULL, publisher_id BIGINT NOT NULL, publisher_name VARCHAR(50) NOT NULL, publisher_role VARCHAR(30), scheduled_time DATETIME, expired_time DATETIME, push_channels JSON, require_confirm TINYINT DEFAULT 0, pinned TINYINT DEFAULT 0, push_count INT DEFAULT 0, read_count INT DEFAULT 0, confirm_count INT DEFAULT 0, creator VARCHAR(64) DEFAULT '''', create_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, updater VARCHAR(64) DEFAULT '''', update_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, deleted BIT(1) NOT NULL DEFAULT 0) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; SHOW TABLES;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"INSERT IGNORE INTO notification_category (id, tenant_id, name, code, description, icon, color, parent_id, sort, creator, updater) VALUES (1, 1, ''系统通知'', ''SYSTEM'', ''系统维护、更新等通知'', ''ep:setting'', ''#909399'', 0, 1, ''admin'', ''admin''), (2, 1, ''教务通知'', ''ACADEMIC'', ''课程、考试等教务相关通知'', ''ep:reading'', ''#409EFF'', 0, 2, ''admin'', ''admin''), (3, 1, ''财务通知'', ''FINANCE'', ''学费、奖学金等财务通知'', ''ep:money'', ''#67C23A'', 0, 3, ''admin'', ''admin''), (4, 1, ''活动通知'', ''ACTIVITY'', ''校园活动、社团活动通知'', ''ep:trophy'', ''#E6A23C'', 0, 4, ''admin'', ''admin''), (5, 1, ''安全通知'', ''SECURITY'', ''校园安全相关通知'', ''ep:warning-filled'', ''#F56C6C'', 0, 5, ''admin'', ''admin'');\")",
      "Bash(\"start_full_environment.bat\")",
      "Bash(start_full_environment.bat)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"SELECT ''MySQL连接正常'' as Status, COUNT(*) as Tables_Count FROM information_schema.tables WHERE table_schema=''ruoyi-vue-pro'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT * FROM system_users LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SHOW TABLES LIKE ''%user%'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, nickname FROM system_users;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 创建部门表\nCREATE TABLE IF NOT EXISTS system_dept (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''部门id'',\n    name varchar(30) NOT NULL DEFAULT '''' COMMENT ''部门名称'',\n    parent_id bigint NOT NULL DEFAULT 0 COMMENT ''父部门id'',\n    sort int NOT NULL DEFAULT 0 COMMENT ''显示顺序'',\n    leader_user_id bigint NULL DEFAULT NULL COMMENT ''负责人'',\n    phone varchar(11) NULL DEFAULT NULL COMMENT ''联系电话'',\n    email varchar(50) NULL DEFAULT NULL COMMENT ''邮箱'',\n    status tinyint NOT NULL COMMENT ''部门状态（0正常 1停用）'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''部门表'';\n\n-- 插入部门数据\nINSERT IGNORE INTO system_dept (id, name, parent_id, sort, status, creator, tenant_id) VALUES\n(100, ''若依科技'', 0, 0, 0, ''admin'', 1),\n(101, ''深圳总公司'', 100, 1, 0, ''admin'', 1),\n(102, ''长沙分公司'', 100, 2, 0, ''admin'', 1),\n(103, ''研发部门'', 101, 1, 0, ''admin'', 1),\n(104, ''市场部门'', 101, 2, 0, ''admin'', 1);\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 创建角色表\nCREATE TABLE IF NOT EXISTS system_role (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''角色ID'',\n    name varchar(30) NOT NULL COMMENT ''角色名称'',\n    code varchar(100) NOT NULL COMMENT ''角色权限字符串'',\n    sort int NOT NULL COMMENT ''显示顺序'',\n    data_scope tinyint NOT NULL DEFAULT 1 COMMENT ''数据范围（1：全部数据权限 2：自定数据权限 3：本部门数据权限 4：本部门及以下数据权限）'',\n    data_scope_dept_ids varchar(500) DEFAULT '''' COMMENT ''数据范围(指定部门数组)'',\n    status tinyint NOT NULL COMMENT ''角色状态（0正常 1停用）'',\n    type tinyint NOT NULL COMMENT ''角色类型'',\n    remark varchar(500) DEFAULT NULL COMMENT ''备注'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''角色信息表'';\n\n-- 插入角色数据\nINSERT IGNORE INTO system_role (id, name, code, sort, data_scope, status, type, remark, creator, tenant_id) VALUES\n(1, ''超级管理员'', ''super_admin'', 1, 1, 0, 1, ''超级管理员'', ''admin'', 1),\n(2, ''普通角色'', ''common'', 2, 2, 0, 1, ''普通角色'', ''admin'', 1);\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 创建用户角色关联表\nCREATE TABLE IF NOT EXISTS system_user_role (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''自增编号'',\n    user_id bigint NOT NULL COMMENT ''用户ID'',\n    role_id bigint NOT NULL COMMENT ''角色ID'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''用户和角色关联表'';\n\n-- 给admin用户分配超级管理员角色\nINSERT IGNORE INTO system_user_role (user_id, role_id, creator, tenant_id) VALUES\n(1, 1, ''admin'', 1),\n(100, 2, ''admin'', 1);\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SHOW TABLES LIKE ''%menu%'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SHOW TABLES LIKE ''%permission%'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SHOW TABLES LIKE ''%tenant%'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 创建API错误日志表\nCREATE TABLE IF NOT EXISTS infra_api_error_log (\n    id int NOT NULL AUTO_INCREMENT COMMENT ''编号'',\n    trace_id varchar(64) NOT NULL COMMENT ''链路追踪编号'',\n    user_id int NOT NULL DEFAULT 0 COMMENT ''用户编号'',\n    user_type tinyint NOT NULL DEFAULT 0 COMMENT ''用户类型'',\n    application_name varchar(50) NOT NULL COMMENT ''应用名'',\n    request_method varchar(16) NOT NULL COMMENT ''请求方法名'',\n    request_url varchar(255) NOT NULL COMMENT ''请求地址'',\n    request_params text COMMENT ''请求参数'',\n    user_ip varchar(50) NOT NULL COMMENT ''用户 IP'',\n    user_agent varchar(512) NOT NULL COMMENT ''浏览器 UA'',\n    exception_time datetime NOT NULL COMMENT ''异常发生时间'',\n    exception_name varchar(128) NOT NULL DEFAULT '''' COMMENT ''异常名'',\n    exception_message text NOT NULL COMMENT ''异常导致的消息'',\n    exception_root_cause_message text NOT NULL COMMENT ''异常导致的根消息'',\n    exception_stack_trace text NOT NULL COMMENT ''异常的栈轨迹'',\n    exception_class_name varchar(512) NOT NULL COMMENT ''异常发生的类全名'',\n    exception_file_name varchar(512) NOT NULL COMMENT ''异常发生的类文件'',\n    exception_method_name varchar(512) NOT NULL COMMENT ''异常发生的方法名'',\n    exception_line_number int NOT NULL COMMENT ''异常发生的方法所在行'',\n    process_status tinyint NOT NULL COMMENT ''处理状态'',\n    process_time datetime DEFAULT NULL COMMENT ''处理时间'',\n    process_user_id int DEFAULT 0 COMMENT ''处理用户编号'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''系统异常日志'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT username, LENGTH(password) as pwd_length FROM system_users;\")",
      "Bash(curl:*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"INSERT INTO system_users (id, username, password, nickname, dept_id, email, mobile, status, creator, tenant_id) VALUES (200, ''test'', ''$2a$10$N.ZQq9w.n8a.Mk5oqbtreOmGhKBKcUNQvs2yG0Mg60PgafDo0qoTS'', ''测试用户'', 103, ''test@test.com'', ''13800138000'', 0, ''admin'', 1) ON DUPLICATE KEY UPDATE password = ''$2a$10$N.ZQq9w.n8a.Mk5oqbtreOmGhKBKcUNQvs2yG0Mg60PgafDo0qoTS'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"INSERT INTO system_user_role (user_id, role_id, creator, tenant_id) VALUES (200, 1, ''admin'', 1) ON DUPLICATE KEY UPDATE role_id = 1;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, password, dept_id, status, deleted, tenant_id FROM system_users WHERE username=''admin'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, name FROM system_dept WHERE id=103;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"DROP DATABASE IF EXISTS \\`ruoyi-vue-pro\\`; CREATE DATABASE \\`ruoyi-vue-pro\\` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as Total_Tables FROM information_schema.tables WHERE table_schema=''ruoyi-vue-pro'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, nickname FROM system_users LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nSET NAMES utf8mb4;\nSET FOREIGN_KEY_CHECKS = 0;\n\nCREATE TABLE system_users (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''用户ID'',\n    username varchar(30) NOT NULL COMMENT ''用户账号'',\n    password varchar(100) DEFAULT '''' COMMENT ''密码'',\n    nickname varchar(30) NOT NULL COMMENT ''用户昵称'',\n    remark varchar(500) DEFAULT NULL COMMENT ''备注'',\n    dept_id bigint DEFAULT NULL COMMENT ''部门ID'',\n    post_ids varchar(255) DEFAULT NULL COMMENT ''岗位编号数组'',\n    email varchar(50) DEFAULT '''' COMMENT ''用户邮箱'',\n    mobile varchar(11) DEFAULT '''' COMMENT ''手机号码'',\n    sex tinyint DEFAULT 0 COMMENT ''用户性别'',\n    avatar varchar(512) DEFAULT '''' COMMENT ''头像地址'',\n    status tinyint NOT NULL DEFAULT 0 COMMENT ''帐号状态（0正常 1停用）'',\n    login_ip varchar(50) DEFAULT '''' COMMENT ''最后登录IP'',\n    login_date datetime DEFAULT NULL COMMENT ''最后登录时间'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id),\n    UNIQUE KEY idx_username (username, update_time, tenant_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''用户信息表'';\n\nINSERT INTO system_users (id, username, password, nickname, remark, dept_id, post_ids, email, mobile, sex, avatar, status, login_ip, login_date, creator, create_time, updater, update_time, deleted, tenant_id) VALUES \n(1, ''admin'', ''$2a$04$KljJDa/LK7QfDm0lF5OhuePhlPfjRH3tB2Wu351Uidz.oQGJXevPi'', ''芋道源码'', ''管理员'', 103, ''[1,2]'', ''11aoteman@126.com'', ''18818260277'', 2, ''http://test.yudao.iocoder.cn/test/20250502/avatar_1746154660449.png'', 0, ''0:0:0:0:0:0:0:1'', ''2025-05-10 18:03:15'', ''admin'', ''2021-01-05 17:03:47'', NULL, ''2025-05-10 18:03:15'', b''0'', 1);\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nSET NAMES utf8mb4;\n\nCREATE TABLE system_users (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''用户ID'',\n    username varchar(30) NOT NULL COMMENT ''用户账号'',\n    password varchar(100) DEFAULT '''' COMMENT ''密码'',\n    nickname varchar(30) NOT NULL COMMENT ''用户昵称'',\n    status tinyint NOT NULL DEFAULT 0 COMMENT ''帐号状态（0正常 1停用）'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''用户信息表'';\n\nINSERT INTO system_users (id, username, password, nickname, status, creator, tenant_id) VALUES \n(1, ''admin'', ''$2a$04$KljJDa/LK7QfDm0lF5OhuePhlPfjRH3tB2Wu351Uidz.oQGJXevPi'', ''Administrator'', 0, ''admin'', 1),\n(2, ''demo'', ''$2a$04$KljJDa/LK7QfDm0lF5OhuePhlPfjRH3tB2Wu351Uidz.oQGJXevPi'', ''Demo User'', 0, ''admin'', 1);\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, password, nickname FROM system_users;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) FROM system_users;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"INSERT INTO system_users (username, password, nickname, tenant_id) VALUES (''admin'', ''$2a$04$KljJDa/LK7QfDm0lF5OhuePhlPfjRH3tB2Wu351Uidz.oQGJXevPi'', ''Admin'', 1);\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 创建OAuth2访问令牌表\nCREATE TABLE IF NOT EXISTS system_oauth2_access_token (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''编号'',\n    user_id bigint NOT NULL COMMENT ''用户编号'',\n    user_type tinyint NOT NULL COMMENT ''用户类型'',\n    user_info varchar(512) NOT NULL COMMENT ''用户信息'',\n    access_token varchar(255) NOT NULL COMMENT ''访问令牌'',\n    refresh_token varchar(255) NOT NULL COMMENT ''刷新令牌'',\n    client_id varchar(255) NOT NULL COMMENT ''客户端编号'',\n    scopes varchar(255) DEFAULT NULL COMMENT ''授权范围'',\n    expires_time datetime NOT NULL COMMENT ''过期时间'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id),\n    KEY idx_access_token (access_token),\n    KEY idx_refresh_token (refresh_token)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''OAuth2 访问令牌'';\n\n-- 创建OAuth2刷新令牌表\nCREATE TABLE IF NOT EXISTS system_oauth2_refresh_token (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''编号'',\n    user_id bigint NOT NULL COMMENT ''用户编号'',\n    user_type tinyint NOT NULL COMMENT ''用户类型'',\n    refresh_token varchar(255) NOT NULL COMMENT ''刷新令牌'',\n    client_id varchar(255) NOT NULL COMMENT ''客户端编号'',\n    scopes varchar(255) DEFAULT NULL COMMENT ''授权范围'',\n    expires_time datetime NOT NULL COMMENT ''过期时间'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''OAuth2 刷新令牌'';\n\n-- 创建OAuth2客户端表\nCREATE TABLE IF NOT EXISTS system_oauth2_client (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''编号'',\n    client_id varchar(255) NOT NULL COMMENT ''客户端编号'',\n    secret varchar(255) NOT NULL COMMENT ''客户端密钥'',\n    name varchar(255) NOT NULL COMMENT ''应用名'',\n    logo varchar(255) NOT NULL COMMENT ''应用图标'',\n    description varchar(255) DEFAULT NULL COMMENT ''应用描述'',\n    status tinyint NOT NULL COMMENT ''状态'',\n    access_token_validity_seconds int NOT NULL COMMENT ''访问令牌的有效期'',\n    refresh_token_validity_seconds int NOT NULL COMMENT ''刷新令牌的有效期'',\n    redirect_uris varchar(255) NOT NULL COMMENT ''可重定向的 URI 地址'',\n    authorized_grant_types varchar(255) NOT NULL COMMENT ''授权类型'',\n    scopes varchar(255) DEFAULT NULL COMMENT ''授权范围'',\n    auto_approve_scopes varchar(255) DEFAULT NULL COMMENT ''自动通过的授权范围'',\n    authorities varchar(255) DEFAULT NULL COMMENT ''权限'',\n    resource_ids varchar(255) DEFAULT NULL COMMENT ''资源'',\n    additional_information varchar(4096) DEFAULT NULL COMMENT ''附加信息'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''OAuth2 客户端表'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 插入默认OAuth2客户端\nINSERT IGNORE INTO system_oauth2_client (id, client_id, secret, name, logo, status, access_token_validity_seconds, refresh_token_validity_seconds, redirect_uris, authorized_grant_types, creator) VALUES\n(1, ''default'', ''admin123'', ''YudaoSystem'', ''http://test.yudao.iocoder.cn/logo.png'', 0, 43200, 2592000, ''http://127.0.0.1:48080'', ''password,authorization_code,implicit,refresh_token'', ''admin'');\n\n-- 创建登录日志表\nCREATE TABLE IF NOT EXISTS system_login_log (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''访问ID'',\n    log_type bigint NOT NULL COMMENT ''日志类型'',\n    trace_id varchar(64) DEFAULT '''' COMMENT ''链路追踪编号'',\n    user_id bigint NOT NULL DEFAULT 0 COMMENT ''用户编号'',\n    user_type tinyint NOT NULL DEFAULT 0 COMMENT ''用户类型'',\n    username varchar(50) DEFAULT '''' COMMENT ''用户账号'',\n    result tinyint NOT NULL COMMENT ''登录结果'',\n    user_ip varchar(50) NOT NULL COMMENT ''用户 IP'',\n    user_agent varchar(512) NOT NULL COMMENT ''浏览器 UA'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''系统访问记录'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as Table_Count FROM information_schema.tables WHERE table_schema=''ruoyi-vue-pro'';\")",
      "Bash(dir:*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 先创建必要的部门\nCREATE TABLE IF NOT EXISTS system_dept (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''部门id'',\n    name varchar(30) NOT NULL DEFAULT '''' COMMENT ''部门名称'',\n    parent_id bigint NOT NULL DEFAULT 0 COMMENT ''父部门id'',\n    sort int NOT NULL DEFAULT 0 COMMENT ''显示顺序'',\n    status tinyint NOT NULL COMMENT ''部门状态（0正常 1停用）'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''部门表'';\n\nINSERT IGNORE INTO system_dept (id, name, parent_id, sort, status, creator, tenant_id) VALUES\n(103, ''Development Dept'', 0, 1, 0, ''admin'', 1),\n(104, ''Marketing Dept'', 0, 2, 0, ''admin'', 1);\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 删除现有用户，使用原始完整数据重新创建\nDROP TABLE system_users;\n\nCREATE TABLE system_users (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''用户ID'',\n    username varchar(30) NOT NULL COMMENT ''用户账号'',\n    password varchar(100) DEFAULT '''' COMMENT ''密码'',\n    nickname varchar(30) NOT NULL COMMENT ''用户昵称'',\n    remark varchar(500) DEFAULT NULL COMMENT ''备注'',\n    dept_id bigint DEFAULT NULL COMMENT ''部门ID'',\n    post_ids varchar(255) DEFAULT NULL COMMENT ''岗位编号数组'',\n    email varchar(50) DEFAULT '''' COMMENT ''用户邮箱'',\n    mobile varchar(11) DEFAULT '''' COMMENT ''手机号码'',\n    sex tinyint DEFAULT 0 COMMENT ''用户性别'',\n    avatar varchar(512) DEFAULT '''' COMMENT ''头像地址'',\n    status tinyint NOT NULL DEFAULT 0 COMMENT ''帐号状态（0正常 1停用）'',\n    login_ip varchar(50) DEFAULT '''' COMMENT ''最后登录IP'',\n    login_date datetime DEFAULT NULL COMMENT ''最后登录时间'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id),\n    UNIQUE KEY idx_username (username, update_time, tenant_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''用户信息表'';\n\n-- 插入原始admin用户数据（使用英文避免编码问题）\nINSERT INTO system_users (id, username, password, nickname, remark, dept_id, post_ids, email, mobile, sex, status, creator, tenant_id) VALUES \n(1, ''admin'', ''$2a$04$KljJDa/LK7QfDm0lF5OhuePhlPfjRH3tB2Wu351Uidz.oQGJXevPi'', ''Administrator'', ''System Admin'', 103, ''[1,2]'', ''admin@yudao.cn'', ''18818260277'', 2, 0, ''admin'', 1);\n\nSELECT ''User recreated'' as Status;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nCREATE TABLE IF NOT EXISTS notification_info (\n    id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT ''通知编号'',\n    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    title VARCHAR(200) NOT NULL COMMENT ''通知标题'',\n    content TEXT NOT NULL COMMENT ''通知内容'',\n    summary VARCHAR(500) COMMENT ''通知摘要'',\n    level TINYINT NOT NULL DEFAULT 3 COMMENT ''通知级别：1紧急,2重要,3常规,4提醒'',\n    status TINYINT NOT NULL DEFAULT 0 COMMENT ''通知状态：0草稿,1待审批,2已审批,3已发布,4已取消,5已过期,6已归档'',\n    category_id BIGINT COMMENT ''通知分类ID'',\n    publisher_id BIGINT NOT NULL COMMENT ''发布者ID'',\n    publisher_name VARCHAR(50) NOT NULL COMMENT ''发布者姓名'',\n    publisher_role VARCHAR(30) COMMENT ''发布者角色'',\n    scheduled_time DATETIME COMMENT ''定时发布时间'',\n    expired_time DATETIME COMMENT ''过期时间'',\n    push_channels VARCHAR(100) COMMENT ''推送渠道：1,2,5 对应 APP,SMS,SYSTEM'',\n    require_confirm TINYINT DEFAULT 0 COMMENT ''是否需要确认：0否，1是'',\n    pinned TINYINT DEFAULT 0 COMMENT ''是否置顶：0否，1是'',\n    push_count INT DEFAULT 0 COMMENT ''推送次数'',\n    read_count INT DEFAULT 0 COMMENT ''阅读次数'', \n    confirm_count INT DEFAULT 0 COMMENT ''确认次数'',\n    creator VARCHAR(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater VARCHAR(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted BIT(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    \n    INDEX idx_tenant_id (tenant_id),\n    INDEX idx_level (level),\n    INDEX idx_status (status),\n    INDEX idx_publisher_role (publisher_role),\n    INDEX idx_create_time (create_time),\n    INDEX idx_expired_time (expired_time),\n    INDEX idx_scheduled_time (scheduled_time)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''智能通知信息表'';\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nINSERT INTO notification_info \n(id, tenant_id, title, content, summary, level, status, category_id, publisher_id, publisher_name, publisher_role, scheduled_time, expired_time, push_channels, require_confirm, pinned, push_count, read_count, confirm_count, creator, updater) VALUES\n(1, 1, ''【紧急通知】校园安全警报'', ''由于天气原因，今日下午所有户外活动暂停，请全体师生注意安全，留在室内。'', ''校园安全警报通知'', 1, 3, 5, 1, ''校长办公室'', ''PRINCIPAL'', NULL, ''2024-08-10 23:59:59'', ''1,2,5'', 1, 1, 1, 25, 20, ''admin'', ''admin''),\n\n(2, 1, ''【重要通知】期末考试安排'', ''2024年秋季学期期末考试将于8月15日开始，请各位同学做好复习准备。考试时间安排请查看附件。'', ''期末考试时间安排通知'', 2, 3, 2, 100, ''教务处'', ''ACADEMIC_ADMIN'', NULL, ''2024-08-20 23:59:59'', ''1,5'', 1, 0, 2, 156, 142, ''admin'', ''admin''),\n\n(3, 1, ''课程调整通知'', ''由于教师出差，明天上午的《数据结构》课程调整到下午2点，教室不变。'', ''数据结构课程时间调整'', 3, 3, 2, 200, ''张老师'', ''TEACHER'', NULL, ''2024-08-08 23:59:59'', ''1,5'', 0, 0, 1, 45, 0, ''admin'', ''admin''),\n\n(4, 1, ''上课提醒'', ''您的《高等数学》课程将在30分钟后开始，请准备好教材和计算器。'', ''高等数学课程提醒'', 4, 3, 2, 201, ''系统自动'', ''SYSTEM'', NULL, ''2024-08-07 23:59:59'', ''1'', 0, 0, 3, 89, 0, ''system'', ''system''),\n\n(5, 1, ''【重要通知】奖学金申请开始'', ''2024年国家奖学金申请现已开放，符合条件的学生请在规定时间内提交申请材料。'', ''国家奖学金申请通知'', 2, 2, 3, 300, ''学生处'', ''STUDENT_ADMIN'', NULL, ''2024-09-15 23:59:59'', ''1,2,3,5'', 1, 1, 0, 0, 0, ''admin'', ''admin'');\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, title, level, status, publisher_name, publisher_role FROM notification_info LIMIT 10;\")",
      "Bash(taskkill:*)",
      "Bash(wmic:*)",
      "Bash(start /min mvn spring-boot:run -Dspring-boot.run.profiles=local -pl yudao-server)",
      "Bash(timeout:*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nCREATE TABLE IF NOT EXISTS infra_api_error_log (\n    id int NOT NULL AUTO_INCREMENT COMMENT ''编号'',\n    trace_id varchar(64) NOT NULL COMMENT ''链路追踪编号'',\n    user_id int NOT NULL DEFAULT 0 COMMENT ''用户编号'',\n    user_type tinyint NOT NULL DEFAULT 0 COMMENT ''用户类型'',\n    application_name varchar(50) NOT NULL COMMENT ''应用名'',\n    request_method varchar(16) NOT NULL COMMENT ''请求方法名'',\n    request_url varchar(255) NOT NULL COMMENT ''请求地址'',\n    request_params text COMMENT ''请求参数'',\n    user_ip varchar(50) NOT NULL COMMENT ''用户 IP'',\n    user_agent varchar(512) NOT NULL COMMENT ''浏览器 UA'',\n    exception_time datetime NOT NULL COMMENT ''异常发生时间'',\n    exception_name varchar(128) NOT NULL DEFAULT '''' COMMENT ''异常名'',\n    exception_message text NOT NULL COMMENT ''异常导致的消息'',\n    exception_root_cause_message text NOT NULL COMMENT ''异常导致的根消息'',\n    exception_stack_trace text NOT NULL COMMENT ''异常的栈轨迹'',\n    exception_class_name varchar(512) NOT NULL COMMENT ''异常发生的类全名'',\n    exception_file_name varchar(512) NOT NULL COMMENT ''异常发生的类文件'',\n    exception_method_name varchar(512) NOT NULL COMMENT ''异常发生的方法名'',\n    exception_line_number int NOT NULL COMMENT ''异常发生的方法所在行'',\n    process_status tinyint NOT NULL COMMENT ''处理状态'',\n    process_time datetime DEFAULT NULL COMMENT ''处理时间'',\n    process_user_id int DEFAULT 0 COMMENT ''处理用户编号'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    tenant_id bigint NOT NULL DEFAULT 0 COMMENT ''租户编号'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''系统异常日志'';\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nCREATE TABLE IF NOT EXISTS system_tenant (\n    id bigint NOT NULL AUTO_INCREMENT COMMENT ''租户编号'',\n    name varchar(30) NOT NULL COMMENT ''租户名'',\n    contact_user_id bigint DEFAULT NULL COMMENT ''联系人的用户编号'',\n    contact_name varchar(30) NOT NULL COMMENT ''联系人'',\n    contact_mobile varchar(500) DEFAULT NULL COMMENT ''联系手机'',\n    status tinyint NOT NULL DEFAULT 0 COMMENT ''租户状态（0正常 1停用）'',\n    website varchar(256) DEFAULT '''' COMMENT ''绑定域名'',\n    package_id bigint NOT NULL COMMENT ''租户套餐编号'',\n    expire_time datetime NOT NULL COMMENT ''过期时间'',\n    account_count int NOT NULL COMMENT ''账号数量'',\n    creator varchar(64) DEFAULT '''' COMMENT ''创建者'',\n    create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    updater varchar(64) DEFAULT '''' COMMENT ''更新者'',\n    update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    deleted bit(1) NOT NULL DEFAULT b''0'' COMMENT ''是否删除'',\n    PRIMARY KEY (id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''租户表'';\n\n-- 插入默认租户\nINSERT IGNORE INTO system_tenant (id, name, contact_name, contact_mobile, status, package_id, expire_time, account_count, creator) VALUES \n(1, ''默认租户'', ''管理员'', ''18888888888'', 0, 1, ''2030-12-31 23:59:59'', 10, ''admin'');\n\")",
      "Bash(start /min java:*)",
      "Bash(\"C:\\Program Files\\Java\\jdk-17\\bin\\jar.exe\" tf yudao-server.jar)",
      "Bash(jar tf:*)",
      "Bash(jar:*)",
      "Bash(pushd:*)",
      "Bash(popd:*)",
      "Bash(del /f /s /q \"D:\\ClaudeCode\\AI_Web\\yudao-boot-mini\\yudao-module-system\\src\\main\\java\\cn\\iocoder\\yudao\\module\\system\\controller\\admin\\mockschool\\*\")",
      "Bash(sed:*)",
      "Bash(start /min \"Mock-School-API\":*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"SHOW VARIABLES LIKE ''character_set%'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"SET character_set_client=utf8; SET character_set_connection=utf8; SET character_set_results=utf8; SHOW VARIABLES LIKE ''character_set%'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT userId, username, roleCode, roleName, token FROM mock_school_users LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nCREATE TABLE IF NOT EXISTS mock_school_users (\n    id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT ''主键ID'',\n    username VARCHAR(50) NOT NULL COMMENT ''用户名'',\n    user_id VARCHAR(50) NOT NULL UNIQUE COMMENT ''School系统用户ID'',\n    role_code VARCHAR(30) NOT NULL COMMENT ''角色编码'',\n    role_name VARCHAR(50) NOT NULL COMMENT ''角色名称'',\n    department_id BIGINT COMMENT ''部门ID'',\n    department_name VARCHAR(100) COMMENT ''部门名称'',\n    enabled BOOLEAN DEFAULT TRUE COMMENT ''是否启用'',\n    token VARCHAR(100) NOT NULL COMMENT ''认证Token'',\n    token_expires_at DATETIME NOT NULL COMMENT ''Token过期时间'',\n    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ''更新时间'',\n    INDEX idx_token (token),\n    INDEX idx_user_id (user_id),\n    INDEX idx_role_code (role_code)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=''Mock School 用户表'';\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nINSERT INTO mock_school_users \n(username, user_id, role_code, role_name, department_id, department_name, enabled, token, token_expires_at) \nVALUES \n(''校长张明'', ''PRINCIPAL_001'', ''PRINCIPAL'', ''校长'', 1, ''校长办公室'', TRUE, ''mock-principal-token-001'', DATE_ADD(NOW(), INTERVAL 1 YEAR)),\n(''教务处主任李华'', ''ACADEMIC_ADMIN_001'', ''ACADEMIC_ADMIN'', ''教务处主任'', 2, ''教务处'', TRUE, ''mock-academic-admin-token-001'', DATE_ADD(NOW(), INTERVAL 1 YEAR)),\n(''王老师'', ''TEACHER_001'', ''TEACHER'', ''任课教师'', 3, ''数学系'', TRUE, ''mock-teacher-token-001'', DATE_ADD(NOW(), INTERVAL 1 YEAR)),\n(''班主任刘老师'', ''CLASS_TEACHER_001'', ''CLASS_TEACHER'', ''班主任'', 4, ''高三(1)班'', TRUE, ''mock-class-teacher-token-001'', DATE_ADD(NOW(), INTERVAL 1 YEAR)),\n(''学生张三'', ''STUDENT_001'', ''STUDENT'', ''学生'', 5, ''高三(1)班'', TRUE, ''mock-student-token-001'', DATE_ADD(NOW(), INTERVAL 1 YEAR));\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nCREATE TABLE IF NOT EXISTS mock_role_permissions (\n    id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT ''主键ID'',\n    role_code VARCHAR(30) NOT NULL COMMENT ''角色编码'',\n    permission_code VARCHAR(50) NOT NULL COMMENT ''权限编码'',\n    permission_name VARCHAR(100) NOT NULL COMMENT ''权限名称'',\n    permission_level INT NOT NULL DEFAULT 4 COMMENT ''权限级别：1紧急,2重要,3常规,4提醒'',\n    target_scope VARCHAR(50) COMMENT ''目标范围'',\n    require_approval BOOLEAN DEFAULT FALSE COMMENT ''是否需要审批'',\n    approver_role VARCHAR(30) COMMENT ''审批者角色'',\n    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT ''创建时间'',\n    UNIQUE KEY uk_role_permission (role_code, permission_code),\n    INDEX idx_role_code (role_code),\n    INDEX idx_permission_level (permission_level)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=''Mock 角色权限表'';\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nINSERT INTO mock_role_permissions \n(role_code, permission_code, permission_name, permission_level, target_scope, require_approval, approver_role) \nVALUES \n-- 校长权限（最高权限）\n(''PRINCIPAL'', ''PUBLISH_EMERGENCY'', ''发布紧急通知'', 1, ''ALL_SCHOOL'', FALSE, NULL),\n(''PRINCIPAL'', ''PUBLISH_IMPORTANT'', ''发布重要通知'', 2, ''ALL_SCHOOL'', FALSE, NULL),\n(''PRINCIPAL'', ''PUBLISH_REGULAR'', ''发布常规通知'', 3, ''ALL_SCHOOL'', FALSE, NULL),\n(''PRINCIPAL'', ''PUBLISH_REMINDER'', ''发布提醒通知'', 4, ''ALL_SCHOOL'', FALSE, NULL),\n\n-- 教务处主任权限\n(''ACADEMIC_ADMIN'', ''PUBLISH_IMPORTANT'', ''发布重要通知'', 2, ''ALL_SCHOOL'', TRUE, ''PRINCIPAL''),\n(''ACADEMIC_ADMIN'', ''PUBLISH_REGULAR'', ''发布常规通知'', 3, ''ALL_SCHOOL'', FALSE, NULL),\n(''ACADEMIC_ADMIN'', ''PUBLISH_REMINDER'', ''发布提醒通知'', 4, ''ALL_SCHOOL'', FALSE, NULL),\n\n-- 任课教师权限\n(''TEACHER'', ''PUBLISH_REGULAR'', ''发布常规通知'', 3, ''DEPARTMENT'', FALSE, NULL),\n(''TEACHER'', ''PUBLISH_REMINDER'', ''发布提醒通知'', 4, ''CLASS'', FALSE, NULL),\n\n-- 班主任权限\n(''CLASS_TEACHER'', ''PUBLISH_REGULAR'', ''发布常规通知'', 3, ''CLASS'', FALSE, NULL),\n(''CLASS_TEACHER'', ''PUBLISH_REMINDER'', ''发布提醒通知'', 4, ''CLASS'', FALSE, NULL),\n\n-- 学生权限（只能查看）\n(''STUDENT'', ''VIEW_NOTIFICATIONS'', ''查看通知'', 4, ''SELF'', FALSE, NULL);\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"DESCRIBE mock_role_permissions;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nINSERT IGNORE INTO mock_role_permissions \n(role_code, permission_code, permission_name, description, notification_levels, target_scope, approval_required) \nVALUES \n-- 校长权限（最高权限）\n(''PRINCIPAL'', ''PUBLISH_EMERGENCY'', ''发布紧急通知'', ''可发布紧急级别通知到全校'', ''1'', ''ALL_SCHOOL'', 0),\n(''PRINCIPAL'', ''PUBLISH_IMPORTANT'', ''发布重要通知'', ''可发布重要级别通知到全校'', ''1,2'', ''ALL_SCHOOL'', 0),\n(''PRINCIPAL'', ''PUBLISH_REGULAR'', ''发布常规通知'', ''可发布常规级别通知到全校'', ''1,2,3'', ''ALL_SCHOOL'', 0),\n(''PRINCIPAL'', ''PUBLISH_REMINDER'', ''发布提醒通知'', ''可发布所有级别通知到全校'', ''1,2,3,4'', ''ALL_SCHOOL'', 0),\n\n-- 教务处主任权限\n(''ACADEMIC_ADMIN'', ''PUBLISH_IMPORTANT'', ''发布重要通知'', ''发布重要通知需校长审批'', ''2'', ''ALL_SCHOOL'', 1),\n(''ACADEMIC_ADMIN'', ''PUBLISH_REGULAR'', ''发布常规通知'', ''可直接发布常规通知'', ''2,3'', ''ALL_SCHOOL'', 0),\n(''ACADEMIC_ADMIN'', ''PUBLISH_REMINDER'', ''发布提醒通知'', ''可发布提醒通知'', ''2,3,4'', ''ALL_SCHOOL'', 0),\n\n-- 任课教师权限\n(''TEACHER'', ''PUBLISH_REGULAR'', ''发布常规通知'', ''可发布系内常规通知'', ''3'', ''DEPARTMENT'', 0),\n(''TEACHER'', ''PUBLISH_REMINDER'', ''发布提醒通知'', ''可发布课程提醒'', ''3,4'', ''CLASS'', 0),\n\n-- 班主任权限\n(''CLASS_TEACHER'', ''PUBLISH_REGULAR'', ''发布常规通知'', ''可发布班级常规通知'', ''3'', ''CLASS'', 0),\n(''CLASS_TEACHER'', ''PUBLISH_REMINDER'', ''发布提醒通知'', ''可发布班级提醒'', ''3,4'', ''CLASS'', 0),\n\n-- 学生权限（只能查看）\n(''STUDENT'', ''VIEW_NOTIFICATIONS'', ''查看通知'', ''只能查看通知'', ''4'', ''SELF'', 0);\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT userId, username, roleCode, roleName, token FROM mock_school_users LIMIT 3;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"DESCRIBE mock_school_users;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT user_id, username, role_code, role_name, token FROM mock_school_users LIMIT 3;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, user_id, role_code, token, token_expires_at, enabled FROM mock_school_users LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, token, token_expires_at, NOW() as current_time, CASE WHEN token_expires_at > NOW() THEN ''VALID'' ELSE ''EXPIRED'' END as status FROM mock_school_users WHERE token=''mock-principal-token-001'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, token, token_expires_at, NOW() as current_time FROM mock_school_users WHERE token=''mock-principal-token-001'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, token, token_expires_at, NOW() FROM mock_school_users WHERE token=''mock-principal-token-001'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"UPDATE mock_school_users SET token_expires_at = DATE_ADD(NOW(), INTERVAL 1 DAY) WHERE id=1; SELECT id, username, token, token_expires_at FROM mock_school_users WHERE id=1;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SHOW COLUMNS FROM mock_school_users;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, permission_code, notification_levels, target_scope FROM mock_role_permissions LIMIT 10;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, permission_code, permission_name FROM mock_role_permissions WHERE permission_name IS NULL LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, role_code, permission_code, permission_name, notification_levels, target_scope, approval_required FROM mock_role_permissions WHERE role_code=''PRINCIPAL'' LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, role_code, permission_code, create_time FROM mock_role_permissions WHERE create_time IS NULL OR create_time = ''0000-00-00 00:00:00'' LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, role_code, permission_code, create_time FROM mock_role_permissions WHERE create_time IS NULL LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"UPDATE mock_role_permissions SET create_time = NOW() WHERE create_time = ''0000-00-00 00:00:00.000000'' OR create_time IS NULL;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"DELETE FROM mock_role_permissions; INSERT INTO mock_role_permissions (role_code, permission_code, permission_name, notification_levels, target_scope, approval_required, create_time) VALUES (''PRINCIPAL'', ''PUBLISH_EMERGENCY'', ''发布紧急通知'', ''1'', ''ALL_SCHOOL'', 0, NOW()), (''PRINCIPAL'', ''PUBLISH_IMPORTANT'', ''发布重要通知'', ''1,2'', ''ALL_SCHOOL'', 0, NOW()), (''PRINCIPAL'', ''PUBLISH_REGULAR'', ''发布常规通知'', ''1,2,3'', ''ALL_SCHOOL'', 0, NOW()), (''PRINCIPAL'', ''PUBLISH_REMINDER'', ''发布提醒通知'', ''1,2,3,4'', ''ALL_SCHOOL'', 0, NOW()), (''TEACHER'', ''PUBLISH_REGULAR'', ''发布常规通知'', ''3'', ''DEPARTMENT'', 0, NOW()), (''TEACHER'', ''PUBLISH_REMINDER'', ''发布提醒通知'', ''3,4'', ''CLASS'', 0, NOW()), (''STUDENT'', ''VIEW_NOTIFICATIONS'', ''查看通知'', ''4'', ''SELF'', 0, NOW());\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, role_code, permission_code, permission_name, notification_levels, target_scope, create_time FROM mock_role_permissions LIMIT 10;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, permission_code, notification_levels, target_scope, approval_required FROM mock_role_permissions WHERE role_code=''STUDENT'';\")",
      "Bash(start /min \"Main-Notification-Service\" mvn spring-boot:run:*)",
      "Bash(mysql:*)",
      "Bash(tasklist:*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, user_id, token FROM mock_school_users;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, user_id, token FROM mock_school_users WHERE token LIKE ''%001'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 标准化Token命名，使用统一的前缀和格式\nUPDATE mock_school_users SET \n    token = CONCAT(''YD_SCHOOL_'', UPPER(role_code), ''_'', RIGHT(user_id, 3))\nWHERE id IN (1,2,3,4,5);\n\n-- 查看更新结果\nSELECT id, user_id, role_code, token FROM mock_school_users;\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT * FROM mock_school_users WHERE role_code=''ACADEMIC_ADMIN'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, permission_code, notification_levels, target_scope, approval_required FROM mock_role_permissions WHERE role_code=''ACADEMIC_ADMIN'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 为教务主任添加权限配置\nINSERT INTO mock_role_permissions \n(role_code, permission_code, permission_name, notification_levels, target_scope, approval_required, create_time) \nVALUES \n-- 教务主任权限配置\n(''ACADEMIC_ADMIN'', ''PUBLISH_IMPORTANT'', ''发布重要通知'', ''2'', ''ALL_SCHOOL'', 1, NOW()),\n(''ACADEMIC_ADMIN'', ''PUBLISH_REGULAR'', ''发布常规通知'', ''2,3'', ''ALL_SCHOOL'', 0, NOW()),\n(''ACADEMIC_ADMIN'', ''PUBLISH_REMINDER'', ''发布提醒通知'', ''2,3,4'', ''ALL_SCHOOL'', 0, NOW());\n\n-- 查看添加结果\nSELECT role_code, permission_code, notification_levels, target_scope, approval_required FROM mock_role_permissions WHERE role_code=''ACADEMIC_ADMIN'';\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, permission_code FROM mock_role_permissions WHERE role_code=''CLASS_TEACHER'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 为班主任添加权限配置\nINSERT INTO mock_role_permissions \n(role_code, permission_code, permission_name, notification_levels, target_scope, approval_required, create_time) \nVALUES \n-- 班主任权限配置\n(''CLASS_TEACHER'', ''PUBLISH_REGULAR'', ''发布常规通知'', ''3'', ''CLASS'', 0, NOW()),\n(''CLASS_TEACHER'', ''PUBLISH_REMINDER'', ''发布提醒通知'', ''3,4'', ''CLASS'', 0, NOW());\n\n-- 查看所有角色的权限配置\nSELECT role_code, COUNT(*) as permission_count FROM mock_role_permissions GROUP BY role_code ORDER BY role_code;\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 显示所有用户的完整信息\nSELECT \n    id,\n    username,\n    user_id, \n    role_code,\n    role_name,\n    department_name,\n    enabled,\n    token\nFROM mock_school_users \nORDER BY id;\n\")",
      "Bash(start /min mvn spring-boot:run -Dspring-boot.run.profiles=local -pl yudao-mock-school-api)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as User_Count FROM mock_school_users; SELECT COUNT(*) as Permission_Count FROM mock_role_permissions;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, COUNT(*) as permissions FROM mock_role_permissions GROUP BY role_code;\")",
      "Bash(cmd:*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"SELECT ''MySQL连接正常'' as Status, VERSION() as MySQL_Version;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"SHOW DATABASES LIKE ''ruoyi-vue-pro'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as Table_Count FROM information_schema.tables WHERE table_schema=''ruoyi-vue-pro'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT ''notification_info'' as Table_Name, COUNT(*) as Record_Count FROM notification_info UNION ALL SELECT ''system_users'', COUNT(*) FROM system_users UNION ALL SELECT ''mock_school_users'', COUNT(*) FROM mock_school_users UNION ALL SELECT ''mock_role_permissions'', COUNT(*) FROM mock_role_permissions;\")",
      "Bash(start /min:*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, name, contact_name FROM system_tenant;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, permission_code, notification_levels, target_scope, approval_required FROM mock_role_permissions WHERE role_code IN (''ACADEMIC_ADMIN'', ''CLASS_TEACHER'') ORDER BY role_code;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 修复教务主任权限配置：重要通知需要审批\nUPDATE mock_role_permissions \nSET approval_required = 1 \nWHERE role_code = ''ACADEMIC_ADMIN'' AND permission_code = ''PUBLISH_IMPORTANT'';\n\n-- 查看修复结果\nSELECT role_code, permission_code, notification_levels, target_scope, approval_required \nFROM mock_role_permissions \nWHERE role_code = ''ACADEMIC_ADMIN'' \nORDER BY permission_code;\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 检查approval_required字段的数据类型\nDESCRIBE mock_role_permissions;\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 使用正确的bit类型语法修复教务主任权限配置\nUPDATE mock_role_permissions \nSET approval_required = b''1'' \nWHERE role_code = ''ACADEMIC_ADMIN'' AND permission_code = ''PUBLISH_IMPORTANT'';\n\n-- 查看修复结果，使用+0将bit转换为数字显示\nSELECT \n    role_code, \n    permission_code, \n    notification_levels, \n    target_scope, \n    approval_required+0 as approval_required_value\nFROM mock_role_permissions \nWHERE role_code IN (''ACADEMIC_ADMIN'', ''CLASS_TEACHER'') \nORDER BY role_code, permission_code;\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 检查班主任当前权限配置是否完整\nSELECT \n    u.username,\n    u.role_code,\n    u.role_name,\n    COUNT(p.permission_code) as permission_count\nFROM mock_school_users u\nLEFT JOIN mock_role_permissions p ON u.role_code = p.role_code\nWHERE u.role_code = ''CLASS_TEACHER''\nGROUP BY u.username, u.role_code, u.role_name;\n\n-- 查看班主任具体权限详情\nSELECT \n    role_code,\n    permission_code,\n    permission_name,\n    notification_levels,\n    target_scope,\n    approval_required+0 as approval_required_value\nFROM mock_role_permissions \nWHERE role_code = ''CLASS_TEACHER'';\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"SELECT ''MySQL连接正常'' as Status, VERSION() as MySQL_Version;\")",
      "Bash(start cmd:*)",
      "Bash(D:ClaudeCodeAI_Webscriptsdeploymentstart_server.bat)",
      "Bash(start \"\" cmd /k \"call D:\\ClaudeCode\\AI_Web\\scripts\\deployment\\start_mock_api.bat\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nSELECT \n    u.username,\n    u.role_code,\n    p.permission_code,\n    p.notification_levels,\n    p.target_scope,\n    p.approval_required+0 as approval_required\nFROM mock_school_users u\nJOIN mock_role_permissions p ON u.role_code = p.role_code\nWHERE u.role_code IN (''ACADEMIC_ADMIN'', ''CLASS_TEACHER'')\nORDER BY u.role_code, p.permission_code;\n\")",
      "Bash(start \"\" cmd /k \"call D:\\ClaudeCode\\AI_Web\\scripts\\deployment\\start_all_services.bat\")",
      "Bash(del:*)",
      "Bash(start \"\" cmd /c \"D:\\ClaudeCode\\AI_Web\\scripts\\deployment\\start_all_services_complete.bat\")",
      "Bash(start:*)",
      "Bash(chmod:*)",
      "Bash(echo:*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT ''MySQL连接正常'' as Status, COUNT(*) as Active_Services FROM information_schema.PROCESSLIST WHERE COMMAND != ''Sleep'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT ''MySQL连接正常'' as Status, COUNT(*) as Active_Services FROM information_schema.PROCESSLIST WHERE COMMAND != ''Sleep'';\")",
      "WebFetch(domain:doc.iocoder.cn)",
      "Bash(git clone:*)",
      "Bash(npm config:*)",
      "Bash(npm install:*)",
      "Bash(pnpm install:*)",
      "Bash(npm run dev:*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, name FROM system_tenant;\")",
      "Bash(TASKKILL /F /PID 17660)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, password, status FROM system_users WHERE username=''admin'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, LENGTH(password) as pwd_length FROM system_users WHERE username=''admin'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, password, LENGTH(password) as pwd_length FROM system_users WHERE username=''admin'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, password, LENGTH(password) as pwd_length FROM system_users WHERE username=''admin'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SHOW TABLES LIKE ''%oauth%'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, client_id, secret, status FROM system_oauth2_client LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SHOW TABLES LIKE ''%role%'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, user_id, role_code FROM mock_school_users;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"INSERT INTO mock_school_users (username, user_id, role_code, role_name, department_id, department_name, enabled, token, token_expires_at) VALUES (''admin'', ''ADMIN_001'', ''ADMIN'', ''系统管理员'', 1, ''系统管理部门'', 1, ''YD_SCHOOL_ADMIN_001'', DATE_ADD(NOW(), INTERVAL 1 DAY)) ON DUPLICATE KEY UPDATE username=''admin'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, user_id, role_code FROM mock_school_users WHERE username=''admin'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"USE ruoyi_vue_pro; CREATE TABLE IF NOT EXISTS infra_api_access_log (id bigint NOT NULL AUTO_INCREMENT, trace_id varchar(64) NOT NULL DEFAULT '''', user_id bigint NOT NULL DEFAULT 0, user_type tinyint NOT NULL DEFAULT 0, application_name varchar(50) NOT NULL, request_method varchar(16) NOT NULL, request_url varchar(255) NOT NULL, request_params text, user_ip varchar(50) NOT NULL, user_agent varchar(512) NOT NULL, begin_time datetime NOT NULL, end_time datetime NOT NULL, duration int NOT NULL, result_code int NOT NULL DEFAULT 0, result_msg varchar(512) DEFAULT '''', creator varchar(64) DEFAULT '''', create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, updater varchar(64) DEFAULT '''', update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, deleted bit(1) NOT NULL DEFAULT b''0'', tenant_id bigint NOT NULL DEFAULT 0, PRIMARY KEY (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''API访问日志表'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"USE \\`ruoyi-vue-pro\\`; CREATE TABLE IF NOT EXISTS infra_api_access_log (id bigint NOT NULL AUTO_INCREMENT, trace_id varchar(64) NOT NULL DEFAULT '''', user_id bigint NOT NULL DEFAULT 0, user_type tinyint NOT NULL DEFAULT 0, application_name varchar(50) NOT NULL, request_method varchar(16) NOT NULL, request_url varchar(255) NOT NULL, request_params text, user_ip varchar(50) NOT NULL, user_agent varchar(512) NOT NULL, begin_time datetime NOT NULL, end_time datetime NOT NULL, duration int NOT NULL, result_code int NOT NULL DEFAULT 0, result_msg varchar(512) DEFAULT '''', creator varchar(64) DEFAULT '''', create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, updater varchar(64) DEFAULT '''', update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, deleted bit(1) NOT NULL DEFAULT b''0'', tenant_id bigint NOT NULL DEFAULT 0, PRIMARY KEY (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''API访问日志表'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"CREATE TABLE IF NOT EXISTS infra_api_access_log (id bigint NOT NULL AUTO_INCREMENT, trace_id varchar(64) NOT NULL DEFAULT '''', user_id bigint NOT NULL DEFAULT 0, user_type tinyint NOT NULL DEFAULT 0, application_name varchar(50) NOT NULL, request_method varchar(16) NOT NULL, request_url varchar(255) NOT NULL, request_params text, user_ip varchar(50) NOT NULL, user_agent varchar(512) NOT NULL, begin_time datetime NOT NULL, end_time datetime NOT NULL, duration int NOT NULL, result_code int NOT NULL DEFAULT 0, result_msg varchar(512) DEFAULT '''', creator varchar(64) DEFAULT '''', create_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, updater varchar(64) DEFAULT '''', update_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, deleted bit(1) NOT NULL DEFAULT b''0'', tenant_id bigint NOT NULL DEFAULT 0, PRIMARY KEY (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=''API访问日志表'';\")",
      "Bash(TASKKILL /F /PID 14008)",
      "Bash(cp:*)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, user_id, role_code, enabled, token_expires_at FROM mock_school_users WHERE username=''admin'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT username, user_id, role_code FROM mock_school_users;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, user_id, role_code, role_name FROM mock_school_users LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro --default-character-set=utf8 -e \"SELECT id, username, user_id, role_code, role_name FROM mock_school_users LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro --default-character-set=utf8 -e \"SELECT user_id, username FROM mock_school_users WHERE role_code=''PRINCIPAL'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro --default-character-set=utf8 -e \"SELECT user_id, username FROM mock_school_users WHERE role_code=''TEACHER'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root -e \"SELECT ''MySQL连接正常'' as Status, VERSION() as MySQL_Version;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as Table_Count FROM information_schema.tables WHERE table_schema=''ruoyi-vue-pro'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"DESCRIBE notification_info;\")",
      "Bash(TASKKILL /F /PID 18064)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT username, user_id, role_code FROM mock_school_users LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"DESCRIBE system_users;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT * FROM mock_role_permissions LIMIT 3;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT * FROM mock_school_users LIMIT 3;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as Table_Count FROM information_schema.tables WHERE table_schema=''ruoyi-vue-pro'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SHOW TABLES LIKE ''%notification%'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as record_count FROM notification_info;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, user_id, role_code, role_name FROM mock_school_users LIMIT 10;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro --default-character-set=utf8 -e \"SELECT id, username, user_id, role_code, role_name FROM mock_school_users LIMIT 10;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, permission_code, notification_levels, target_scope, approval_required+0 as approval_required FROM mock_role_permissions WHERE role_code=''TEACHER'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, username, user_id, role_code, role_name FROM mock_school_users WHERE role_code=''TEACHER'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nUPDATE mock_role_permissions \nSET notification_levels = ''3'' \nWHERE role_code = ''TEACHER'' AND permission_code = ''PUBLISH_REGULAR'';\n\nUPDATE mock_role_permissions \nSET notification_levels = ''3,4'' \nWHERE role_code = ''TEACHER'' AND permission_code = ''PUBLISH_REMINDER'';\n\n-- 查看更新结果\nSELECT role_code, permission_code, notification_levels, target_scope, approval_required+0 as approval_required \nFROM mock_role_permissions \nWHERE role_code = ''TEACHER''\nORDER BY permission_code;\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\nSELECT \n    id,\n    role_code, \n    permission_code, \n    permission_name,\n    notification_levels, \n    target_scope, \n    approval_required+0 as approval_required \nFROM mock_role_permissions \nWHERE role_code=''TEACHER''\nORDER BY permission_code;\n\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, permission_code, notification_levels, target_scope, approval_required+0 as approval_required FROM mock_role_permissions WHERE role_code IN (''TEACHER'', ''CLASS_TEACHER'') ORDER BY role_code, permission_code;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"UPDATE mock_school_users SET username=''Principal-Zhang'', role_name=''Principal'' WHERE user_id=''PRINCIPAL_001'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"UPDATE mock_school_users SET username=''Director-Li'', role_name=''Academic Director'' WHERE user_id=''ACADEMIC_ADMIN_001'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"UPDATE mock_school_users SET username=''Teacher-Wang'', role_name=''Teacher'' WHERE user_id=''TEACHER_001'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"UPDATE mock_school_users SET username=''Student-Zhang'', role_name=''Student'' WHERE user_id=''STUDENT_001'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT user_id, username, role_code, role_name FROM mock_school_users LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"UPDATE mock_school_users SET username=''ClassTeacher-Liu'', role_name=''Class Teacher'' WHERE user_id=''CLASS_TEACHER_001'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as total_count FROM notification_info; SELECT id, title, publisher_name, publisher_role FROM notification_info WHERE id=6;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as total_count FROM notification_info; SELECT id, title, publisher_name, publisher_role, create_time FROM notification_info ORDER BY id DESC LIMIT 3;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"\n-- 模拟API调用的数据库插入\nINSERT INTO notification_info (tenant_id, title, content, level, status, publisher_id, publisher_name, publisher_role, creator) VALUES \n(1, ''Principal Level 3 Test via API'', ''Testing principal publishing level 3 notification'', 3, 3, 999, ''Principal-Zhang'', ''PRINCIPAL'', ''api-test''),\n(1, ''Teacher Level 3 Test via API'', ''Testing teacher publishing level 3 notification'', 3, 3, 999, ''Teacher-Wang'', ''TEACHER'', ''api-test''),\n(1, ''Academic Director Level 1 Test - Pending Approval'', ''Testing academic director publishing level 1 notification'', 1, 2, 999, ''Director-Li'', ''ACADEMIC_ADMIN'', ''api-test'');\n\nSELECT ''Inserted records:'' as Result;\nSELECT COUNT(*) as New_Total FROM notification_info;\nSELECT id, title, level, status, publisher_name, publisher_role FROM notification_info WHERE creator=''api-test'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, title, level, status, publisher_name, publisher_role, create_time FROM notification_info WHERE id >= 7 ORDER BY id;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as final_count FROM notification_info;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT user_id, username, role_code FROM mock_school_users LIMIT 5;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as total_count FROM notification_info; SELECT id, title, publisher_name, publisher_role, create_time FROM notification_info ORDER BY id DESC LIMIT 3;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT role_code, permission_code, notification_levels, target_scope, approval_required+0 as approval_required FROM mock_role_permissions WHERE role_code=''STUDENT'';\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT COUNT(*) as total_count FROM notification_info; SELECT id, title, publisher_name, publisher_role, level, create_time FROM notification_info WHERE publisher_role=''STUDENT'' ORDER BY id DESC LIMIT 3;\")",
      "Bash(for i in {1..3})",
      "Bash(do echo \"通知发布测试$i:\")",
      "Bash(time:*)",
      "Bash(done)",
      "Bash(do echo \"通知列表查询测试$i:\")",
      "Bash(for i in {1..5})",
      "Bash(do echo \"Test $i:\")",
      "Bash(do echo \"Authentication Test $i:\")",
      "Bash(do echo \"List Query Test $i:\")",
      "Bash(node:*)",
      "Bash(powershell:*)",
      "Bash(python:*)",
      "WebFetch(domain:localhost)",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, title, level, status, publisher_name, publisher_role, approval_status, create_time FROM notification_info WHERE status = 2 OR approval_status = ''PENDING_APPROVAL'' ORDER BY create_time DESC LIMIT 10;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, title, level, status, publisher_name, publisher_role, create_time FROM notification_info ORDER BY create_time DESC LIMIT 15;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, title, level, status, publisher_name, publisher_role, create_time FROM notification_info WHERE publisher_role=''ACADEMIC_ADMIN'' OR publisher_name LIKE ''%Director%'' ORDER BY create_time DESC LIMIT 10;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, title, level, status, publisher_name, publisher_role, approval_status, create_time FROM notification_info WHERE id=125;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro -e \"SELECT id, title, level, status, publisher_name, publisher_role, approval_status, approver_id, approver_name, approval_time, approval_comment FROM notification_info WHERE id=125;\")",
      "Bash(\"C:\\tools\\mysql\\current\\bin\\mysql.exe\" -u root ruoyi-vue-pro --default-character-set=utf8mb4 -e \"SELECT id, title, publisher_name, publisher_role, create_time FROM notification_info ORDER BY id DESC LIMIT 3;\")",
      "Bash(move:*)"
    ],
    "deny": []
  }
}