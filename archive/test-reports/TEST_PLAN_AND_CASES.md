# 📋 哈尔滨信息工程学院校园门户系统 - 测试计划与测试用例

## 🎯 测试范围与策略

### **系统概述**
- **项目**: 哈尔滨信息工程学院校园门户系统
- **技术栈**: Vue 3 + TypeScript + Element Plus + Spring Boot
- **核心功能**: 智能通知工作台、用户认证、权限管理
- **用户群体**: 学生(85%) + 教师(12%) + 管理员(3%)
- **测试日期**: 2025年8月13日
- **测试工程师**: Claude QA Assistant
- **测试类型**: 功能测试、性能测试、安全测试、兼容性测试、用户体验测试

### **测试策略**
- **功能测试**: 核心业务功能验证
- **性能测试**: 大量数据处理和响应时间
- **安全测试**: 认证授权和数据安全
- **兼容性测试**: 多浏览器和移动端适配
- **用户体验测试**: 特别关注学生用户群体  

---

## 📱 功能测试用例

### **1. 用户登录认证测试**

#### **Test Case 1.1: 正常登录流程**
- **测试描述**: 验证用户使用正确凭据登录
- **前置条件**: 用户未登录状态
- **测试步骤**:
  1. 访问登录页面
  2. 输入有效的工号、姓名、密码
  3. 点击登录按钮
  4. 验证跳转到首页
- **预期结果**: 
  - 登录成功，跳转到首页
  - 顶部显示用户信息和角色
  - localStorage存储Token和用户信息
- **优先级**: 高

#### **Test Case 1.2: 登录失败处理**
- **测试数据**: 
  ```
  错误工号: INVALID_USER
  错误密码: wrongpassword
  ```
- **预期结果**: 显示错误提示，不跳转页面

#### **Test Case 1.3: Token过期处理**
- **测试描述**: 验证Token过期后的处理机制
- **测试步骤**:
  1. 模拟Token过期(修改localStorage中的Token)
  2. 刷新页面或进行API操作
  3. 验证是否跳转到登录页
- **预期结果**: 自动跳转到登录页面

### **2. 智能通知工作台测试**

#### **Test Case 2.1: 通知分级显示**
- **测试描述**: 验证通知按级别正确分类显示
- **测试数据**: 包含Level 1-4各级别通知
- **验证点**:
  - Level 1通知显示为红色紧急样式
  - Level 2通知显示为橙色重要样式  
  - Level 3通知显示为蓝色常规样式
  - Level 4通知在专门区域显示
- **优先级**: 高

#### **Test Case 2.2: 已读状态管理**
- **测试描述**: 验证已读/未读状态的正确切换
- **测试步骤**:
  1. 点击未读通知的"已读"按钮
  2. 验证通知从优先级区域移至归档区域
  3. 点击"撤销已读"按钮
  4. 验证通知重新回到优先级区域
- **预期结果**: 状态切换流畅，UI实时更新

#### **Test Case 2.3: 一次遍历分类算法性能**
- **测试描述**: 验证大量通知数据的分类性能
- **测试数据**: 1000条不同级别的通知
- **性能指标**: 分类处理时间 < 100ms
- **验证方法**: 使用performance.now()测量处理时间

### **3. 权限验证测试**

#### **Test Case 3.1: 角色权限矩阵验证**
- **测试用户角色**:
  ```
  校长: PRINCIPAL_001 + Principal-Zhang + admin123
  教务主任: ACADEMIC_ADMIN_001 + Director-Li + admin123  
  教师: TEACHER_001 + Teacher-Wang + admin123
  学生: STUDENT_001 + Student-Zhang + admin123
  ```

#### **Test Case 3.2: 通知可见性验证**
- **测试描述**: 验证不同角色用户看到的通知范围
- **验证矩阵**:
  | 用户角色 | Level 1 | Level 2 | Level 3 | Level 4 |
  |----------|---------|---------|---------|---------|
  | 学生 | ✅全部 | ✅相关范围 | ✅相关范围 | ✅全部 |
  | 教师 | ✅全部 | ✅相关范围 | ✅相关范围 | ✅全部 |
  | 管理员 | ✅全部 | ✅全部 | ✅全部 | ✅全部 |

### **4. API接口测试**

#### **Test Case 4.1: 通知列表API**
- **接口**: `GET /admin-api/test/notification/api/list`
- **测试参数**:
  ```json
  {
    "pageNo": 1,
    "pageSize": 20,
    "level": 2
  }
  ```
- **验证点**:
  - 响应状态码200
  - 返回数据结构正确
  - 分页参数有效
  - 筛选条件生效

#### **Test Case 4.2: 认证API**
- **接口**: `POST /mock-school-api/auth/authenticate`
- **测试数据**:
  ```json
  {
    "employeeId": "STUDENT_001",
    "name": "Student-Zhang", 
    "password": "admin123"
  }
  ```
- **验证点**:
  - JWT Token格式正确
  - Token包含用户角色信息
  - Token过期时间合理

---

## ⚡ 性能测试用例

### **Test Case P1: 页面加载性能**
- **测试指标**:
  - 首屏渲染时间 < 2秒
  - 完全加载时间 < 5秒
  - 交互响应时间 < 100ms
- **测试工具**: Lighthouse, WebPageTest
- **测试环境**: 3G网络条件下

### **Test Case P2: 大量通知处理性能**
- **测试场景**: 加载1000+条通知数据
- **性能指标**:
  - 数据获取时间 < 2秒
  - 列表渲染时间 < 500ms
  - 滚动流畅度 > 60fps
  - 内存使用量 < 100MB

### **Test Case P3: 并发用户测试**
- **测试场景**: 100个并发用户同时访问
- **测试指标**:
  - 服务器响应时间 < 500ms
  - 错误率 < 1%
  - CPU使用率 < 80%

---

## 🛡️ 安全测试用例

### **Test Case S1: 认证安全测试**
- **测试项目**:
  - SQL注入防护
  - XSS攻击防护
  - CSRF攻击防护
  - JWT Token安全性

#### **S1.1: SQL注入测试**
- **测试数据**:
  ```
  用户名: admin'; DROP TABLE users; --
  密码: ' OR '1'='1
  ```
- **预期结果**: 系统正常处理，不执行恶意SQL

#### **S1.2: XSS攻击测试**
- **测试数据**:
  ```html
  通知标题: <script>alert('XSS')</script>
  通知内容: <img src=x onerror=alert('XSS')>
  ```
- **预期结果**: 脚本被过滤或转义，不执行

### **Test Case S2: 数据安全测试**
- **测试项目**:
  - localStorage数据加密
  - 敏感信息泄露检查
  - API接口安全验证

---

## 📱 兼容性测试用例

### **Test Case C1: 浏览器兼容性**
- **测试浏览器**:
  - Chrome (最新版本 + 前2个版本)
  - Firefox (最新版本 + 前2个版本)
  - Safari (最新版本 + 前1个版本)
  - Edge (最新版本)
- **测试项目**:
  - 页面布局正确
  - 功能交互正常
  - CSS样式显示正确

### **Test Case C2: 移动端适配**
- **测试设备**:
  - iPhone 12/13/14 (Safari)
  - Samsung Galaxy S21/22 (Chrome)
  - 小米/华为主流机型
- **测试分辨率**:
  - 320x568 (iPhone SE)
  - 375x812 (iPhone X系列)
  - 414x896 (iPhone Plus系列)
- **验证点**:
  - 响应式布局正确
  - 触摸操作流畅
  - 字体大小合适
  - 按钮间距充足

---

## 👥 用户体验测试用例

### **Test Case UX1: 学生用户核心流程**
- **用户画像**: 大一新生，手机端使用为主
- **测试场景**:
  1. 首次登录系统
  2. 查看紧急通知
  3. 标记通知已读
  4. 查看课程安排
  5. 查看待办事务

#### **UX1.1: 新手引导测试**
- **验证点**:
  - 界面布局清晰易懂
  - 重要信息突出显示
  - 操作流程简单直观

#### **UX1.2: 信息获取效率**
- **测试指标**:
  - 紧急通知查看时间 < 10秒
  - 课程信息获取时间 < 15秒
  - 整体任务完成时间 < 2分钟

### **Test Case UX2: 教师用户工作流程**
- **用户画像**: 中年教师，桌面端和手机端并用
- **测试场景**:
  1. 查看全校通知
  2. 按级别筛选通知
  3. 查看详细内容
  4. 管理已读状态

### **Test Case UX3: 管理员用户管理流程**
- **用户画像**: 管理人员，主要使用桌面端
- **测试场景**:
  1. 查看所有级别通知
  2. 系统公告管理
  3. 用户权限验证
  4. 数据统计查看

---

## 🔧 自动化测试方案

### **单元测试**
- **测试框架**: Vitest + Vue Test Utils
- **覆盖率要求**: > 80%
- **重点测试**:
  - useNotificationReadStatus Composable
  - 通知分类算法
  - API调用服务

### **集成测试**
- **测试框架**: Cypress
- **测试场景**:
  - 登录到首页完整流程
  - 通知操作端到端流程
  - API交互集成测试

### **性能监控**
- **工具**: Lighthouse CI
- **指标监控**:
  - Core Web Vitals
  - Bundle Size
  - Runtime Performance

---

## 📊 测试执行计划

### **测试阶段**
1. **单元测试**: 开发过程中持续执行
2. **功能测试**: 功能开发完成后执行
3. **集成测试**: 所有功能集成后执行
4. **性能测试**: 测试环境部署后执行
5. **用户体验测试**: Beta版本发布前执行

### **测试环境**
- **开发环境**: 本地开发测试
- **测试环境**: 模拟生产环境配置
- **预生产环境**: 与生产环境一致的配置
- **生产环境**: 线上监控和回归测试

### **缺陷管理**
- **P0 (阻塞)**: 24小时内修复
- **P1 (严重)**: 72小时内修复
- **P2 (一般)**: 1周内修复
- **P3 (建议)**: 下个版本修复

### **测试完成标准**
- ✅ 所有P0、P1缺陷修复
- ✅ 功能测试通过率 > 95%
- ✅ 性能指标达到要求
- ✅ 安全测试无高危漏洞
- ✅ 用户体验测试满意度 > 85%

---

## 🎯 特殊关注点

### **学生用户体验优化**
- **简化操作流程**: 最多3步完成主要任务
- **重要信息突出**: 考试、课程变更等关键信息醒目显示
- **移动端优先**: 保证手机端使用体验流畅

### **系统稳定性保障**
- **降级方案**: API失败时本地数据展示
- **错误恢复**: 异常状态自动修复机制
- **性能监控**: 实时监控关键性能指标

### **数据一致性验证**
- **状态同步**: 已读状态多端同步
- **权限验证**: 角色权限严格控制
- **数据完整性**: 关键数据备份和校验

---

## 📊 **质量保证复审总览** (基于实际代码分析)

经过对当前Vue 3校园门户系统的全面分析，以下是质量评估结果：

| 测试类别 | 评分 | 主要发现 | 状态 |
|---------|------|----------|------|
| 代码质量和架构 | 8.5/10 | Composable模式优秀，需要组件拆分 | ✅ 良好 |
| 类型安全和错误处理 | 7.5/10 | TypeScript使用好，需要加强类型守卫 | ⚠️ 需改进 |
| 用户体验和交互 | 9.0/10 | 智能工作台设计卓越，交互流畅 | 🌟 优秀 |
| 性能和内存优化 | 8.0/10 | 一次遍历算法优秀，需要优化内存管理 | ✅ 良好 |
| 安全性和数据一致性 | 7.0/10 | 基础安全措施到位，需加强数据保护 | ⚠️ 需改进 |
| **总体评分** | **8.0/10** | **生产就绪，建议优化后发布** | ✅ **通过** |

### **主要亮点**
- 🚀 **革命性智能工作台**: 一次遍历多重分类算法，性能卓越
- 🎨 **清新学院风UI**: 渐变背景+毛玻璃效果+动画交互
- 📱 **响应式设计**: 完善的移动端适配
- 🔧 **Composable架构**: 状态管理逻辑抽取优秀

### **需要改进的问题**
1. **Home.vue组件过大**: 1300+行代码，建议拆分
2. **类型安全风险**: 部分any类型使用，需要类型守卫
3. **内存管理**: saveTimeout需要组件销毁时清理
4. **安全性**: localStorage敏感数据存储，需要加密

---

**📅 测试计划制定时间**: 2025年8月13日
**📋 测试负责人**: QA团队
**🔄 计划更新频率**: 每周更新测试进度和发现的问题

**📞 问题反馈**: 发现任何测试问题或建议，请及时反馈给开发团队进行优化。